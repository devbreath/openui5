sap.ui.define(["sap/ui/webc/common/thirdparty/base/UI5Element","sap/ui/webc/common/thirdparty/base/renderer/LitRenderer","sap/ui/webc/common/thirdparty/base/Keys","sap/ui/webc/common/thirdparty/base/i18nBundle","sap/ui/webc/common/thirdparty/base/types/Integer","sap/ui/webc/common/thirdparty/base/types/Float","./generated/i18n/i18n-defaults","./generated/templates/RatingIndicatorTemplate.lit","./Icon","sap/ui/webc/common/thirdparty/icons/favorite","sap/ui/webc/common/thirdparty/icons/unfavorite","./generated/themes/RatingIndicator.css"],function(e,t,i,a,s,n,r,l,u,o,d,h){"use strict";function c(e){return e&&typeof e==="object"&&"default"in e?e["default"]:e}var f=c(e);var p=c(t);var v=c(s);var g=c(n);const m={tag:"ui5-rating-indicator",languageAware:true,properties:{value:{type:g,defaultValue:0},max:{type:v,defaultValue:5},disabled:{type:Boolean},readonly:{type:Boolean},accessibleName:{type:String,defaultValue:undefined},_stars:{type:Object,multiple:true},_focused:{type:Boolean}},slots:{},events:{change:{}}};class y extends f{static get metadata(){return m}static get render(){return p}static get styles(){return h}static get template(){return l}static async onDefine(){y.i18nBundle=await a.getI18nBundle("@ui5/webcomponents")}static get dependencies(){return[u]}constructor(){super();this._liveValue=null}onBeforeRendering(){this.calcState()}calcState(){this._stars=[];for(let e=1;e<this.max+1;e++){const t=Math.round((this.value-Math.floor(this.value))*10);let i=false,a=this.value;if(Math.floor(this.value)+1===e&&t>2&&t<8){i=true}else if(t<=2){a=Math.floor(this.value)}else if(t>=8){a=Math.ceil(this.value)}this._stars.push({selected:e<=a,index:e,halfStar:i})}}_onclick(e){if(this.disabled||this.readonly){return}this.value=parseInt(e.target.getAttribute("data-ui5-value"));if(this.value===1&&this._liveValue===1){this.value=0}if(this._liveValue!==this.value){this.fireEvent("change");this._liveValue=this.value}}_onkeydown(e){if(this.disabled||this.readonly){return}const t=i.isDown(e)||i.isLeft(e);const a=i.isRight(e)||i.isUp(e);const s=i.isSpace(e)||i.isEnter(e);const n=i.isHome(e);const r=i.isEnd(e);const l=e.keyCode>=48&&e.keyCode<=57||e.keyCode>=96&&e.keyCode<=105;if(t||a||s||n||r||l){e.preventDefault();if(t&&this.value>0){this.value=Math.round(this.value-1)}else if(a&&this.value<this.max){this.value=Math.round(this.value+1)}else if(s){const e=Math.round(this.value+1);this.value=e>this.max?0:e}else if(n){this.value=0}else if(r){this.value=this.max}else if(l){const t=parseInt(e.key);this.value=t>this.max?this.max:t}this.fireEvent("change")}}_onfocusin(){if(this.disabled){return}this._focused=true;this._liveValue=this.value}_onfocusout(){this._focused=false}get tabIndex(){return this.disabled?"-1":"0"}get tooltip(){return this.getAttribute("title")||this.defaultTooltip}get defaultTooltip(){return y.i18nBundle.getText(r.RATING_INDICATOR_TOOLTIP_TEXT)}get _ariaRoleDescription(){return y.i18nBundle.getText(r.RATING_INDICATOR_TEXT)}get _ariaDisabled(){return this.disabled||undefined}get ariaReadonly(){return this.readonly?"true":undefined}}y.define();return y});
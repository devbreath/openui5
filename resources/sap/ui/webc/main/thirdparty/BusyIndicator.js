sap.ui.define(["sap/ui/webc/common/thirdparty/base/UI5Element","sap/ui/webc/common/thirdparty/base/renderer/LitRenderer","sap/ui/webc/common/thirdparty/base/i18nBundle","sap/ui/webc/common/thirdparty/base/Keys","sap/ui/webc/common/thirdparty/base/types/Integer","./types/BusyIndicatorSize","./Label","./generated/templates/BusyIndicatorTemplate.lit","./generated/i18n/i18n-defaults","./generated/themes/BusyIndicator.css"],function(e,t,i,s,r,n,a,u,o,d){"use strict";function c(e){return e&&typeof e==="object"&&"default"in e?e["default"]:e}var y=c(e);var l=c(t);var h=c(r);const p={tag:"ui5-busy-indicator",altTag:"ui5-busyindicator",languageAware:true,slots:{default:{type:Node}},properties:{text:{type:String},size:{type:n,defaultValue:n.Medium},active:{type:Boolean},delay:{type:h,defaultValue:1e3},_isBusy:{type:Boolean}}};class m extends y{constructor(){super();this._keydownHandler=this._handleKeydown.bind(this);this._preventEventHandler=this._preventEvent.bind(this)}onEnterDOM(){this.addEventListener("keydown",this._keydownHandler,{capture:true});this.addEventListener("keyup",this._preventEventHandler,{capture:true})}onExitDOM(){if(this._busyTimeoutId){clearTimeout(this._busyTimeoutId);delete this._busyTimeoutId}this.removeEventListener("keydown",this._keydownHandler,true);this.removeEventListener("keyup",this._preventEventHandler,true)}static get metadata(){return p}static get styles(){return d}static get render(){return l}static get template(){return u}static get dependencies(){return[a]}static async onDefine(){m.i18nBundle=await i.getI18nBundle("@ui5/webcomponents")}get ariaTitle(){return m.i18nBundle.getText(o.BUSY_INDICATOR_TITLE)}get labelId(){return this.text?`${this._id}-label`:undefined}get classes(){return{root:{"ui5-busy-indicator-root":true}}}onBeforeRendering(){if(this.active){if(!this._isBusy&&!this._busyTimeoutId){this._busyTimeoutId=setTimeout(()=>{delete this._busyTimeoutId;this._isBusy=true},Math.max(0,this.delay))}}else{if(this._busyTimeoutId){clearTimeout(this._busyTimeoutId);delete this._busyTimeoutId}this._isBusy=false}}_handleKeydown(e){if(!this._isBusy){return}e.stopImmediatePropagation();if(s.isTabNext(e)){this.focusForward=true;this.shadowRoot.querySelector("[data-ui5-focus-redirect]").focus();this.focusForward=false}}_preventEvent(e){if(this._isBusy){e.stopImmediatePropagation()}}_redirectFocus(e){if(this.focusForward){return}e.preventDefault();this.shadowRoot.querySelector(".ui5-busy-indicator-busy-area").focus()}}m.define();return m});
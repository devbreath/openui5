//@ui5-bundle sap/ui/integration/library-preload.js
/*!
 * OpenUI5
 * (c) Copyright 2009-2022 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.predefine('sap/ui/integration/ActionDefinition',["sap/m/library","sap/ui/core/Element"],function(l,E){"use strict";var B=l.ButtonType;
var A=E.extend("sap.ui.integration.ActionDefinition",{metadata:{library:"sap.ui.integration",properties:{type:{type:"sap.ui.integration.CardActionType"},text:{type:"string",defaultValue:""},icon:{type:"sap.ui.core.URI"},buttonType:{type:"sap.m.ButtonType",defaultValue:B.Transparent},enabled:{type:"boolean",defaultValue:true},visible:{type:"boolean",defaultValue:true},parameters:{type:"object"}},events:{press:{}},associations:{_menuButton:{type:"sap.m.Button",multiple:false,visibility:"hidden"}}}});
return A;});
sap.ui.predefine('sap/ui/integration/Designtime',["sap/ui/base/ManagedObject"],function(M){"use strict";
var D=M.extend("sap.ui.integration.Designtime",{
metadata:{library:"sap.ui.integration"},
constructor:function(s){M.apply(this);this.settings=s||(this.create&&this.create())||{};}
});
D.prototype.init=function(){this._oCard=null;};
D.prototype.exit=function(){this._oCard=null;};
D.prototype.onCardReady=function(c,i){this._oCard=c;this._oInternalCardInstance=i;};
D.prototype._readyPromise=function(c,i){this.onCardReady(c,i);return Promise.resolve();};
D.prototype.getCard=function(){return this._oCard;};
D.prototype.getSettings=function(){return this.settings;};
return D;});
sap.ui.predefine('sap/ui/integration/Extension',["sap/ui/integration/library","sap/base/Log","sap/ui/base/ManagedObject"],function(l,L,M){"use strict";
var E=M.extend("sap.ui.integration.Extension",{metadata:{library:"sap.ui.integration",properties:{actions:{type:"sap.ui.integration.CardMenuAction[]",deprecated:true},formatters:{type:"object"}},events:{action:{allowPreventDefault:true,parameters:{card:{type:"sap.ui.core.Control"},actionConfig:{type:'object'},actionSource:{type:"sap.ui.core.Control"},parameters:{type:"object"},type:{type:"sap.ui.integration.CardActionType"}}}}}});
E.prototype.init=function(){this._oCardInterface=null;this._oCard=null;};
E.prototype.exit=function(){this._oCardInterface=null;this._oCard=null;};
E.prototype.setActions=function(a){this.setProperty("actions",a);if(this._oCard){this._oCard._refreshActionsMenu();}};
E.prototype.setFormatters=function(f){this.setProperty("formatters",f);if(!this._oCard){return;}if(!this._oCard._bApplyManifest||this._oCard.getAggregation("_extension")!==this){L.error("Extension formatters must be set before the initialization of the card. Do this inside Extension#init().");}};
E.prototype.onCardReady=function(){};
E.prototype.getCard=function(){return this._oCardInterface;};
E.prototype._setCard=function(c,C){this._oCard=c;this._oCardInterface=C;};
return E;});
sap.ui.predefine('sap/ui/integration/Host',["sap/ui/integration/library",'sap/ui/core/Element'],function(l,E){"use strict";
var H=E.extend("sap.ui.integration.Host",{metadata:{library:"sap.ui.integration",properties:{actions:{type:"sap.ui.integration.CardMenuAction[]"},resolveDestination:{type:"function",invalidate:false,parameters:{destinationName:{type:"string"},card:{type:"sap.ui.integration.widgets.Card"}}}},events:{action:{allowPreventDefault:true,parameters:{card:{type:"sap.ui.core.Control"},actionConfig:{type:'object'},actionSource:{type:"sap.ui.core.Control"},parameters:{type:"object"},type:{type:"sap.ui.integration.CardActionType"}}},cardConfigurationChange:{parameters:{card:{type:"sap.ui.core.Control"},changes:{type:"object"}}},message:{parameters:{data:{type:'object'}}}}}});
H.prototype.init=function(){this._handlePostMessageBound=this._handlePostMessage.bind(this);};
H.prototype.getDestination=function(d,c){var r=this.getResolveDestination(),R;if(typeof r!=="function"){return Promise.reject("Could not resolve destination '"+d+"'. There is no 'resolveDestination' callback function configured in the host.");}R=r(d,c);if(R===null||R===undefined){return Promise.reject("Destination '"+d+"' could not be resolved by the host.");}if(R instanceof Promise){return R;}return Promise.resolve(R);};
H.prototype.getCsrfToken=function(c){return Promise.resolve();};
H.prototype.csrfTokenFetched=function(c,p){};
H.prototype.csrfTokenExpired=function(c){};
H.prototype.getContextValue=function(p){if(!p){return Promise.resolve(null);}return Promise.resolve(null);};
H.prototype.getDestinations=function(){return Promise.resolve([]);};
H.prototype.getContexts=function(){return Promise.resolve({});};
H.prototype.useExperimentalCaching=function(){this.bUseExperimentalCaching=true;this.subscribeForMessages();};
H.prototype.stopUsingExperimentalCaching=function(){this.bUseExperimentalCaching=false;this.unsubscribeForMessages();};
H.prototype.modifyRequestHeaders=function(h,s,c){if(this.bUseExperimentalCaching){return this._prepareCacheHeaders(h,s);}return h;};
H.prototype._prepareCacheHeaders=function(h,s){var c=s.request.cache,C=[];if(c.enabled===false){C.push("max-age=0");C.push("no-store");}else{C.push("max-age="+parseInt(c.maxAge||0));if(c.staleWhileRevalidate){C.push("x-stale-while-revalidate");}}if(C.length){h["Cache-Control"]=C.join(", ");}h["x-sap-card"]="true";h["x-use-cryptocache"]="true";return h;};
H.prototype.subscribeForMessages=function(){if(!navigator||!navigator.serviceWorker){return;}navigator.serviceWorker.addEventListener("message",this._handlePostMessageBound);};
H.prototype.unsubscribeForMessages=function(){if(!navigator||!navigator.serviceWorker){return;}navigator.serviceWorker.removeEventListener("message",this._handlePostMessageBound);};
H.prototype._handlePostMessage=function(e){this.fireMessage({data:e.data});};
return H;});
sap.ui.predefine('sap/ui/integration/bindingFeatures/DateRange',["sap/ui/core/date/UniversalDateUtils","sap/base/Log"],function(U,L){"use strict";var D={start:function(t,v){var r=this._getRange(t,v);if(!r){return null;}return r[0];},end:function(t,v){var r=this._getRange(t,v);if(!r){return null;}return r[1];},_getRange:function(t,v){var g=U.ranges[t];if(!g){L.error("The requested date range type '"+t+"' is not found","sap.ui.integration.widgets.Card");return null;}return g(v);}};return D;});
sap.ui.predefine('sap/ui/integration/cards/AdaptiveContent',["sap/ui/integration/library","sap/ui/core/library","sap/ui/dom/includeScript","sap/ui/integration/cards/BaseContent","sap/ui/integration/cards/adaptivecards/elements/hostConfig","sap/m/VBox","sap/ui/core/HTML","sap/ui/core/Core","sap/ui/model/json/JSONModel","sap/base/Log"],function(l,c,i,B,h,V,H,C,J,L){"use strict";var A,a,M,U,b,d,e,f,g,j;var k=c.MessageType;
var m=B.extend("sap.ui.integration.cards.AdaptiveContent",{
metadata:{library:"sap.ui.integration"},
renderer:{apiVersion:2,render:function(r,o){var p=B.getMetadata().getRenderer();return p.render.apply(this,arguments);}}
});
m.prototype.init=function(){B.prototype.init.apply(this,arguments);this.setComponentsReady(false);this._bAdaptiveCardElementsReady=false;this._setupCardContent();C.attachThemeChanged(function(){this._adjustHostConfig();this.invalidate();}.bind(this));};
m.prototype.onAfterRendering=function(){this._renderMSCardContent(this._oCardTemplate||this._oCardConfig);};
m.prototype.loadDependencies=function(o){this._loadWebcomponents();var p=[];p.push(new Promise(function(r,n){sap.ui.require(["sap/ui/integration/thirdparty/adaptivecards","sap/ui/integration/thirdparty/adaptivecards-templating","sap/ui/integration/cards/adaptivecards/elements/UI5InputText","sap/ui/integration/cards/adaptivecards/elements/UI5InputNumber","sap/ui/integration/cards/adaptivecards/elements/UI5InputChoiceSet","sap/ui/integration/cards/adaptivecards/elements/UI5InputTime","sap/ui/integration/cards/adaptivecards/elements/UI5InputDate","sap/ui/integration/cards/adaptivecards/elements/UI5InputToggle","sap/ui/integration/cards/adaptivecards/overwrites/ActionRender"],function(_,q,s,t,u,v,w,x,y){A=_;a=q;U=s;b=t;d=u;e=v;f=w;g=x;j=y;this._setupAdaptiveCardDependency();r();}.bind(this),n);}.bind(this)));if(o.get("/sap.card/configuration/enableMarkdown")){p.push(new Promise(function(r,n){sap.ui.require(["sap/ui/integration/thirdparty/markdown-it"],function(_){M=_;r();},n);}));}return Promise.all(p);};
m.prototype._setupCardContent=function(){var o=new H(this.getId()+"content",{preferDOM:false,content:"<div>&nbsp;</div>"});this.setAggregation("_content",new V({items:[o]}));};
m.prototype.setConfiguration=function(o){this._oCardConfig=o;if(o&&o.request&&o.request.url){this._loadManifestFromUrl(o.request.url);return;}this._handleMarkDown();this._setupMSCardContent();};
m.prototype.getConfiguration=function(){return this._oCardConfig;};
m.prototype._handleMarkDown=function(){var t=this;A.AdaptiveCard.onProcessMarkdown=function(T,r){var o=t.getParent(),E=o&&o.getManifestEntry("/sap.card/configuration/enableMarkdown");if(E){r.outputHtml=new M().render(T);r.didProcess=true;return r;}};};
m.prototype._loadManifestFromUrl=function(u){var D=new J(),t=this;D.loadData(u).then(function(){t._oCardConfig=Object.assign(t._oCardConfig,D.getData());}).then(function(){t._handleMarkDown();t._setupMSCardContent();}).then(function(){D.destroy();D=null;}).catch(function(){L.error("No JSON file found on this URL. Please provide a correct path to the JSON-serialized card object model file.");});};
m.prototype._setupAdaptiveCardDependency=function(){this.adaptiveCardInstance=new A.AdaptiveCard();this._doMSCardsOverwrites();this._adjustHostConfig();this._handleActions();this._replaceElements();this._isRtl();};
m.prototype._doMSCardsOverwrites=function(){A.Action.prototype.render=j;};
m.prototype._adjustHostConfig=function(){this.adaptiveCardInstance.hostConfig=new A.HostConfig(h());};
m.prototype._isRtl=function(){this.adaptiveCardInstance.isRtl=function(){return C.getConfiguration().getRTL();};};
m.prototype._handleActions=function(){this.adaptiveCardInstance.onExecuteAction=function(o){var t,p,n;if(o instanceof A.OpenUrlAction){p={url:o.url};t=l.CardActionType.Navigation;}else if(o instanceof A.SubmitAction){this.getModel("form").setProperty("/",o.data);t=l.CardActionType.Submit;}else{return;}n=this.getActions();if(n){n.fireAction(this,t,p);}}.bind(this);};
m.prototype.onActionSubmitStart=function(F){this.getParent().setBusy(true);};
m.prototype.onActionSubmitEnd=function(r,E){var R=C.getLibraryResourceBundle("sap.ui.integration"),s=E?R.getText("CARDS_ADAPTIVE_ACTION_SUBMIT_ERROR"):R.getText("CARDS_ADAPTIVE_ACTION_SUBMIT_SUCCESS"),n=E?k.Error:k.Success;this.showMessage(s,n);this.getParent().setBusy(false);};
m.prototype._replaceElements=function(){A.GlobalRegistry.elements.unregister("Input.Text");A.GlobalRegistry.elements.register("Input.Text",U);A.GlobalRegistry.elements.unregister("Input.Number");A.GlobalRegistry.elements.register("Input.Number",b);A.GlobalRegistry.elements.unregister("Input.ChoiceSet");A.GlobalRegistry.elements.register("Input.ChoiceSet",d);A.GlobalRegistry.elements.unregister("Input.Time");A.GlobalRegistry.elements.register("Input.Time",e);A.GlobalRegistry.elements.unregister("Input.Date");A.GlobalRegistry.elements.register("Input.Date",f);A.GlobalRegistry.elements.unregister("Input.Toggle");A.GlobalRegistry.elements.register("Input.Toggle",g);};
m.prototype.setCardDataProvider=function(D){this._oCardDataProvider=D;};
m.prototype._setupMSCardContent=function(){var o=this._oCardConfig,n,p=this._oCardDataProvider;if(!this.adaptiveCardInstance||!o){return;}n=o.$data||o.data;if(!n&&!p){this._oCardTemplate=null;this._renderMSCardContent(o);return;}if(o.$data){n={"json":n};}this._setDataConfiguration(n);};
m.prototype.onDataChanged=function(){var p=this.getBindingContext().getPath(),D=this.getModel().getProperty(p);this._oCardTemplate=this._setTemplating(this._oCardConfig,D);this.getAggregation("_loadingProvider").setLoading(false);this.invalidate();};
m.prototype._renderMSCardContent=function(o){var D=this.getAggregation("_content").getItems()[0].$(),I=!!this.isLoading();this.setBusy(I);this.getAggregation("_content").toggleStyleClass("sapFCardContentHidden",I);if(this.adaptiveCardInstance&&o&&D.length){this.adaptiveCardInstance.parse(o);D.html(this.adaptiveCardInstance.render());this._bAdaptiveCardElementsReady=true;this._fireCardReadyEvent();if(this.adaptiveCardInstance.renderedElement){this.adaptiveCardInstance.renderedElement.tabIndex=-1;}}};
m.prototype._fireCardReadyEvent=function(){if(this._bAdaptiveCardElementsReady&&this.getComponentsReady()){this._bReady=true;this.fireReady();}};
m.prototype._setTemplating=function(t,D){var o=new a.Template(t);return o.expand({$root:D});};
m.prototype._loadWebcomponents=function(){if(this.getComponentsReady()){L.debug("WebComponents were already loaded");this._fireCardReadyEvent();return;}setTimeout(function(){if(!window.customElements.get("ui5-button")){i({id:"webcomponents-bundle",attributes:{type:"module"},url:sap.ui.require.toUrl("sap/ui/integration/thirdparty/webcomponents/bundle.esm.js")});}this.setComponentsReady(true);this._fireCardReadyEvent();}.bind(this));};
m.prototype.setComponentsReady=function(v){this._bComponentsReady=v;return this;};
m.prototype.getComponentsReady=function(){return!!this._bComponentsReady;};
return m;});
sap.ui.predefine('sap/ui/integration/cards/AnalyticalContent',["./AnalyticalContentRenderer","./BaseContent","sap/ui/integration/library","sap/ui/integration/util/BindingResolver","sap/base/Log","sap/base/util/merge","sap/ui/core/Core"],function(A,B,l,a,L,m,C){"use strict";var b=l.CardActionArea;var V,F,c,P;var d={"Top":"top","Bottom":"bottom","Left":"left","Right":"right"};var e={"TopLeft":"topLeft","Center":"center"};var T={"Left":"left","Center":"center","Right":"right"};var f={"Line":"line","StackedColumn":"stacked_column","StackedBar":"stacked_bar","Donut":"donut"};var g={"Chart":"Chart","Full":"Full"};
var h=B.extend("sap.ui.integration.cards.AnalyticalContent",{
metadata:{library:"sap.ui.integration"},
renderer:A
});
h.prototype.exit=function(){B.prototype.exit.apply(this,arguments);if(this._oPopover){this._oPopover.destroy();}};
h.prototype.loadDependencies=function(o){return new Promise(function(r,i){C.loadLibrary("sap.viz",{async:true}).then(function(){sap.ui.require(["sap/viz/ui5/controls/VizFrame","sap/viz/ui5/controls/common/feeds/FeedItem","sap/viz/ui5/controls/Popover","sap/viz/ui5/data/FlattenedDataset"],function(_,j,k,n){V=_;F=j;P=k;c=n;r();},function(E){i(E);});}).catch(function(){i("Analytical content type is not available with this distribution.");});});};
h.prototype.onDataChanged=function(){this._createChart();var o=this.getAggregation("_content");if(o){var v=o._getVizDataset(),n=v&&v._FlatTableD&&v._FlatTableD._data&&Array.isArray(v._FlatTableD._data)&&(!v._FlatTableD._data.length);if(n){this.getParent()._handleError("No data available",true);}}};
h.prototype._createChart=function(){var o=this.getParsedConfiguration();if(!o.chartType){L.error("\"sap.card\".content.chartType is mandatory property.",null,"sap.ui.integration.widgets.Card");return;}var r=a.resolveValue(o,this,"/");var i=new V({uiConfig:{applicationSet:"fiori"},height:"100%",width:"100%",vizType:f[r.chartType]||r.chartType,vizProperties:this._getVizProperties(r),dataset:this._getDataset(o,r),feeds:this._getFeeds(r)});this.setAggregation("_content",i);this._attachActions(o);if(r.popover&&r.popover.active){this._attachPopover();}};
h.prototype._attachActions=function(o){var i={area:b.Content,actions:o.actions,control:this};if(o.actionableArea===g.Chart){i.eventName="selectData";i.actionControl=this.getAggregation("_content");this._oActions.setBindingPathResolver(function(E){var I=E.getParameter("data")[0].data._context_row_number;return this.getBindingContext().getPath()+"/"+I;}.bind(this));}else{i.eventName="press";}this._oActions.attach(i);};
h.prototype._attachPopover=function(){if(this._oPopover){this._oPopover.destroy();}this._oPopover=new P();this._oPopover.connect(this.getAggregation("_content").getVizUid());};
h.prototype._getVizProperties=function(r){if(!r){return null;}var t=r.title,o=r.legend,p=r.plotArea;var v={title:{style:{fontWeight:"normal"},layout:{respectPlotPosition:false}},legend:{},legendGroup:{layout:{}},plotArea:{window:{start:"firstDataPoint",end:"lastDataPoint"}},categoryAxis:{title:{}},valueAxis:{title:{}},interaction:{noninteractiveMode:true}};if(r.actions||r.popover){var i=r.actionableArea===g.Chart||r.popover&&r.popover.active;v.interaction.noninteractiveMode=!i;}if(t){v.title.text=t.text;v.title.visible=t.visible;v.title.alignment=T[t.alignment];L.warning("\"sap.card\".content.title is deprecated. Use \"sap.card\".content.chartProperties instead",null,"sap.ui.integration.widgets.Card");}if(o){v.legend.visible=o.visible;v.legendGroup.layout.position=d[o.position];v.legendGroup.layout.alignment=e[o.alignment];L.warning("\"sap.card\".content.legend is deprecated. Use \"sap.card\".content.chartProperties instead",null,"sap.ui.integration.widgets.Card");}if(p){if(p.dataLabel){v.plotArea.dataLabel=p.dataLabel;}if(p.categoryAxisText){v.categoryAxis.title.visible=p.categoryAxisText.visible;}if(p.valueAxisText){v.valueAxis.title.visible=p.valueAxisText.visible;}L.warning("\"sap.card\".content.plotArea is deprecated. Use \"sap.card\".content.chartProperties instead",null,"sap.ui.integration.widgets.Card");}m(v,r.chartProperties);return v;};
h.prototype._getDataset=function(o,r){var M,D;if(o.dimensions){D=o.dimensions.map(function(j,i){return{name:r.dimensions[i].name||r.dimensions[i].label,value:j.value,displayValue:j.displayValue,dataType:j.dataType};});}if(o.measures){M=o.measures.map(function(j,i){return{name:r.measures[i].name||r.measures[i].label,value:j.value};});}return new c({measures:M,dimensions:D,data:{path:this.getBindingContext().getPath()}});};
h.prototype._getFeeds=function(r){var i=r.feeds;if(r.measureAxis||r.dimensionAxis){L.warning("\"sap.card\".content.measureAxis and \"sap.card\".content.dimensionAxis are deprecated. Use \"sap.card\".content.feeds instead",null,"sap.ui.integration.widgets.Card");i=[{uid:r.measureAxis,type:"Measure",values:r.measures.map(function(M){return M.label;})},{uid:r.dimensionAxis,type:"Dimension",values:r.dimensions.map(function(D){return D.label;})}];}return i.map(function(o){return new F(o);});};
return h;});
sap.ui.predefine('sap/ui/integration/cards/AnalyticalContentRenderer',["./BaseContentRenderer"],function(B){"use strict";
var A=B.extend("sap.ui.integration.cards.AnalyticalContentRenderer",{
apiVersion:2,
MIN_ANALYTICAL_CONTENT_HEIGHT:"14rem"
});
A.getMinHeight=function(c,C){if(c.minHeight){return c.minHeight;}return A.MIN_ANALYTICAL_CONTENT_HEIGHT;};
return A;});
sap.ui.predefine('sap/ui/integration/cards/AnalyticsCloudContent',["./AnalyticsCloudContentRenderer","./BaseContent","sap/ui/integration/library","sap/ui/core/HTML","sap/ui/integration/util/BindingResolver","sap/base/Log"],function(A,B,l,H,a,L){"use strict";var b=l.CardActionArea;
var c=B.extend("sap.ui.integration.cards.AnalyticsCloudContent",{
metadata:{library:"sap.ui.integration"},
renderer:A
});
c.prototype.init=function(){B.prototype.init.apply(this,arguments);var i=this.getId()+"-highchartContainer";this._oHighchartContainer=new H(i,{content:"<div id="+i+" class='sapFCardAnalyticsCloudContentHCC'></div>"});this.setAggregation("_content",this._oHighchartContainer);};
c.prototype.exit=function(){B.prototype.exit.apply(this,arguments);if(this._oHighchart){this._oHighchart.destroy();this._oHighchart=null;}if(this._oHighchartContainer){this._oHighchartContainer.destroy();this._oHighchartContainer=null;}};
c.prototype.loadDependencies=function(C){return this._loadHighcharts();};
c.prototype.setConfiguration=function(C){B.prototype.setConfiguration.apply(this,arguments);C=this.getParsedConfiguration();this.fireEvent("_actionContentReady");this._oActions.attach({area:b.Content,actions:C.actions,control:this});};
c.prototype.onAfterRendering=function(){this._createHighchart();};
c.prototype._loadHighcharts=function(){var C=this.getCardInstance(),d=c.SAC_DESTINATION_KEY,p=C.resolveDestination(d);return p.then(function(u){return c.loadHighcharts(u);},function(r){return Promise.reject("Destination with key '"+d+"' is required for AnalyticsCloud card. It could not be resolved. Reason: '"+r+"'");});};
c.prototype._createHighchart=function(){if(this._bIsBeingDestroyed){return;}var C=this.getCardInstance(),o=this.getParsedConfiguration(),d=this.getBindingContext(),p,e;if(!C.isReady()){C.attachEventOnce("_ready",this._createHighchart,this);return;}if(!window.Highcharts){this.handleError("There was a problem with loading Highcharts library. Could not initialize AnalyticsCloud card content.");return;}if(!this._oHighchartContainer){L.error("Highcharts container is not created or destroyed.");return;}if(d){p=d.getPath();}e=a.resolveValue(o.options,this,p);this._oHighchart=new window.Highcharts.Chart(this._oHighchartContainer.getId(),e);};
c.SAC_DESTINATION_KEY="sac";c.HIGHCHART_MODULES={"highcharts/highstock":{amd:true,exports:'Highcharts'},"highcharts/highcharts-more":{deps:["highcharts/highstock"]},"highcharts/solid-gauge":{deps:["highcharts/highstock"]},"highcharts/histogram-bellcurve":{deps:["highcharts/highstock"]},"highcharts/no-data-to-display":{deps:["highcharts/highstock"]},"highcharts/wordcloud":{deps:["highcharts/highstock"]},"highcharts/variable-pie":{deps:["highcharts/highstock"]},"highcharts/heatmap":{deps:["highcharts/highstock"]},"highcharts/treemap":{deps:["highcharts/highstock"]},"highcharts/variwide":{deps:["highcharts/highstock"]},"highcharts/pattern-fill":{deps:["highcharts/highstock"]},"highcharts/highcharts-3d":{deps:["highcharts/highstock"]},"highcharts/grouped-categories":{deps:["highcharts/highstock"]}};
c.loadHighcharts=function(s){var S=s.trim().replace(/\/$/,""),f=S,i=this._isHighchartsIncluded(f),I=this._isHighchartsIncludedByThirdParty();if(i){return this._pLoadModules;}if(I){return Promise.resolve();}this._sIncludedFrom=f;this._pLoadModules=this._loadModules(f);return this._pLoadModules;};
c._isHighchartsIncluded=function(s){var i=this._sIncludedFrom;if(i&&i===s){return true;}if(i&&i!==s){L.warning("Highcharts library is already included from '"+i+"'. The included version will be used and will not load from '"+s+"'","sap.ui.integration.widgets.Card#AnalyticsCloud");return true;}return false;};
c._isHighchartsIncludedByThirdParty=function(){if(window.Highcharts){L.warning("Highcharts library is already included on the page. The included version will be used and will not load another one.","sap.ui.integration.widgets.Card#AnalyticsCloud");return true;}return false;};
c._loadModules=function(s){var S=this.HIGHCHART_MODULES,m=Object.getOwnPropertyNames(S);sap.ui.loader.config({paths:{"highcharts":s+"/highcharts"},async:true,shim:S});return this._require(m).catch(function(){return Promise.reject("There was a problem with loading of the Highcharts library files.");});};
c._require=function(m){return new Promise(function(r,R){sap.ui.require(m,function(){r(arguments);},function(e){R(e);});});};
return c;});
sap.ui.predefine('sap/ui/integration/cards/AnalyticsCloudContentRenderer',["./BaseContentRenderer"],function(B){"use strict";
var A=B.extend("sap.ui.integration.cards.AnalyticsCloudContentRenderer",{
apiVersion:2,
MIN_ANALYTICS_CLOUD_CONTENT_HEIGHT:"14rem"
});
A.getMinHeight=function(c,C){if(c.minHeight){return c.minHeight;}return A.MIN_ANALYTICS_CLOUD_CONTENT_HEIGHT;};
return A;});
sap.ui.predefine('sap/ui/integration/cards/BaseContent',["./BaseContentRenderer","sap/m/MessageStrip","sap/m/VBox","sap/m/library","sap/ui/core/Core","sap/ui/core/Control","sap/ui/core/InvisibleMessage","sap/ui/core/library","sap/ui/integration/model/ObservableModel","sap/ui/base/ManagedObjectObserver","sap/ui/integration/util/LoadingProvider","sap/ui/integration/util/BindingHelper","sap/ui/integration/util/BindingResolver","sap/base/util/merge"],function(B,M,V,l,C,a,I,c,O,b,L,d,e,m){"use strict";var f=c.InvisibleMessageMode;
var g=a.extend("sap.ui.integration.cards.BaseContent",{
metadata:{library:"sap.ui.integration",aggregations:{_content:{multiple:false,visibility:"hidden"},_loadingProvider:{type:"sap.ui.core.Element",multiple:false,visibility:"hidden"},_loadingPlaceholder:{type:"sap.ui.core.Element",multiple:false,visibility:"hidden"},_messageContainer:{type:"sap.m.VBox",multiple:false,visibility:"hidden"}},associations:{card:{type:"sap.ui.integration.widgets.Card",multiple:false}},events:{press:{},ready:{}}},
renderer:B
});
g.prototype.init=function(){this._oAwaitedEvents=new Set();this._bReady=false;this._mObservers={};this.setAggregation("_loadingProvider",new L());};
g.prototype.ontap=function(E){if(!E.isMarked()){this.firePress({});}};
g.prototype.exit=function(){this._oAwaitedEvents=null;if(this._mObservers){Object.keys(this._mObservers).forEach(function(k){this._mObservers[k].disconnect();delete this._mObservers[k];},this);}this._oServiceManager=null;this._oDataProviderFactory=null;this._oIconFormatter=null;if(this._oDataProvider){this._oDataProvider.destroy();this._oDataProvider=null;}if(this._oActions){this._oActions.destroy();this._oActions=null;}this._sContentBindingPath=null;};
g.prototype.loadDependencies=function(o){return Promise.resolve();};
g.prototype.getActions=function(){return this._oActions;};
g.prototype.setActions=function(A){this._oActions=A;};
g.prototype.awaitEvent=function(E){if(this._oAwaitedEvents.has(E)){return;}this._bReady=false;this._oAwaitedEvents.add(E);this.showLoadingPlaceholders();this.attachEventOnce(E,function(){this._oAwaitedEvents.delete(E);if(this._oAwaitedEvents.size===0){this._bReady=true;this.hideLoadingPlaceholders();this.fireReady();}}.bind(this));};
g.prototype.setConfiguration=function(o,t){this._oConfiguration=o;this.awaitEvent("_dataReady");this.awaitEvent("_actionContentReady");if(!o){return this;}var h=this.getAggregation("_loadingProvider").createContentPlaceholder(o,t,this.getCardInstance());this.setAggregation("_loadingPlaceholder",h);this._setDataConfiguration(o.data);return this;};
g.prototype.getConfiguration=function(){return this._oConfiguration;};
g.prototype.getParsedConfiguration=function(){var r=m({},this._oConfiguration),D=r.data;delete r.data;r=d.createBindingInfos(r,this.getCardInstance().getBindingNamespaces());if(D){r.data=D;}return r;};
g.prototype.getStaticConfiguration=function(){return this.getConfiguration();};
g.prototype.showMessage=function(s,t){var o=this._getMessageContainer();var h=new M({text:d.createBindingInfos(s,this.getCardInstance().getBindingNamespaces()),type:t,showCloseButton:true,showIcon:true,close:function(){this._getMessageContainer().destroy();}.bind(this)}).addStyleClass("sapFCardContentMessage");o.destroyItems();o.addItem(h);if(this.getDomRef().contains(document.activeElement)){I.getInstance().announce(s,f.Assertive);}else{I.getInstance().announce(s,f.Polite);}};
g.prototype._setDataConfiguration=function(D){var o=this.getCardInstance(),h;if(!D){this._sContentBindingPath=null;this.fireEvent("_dataReady");return;}this._sContentBindingPath=e.resolveValue(D.path||"/",this.getCardInstance());this.bindObject(this._sContentBindingPath);if(this._oDataProvider){this._oDataProvider.destroy();}this._oDataProvider=this._oDataProviderFactory.create(D,this._oServiceManager);this.getAggregation("_loadingProvider").setDataProvider(this._oDataProvider);if(D.name){h=o.getModel(D.name);}else if(this._oDataProvider){h=new O();this.setModel(h);}if(!h){this.fireEvent("_dataReady");return;}h.attachEvent("change",function(){if(!this.isDestroyed()){this.onDataChanged();this.onDataRequestComplete();}}.bind(this));if(this._oDataProvider){this._oDataProvider.attachDataRequested(function(){this.onDataRequested();}.bind(this));this._oDataProvider.attachDataChanged(function(E){h.setData(E.getParameter("data"));});this._oDataProvider.attachError(function(E){this.handleError(E.getParameter("message"));this.onDataRequestComplete();}.bind(this));this._oDataProvider.triggerDataUpdate();}else{this.fireEvent("_dataReady");}};
g.prototype.onDataRequested=function(){this.awaitEvent("_dataReady");};
g.prototype.onDataRequestComplete=function(){var o=this.getCardInstance();this.fireEvent("_dataReady");if(o){o._fireContentDataChange();}};
g.prototype.refreshData=function(){if(this._oDataProvider){this._oDataProvider.triggerDataUpdate();}};
g.prototype.showLoadingPlaceholders=function(){var o=this.getAggregation("_loadingProvider");if(o){o.setLoading(true);}};
g.prototype.hideLoadingPlaceholders=function(){var o=this.getAggregation("_loadingProvider");if(o){o.setLoading(false);}};
g.prototype.onDataChanged=function(){};
g.prototype._bindAggregationToControl=function(A,o,h){var i;if(!h){return;}if(!h.path){h.path=this._sContentBindingPath;}if(!h.path){i=this.getCardInstance().getBindingContext();h.path=i&&i.getPath();}if(!h.path){return;}o.bindAggregation(A,h);this._observeAggregation(A,o);};
g.prototype._observeAggregation=function(A,o){var p=this.getCardInstance().getModel("parameters"),h;if(this._mObservers[A]){return;}h=new b(function(i){var j;if(i.name!==A){return;}if(!(i.mutation==="insert"||i.mutation==="remove")){return;}j=o.getMetadata().getAggregation(A).get(o);p.setProperty("/visibleItems",j.length);});h.observe(o,{aggregations:[A]});this._mObservers[A]=h;};
g.prototype.isReady=function(){return this._bReady;};
g.prototype.handleError=function(s){this.fireEvent("_error",{logMessage:s});};
g.prototype.setServiceManager=function(s){this._oServiceManager=s;return this;};
g.prototype.setDataProviderFactory=function(D){this._oDataProviderFactory=D;return this;};
g.prototype.setIconFormatter=function(i){this._oIconFormatter=i;return this;};
g.prototype.isLoading=function(){var o=this.getAggregation("_loadingProvider"),h=this.getCardInstance();return!o.isDataProviderJson()&&(o.getLoading()||(h&&h.isLoading()));};
g.prototype.attachPress=function(){var h=Array.prototype.slice.apply(arguments);h.unshift("press");a.prototype.attachEvent.apply(this,h);this.invalidate();return this;};
g.prototype.detachPress=function(){var h=Array.prototype.slice.apply(arguments);h.unshift("press");a.prototype.detachEvent.apply(this,h);this.invalidate();return this;};
g.prototype.onActionSubmitStart=function(F){};
g.prototype.onActionSubmitEnd=function(r,E){};
g.prototype.getCardInstance=function(){return C.byId(this.getCard());};
g.prototype.isSkeleton=function(){var o=this.getCardInstance();return o&&o.isSkeleton();};
g.prototype.sliceData=function(s,E){};
g.prototype.getDataLength=function(){return 0;};
g.prototype._getMessageContainer=function(){var o=this.getAggregation("_messageContainer");if(!o){o=new V({renderType:l.FlexRendertype.Bare,alignItems:l.FlexAlignItems.Center}).addStyleClass("sapFCardContentMessageContainer");this.setAggregation("_messageContainer",o);}return o;};
return g;});
sap.ui.predefine('sap/ui/integration/cards/BaseContentRenderer',["sap/ui/core/Renderer"],function(R){"use strict";
var B=R.extend("sap.ui.integration.cards.BaseContentRenderer",{apiVersion:2});
B.DEFAULT_MIN_HEIGHT="5rem";
B.render=function(r,c){var C="sapFCard",n=c.getMetadata().getName(),t=n.slice(n.lastIndexOf(".")+1),o=c.getParent(),i=o&&o.isA("sap.f.ICard"),l=t!=="AdaptiveContent"&&i&&c.isLoading(),m=c.getAggregation("_messageContainer");C+=t;r.openStart("div",c).class(C).class("sapFCardBaseContent");if(c.hasListeners("press")){r.class("sapFCardClickable");}if(i&&o.getHeight()==="auto"){var h=this.getMinHeight(c.getParsedConfiguration(),c,o);r.style("min-height",h);}if(l){r.class("sapFCardContentLoading");}r.openEnd();if(l){r.renderControl(c.getAggregation("_loadingPlaceholder"));}if(m){r.renderControl(m);}this.renderContent(r,c);r.close("div");};
B.renderContent=function(r,c){r.renderControl(c.getAggregation("_content"));};
B.getMinHeight=function(c,C){return this.DEFAULT_MIN_HEIGHT;};
B.isCompact=function(c){var r=c,p=c.getParent();if(!c.getDomRef()&&p&&p.isA("sap.f.ICard")){r=p;}return r.$().closest(".sapUiSizeCompact").hasClass("sapUiSizeCompact");};
return B;});
sap.ui.predefine('sap/ui/integration/cards/BaseListContent',["sap/ui/integration/cards/BaseContent","sap/ui/integration/util/BindingResolver","sap/ui/integration/library","sap/base/Log","sap/ui/model/Sorter"],function(B,a,l,L,S){"use strict";
var b=B.extend("sap.ui.integration.cards.BaseListContent",{
metadata:{library:"sap.ui.integration"},
renderer:{apiVersion:2}
});
b.prototype.init=function(){B.prototype.init.apply(this,arguments);this._oAwaitingPromise=null;};
b.prototype.exit=function(){B.prototype.exit.apply(this,arguments);this._oAwaitingPromise=null;};
b.prototype.setConfiguration=function(c,t){B.prototype.setConfiguration.apply(this,arguments);c=this.getConfiguration();if(!c){return this;}var o=this.getInnerList(),h=this.getCard()?this.getCardInstance().hasPaginator():false,m=c.maxItems;if(!Number.isNaN(parseInt(m))){m=parseInt(m);}if(o&&m&&!h){o.applySettings({growing:true,growingThreshold:m});o.addStyleClass("sapFCardMaxItems");}return this;};
b.prototype.getInnerList=function(){return null;};
b.prototype._checkHiddenNavigationItems=function(i){if(!i.actions){return;}if(!this.getInnerList()){return;}var I=this.getInnerList(),c=this.isA("sap.ui.integration.cards.TimelineContent")?I.getContent():I.getItems(),p=[],A=i.actions[0],s,v=0;if(!A||!A.service||A.type!=="Navigation"){return;}if(A.service==="object"){s=A.service.name;}else{s=A.service;}c.forEach(function(o){var P=a.resolveValue(A.parameters,this,o.getBindingContext().getPath());p.push(this._oServiceManager.getService(s).then(function(n){if(!n.hidden){return false;}return n.hidden({parameters:P});}).then(function(h){o.setVisible(!h);if(!h){v++;}}).catch(function(m){L.error(m);}));}.bind(this));this.awaitEvent("_filterNavItemsReady");var d=this._oAwaitingPromise=Promise.all(p).then(function(){if(this._oAwaitingPromise===d){if(this.getModel("parameters")){this.getModel("parameters").setProperty("/visibleItems",v);}this.fireEvent("_filterNavItemsReady");}}.bind(this));};
b.prototype._handleNoItemsError=function(i){if(!this.getInnerList()){return;}var I=this.getInnerList(),o=I.getBinding(I.getMetadata().getDefaultAggregationName()),m=o.getModel(),p=o.getPath(),c=m.getProperty(p);if(c&&c.length===0){this.getParent()._handleError("No items available",true);}};
b.prototype._getGroupSorter=function(g){var d=false;if(g.order.dir&&g.order.dir==="DESC"){d=true;}var s=new S(g.order.path,d,function(c){return a.resolveValue(g.title,c.getModel(),c.getPath());});return s;};
b.prototype.sliceData=function(s,e){this.getModel().sliceData(s,e);};
b.prototype.getDataLength=function(){var d=this.getModel().getProperty(this.getInnerList().getBindingContext().getPath());if(Array.isArray(d)){return d.length;}return Object.getOwnPropertyNames(d).length;};
return b;});
sap.ui.predefine('sap/ui/integration/cards/CalendarContent',["./CalendarContentRenderer","sap/ui/core/ResizeHandler","sap/ui/integration/library","sap/ui/integration/cards/BaseContent","sap/ui/integration/util/BindingHelper","sap/ui/integration/util/BindingResolver","sap/f/CalendarAppointmentInCard","sap/f/CalendarInCard","sap/f/PlanningCalendarInCardLegend","sap/m/library","sap/m/Button","sap/m/FlexBox","sap/ui/core/format/DateFormat","sap/ui/core/Locale","sap/ui/core/LocaleData","sap/ui/model/Filter","sap/ui/model/FilterOperator","sap/ui/unified/calendar/CalendarDate","sap/ui/unified/calendar/CalendarUtils","sap/ui/unified/DateTypeRange","sap/ui/core/date/UniversalDate","sap/ui/unified/CalendarLegendItem"],function(C,R,l,B,a,b,c,d,P,L,e,F,D,f,g,h,j,k,m,n,U,o){"use strict";var A=l.CardActionArea;
var p=B.extend("sap.ui.integration.cards.CalendarContent",{
renderer:C,
metadata:{library:"sap.ui.integration",properties:{visibleAppointmentsCount:{type:"int",group:"Data",defaultValue:2},noAppointmentsText:{type:"string",group:"Misc",defaultValue:null}},aggregations:{appointments:{type:"sap.f.CalendarAppointmentInCard",multiple:true,singularName:"appointment"}}}
});
p.prototype._createCardContent=function(){this._oCalendar=new d(this.getId()+"-navigation",{startDateChange:function(E){var i=E.getSource()._getFocusedDate().toLocalJSDate();this._handleStartDateChange(i);}.bind(this),select:function(E){var s=E.getSource().getSelectedDates()[0].getStartDate();this._setParameters(E,E.getParameter("startDate"));this._refreshVisibleAppointments(s);this.invalidate();this._handleSelect(s);}.bind(this)});this._oLegend=new P(this.getId()+"-legend",{columnWidth:"7.5rem",standardItems:[]});this._oCalendar.setLegend(this._oLegend);this._oContent=new F(this.getId()+"-wrapper",{items:[this._oCalendar,this._oLegend]});this.setAggregation("_content",this._oContent);this._oFormatAria=D.getDateTimeInstance({pattern:"EEEE dd/MM/YYYY 'at' "+_.call(this).getTimePattern("medium")});};
p.prototype.init=function(){this._aVisibleAppointments=[];B.prototype.init.apply(this,arguments);this._createCardContent();};
p.prototype.exit=function(){if(this._sTwoColumnsResizeListener){R.deregister(this._sTwoColumnsResizeListener);this._sTwoColumnsResizeListener=undefined;}B.prototype.exit.apply(this,arguments);if(this._oAppointmentTemplate){this._oAppointmentTemplate.destroy();this._oAppointmentTemplate=null;}if(this._oSpecialDateTemplate){this._oSpecialDateTemplate.destroy();this._oSpecialDateTemplate=null;}if(this._oCalendarLegendItemTemplate){this._oCalendarLegendItemTemplate.destroy();this._oCalendarLegendItemTemplate=null;}if(this._oAppointmentLegendItemTemplate){this._oAppointmentLegendItemTemplate.destroy();this._oAppointmentLegendItemTemplate=null;}if(this._bDataInitiallyLoaded){this._bDataInitiallyLoaded=null;}};
p.prototype.onDataChanged=function(){var s=this._oCalendar.getSelectedDates()[0]&&this._oCalendar.getSelectedDates()[0].getStartDate();if(!s){return;}if(!this._bDataInitiallyLoaded){this._handleSelect(s);this._handleStartDateChange(s);this._bDataInitiallyLoaded=true;}this._setParameters();this._refreshVisibleAppointments(s);this.invalidate();};
p.prototype.onBeforeRendering=function(){var i=this._oCalendar.getSelectedDates().length?this._oCalendar.getSelectedDates()[0].getStartDate():this._oCalendar.getStartDate();this._setParameters();this._refreshVisibleAppointments(i);this.getModel("parameters").setProperty("/visibleItems",this._iVisibleItems);this.getModel("parameters").setProperty("/allItems",this._iAllItems);};
p.prototype.onAfterRendering=function(){B.prototype.onAfterRendering.call(this,arguments);if(!this._sTwoColumnsResizeListener){this._sTwoColumnsResizeListener=R.register(this,this.resizeHandler);this.resizeHandler({control:this,target:this.getDomRef()});}};
p.prototype.resizeHandler=function(E){E.control.toggleStyleClass("sapMPCInCardTwoColumns",E.target.getBoundingClientRect().width>576);};
p.prototype.setConfiguration=function(i){B.prototype.setConfiguration.apply(this,arguments);i=this.getParsedConfiguration();this.fireEvent("_actionContentReady");if(!i){return this;}if(i.item){this._addItem(i.item);}if(i.specialDate){this._addSpecialDate(i.specialDate);}if(i.legendItem){this._addLegendItem(i.legendItem);}if(i.date){this._addDate(i.date);}if(i.maxItems){this._addMaxItems(i.maxItems);}if(i.maxLegendItems){this._addMaxLegendItems(i.maxLegendItems);}if(i.noItemsText){this._addNoItemsText(i.noItemsText);}if(i.moreItems&&i.moreItems.actions){this._oActions.attach({area:A.Content,actions:i.moreItems.actions,control:this._getMoreButton()});}return this;};
p.prototype._setParameters=function(E,i){var r,s,t,u,v;if(i){r=i;}else if(this._oCalendar.getSelectedDates().length){r=this._oCalendar.getSelectedDates()[0].getStartDate();}else{r=this._oCalendar.getStartDate();}s=new Date(r.getFullYear(),r.getMonth(),r.getDate()).getTime();t=new Date(r.getFullYear(),r.getMonth(),r.getDate()+1).getTime();u=this.getAppointments();if(u){v=u.filter(function(w){var S=w.getStartDate().getTime(),x=w.getEndDate().getTime();if((S>=s&&S<t)||(x>s&&x<=t)||(S<s&&x>t)){return w;}});}else{v=[];}this._iAllItems=v.length;this._iMaxItems=this.getVisibleAppointmentsCount();this._iVisibleItems=Math.min(this._iMaxItems,this._iAllItems);if(this.getModel("parameters")){this.getModel("parameters").setProperty("/visibleItems",this._iVisibleItems);this.getModel("parameters").setProperty("/allItems",this._iAllItems);}};
p.prototype._refreshVisibleAppointments=function(s){this._aVisibleAppointments=this._calculateVisibleAppointments(this.getAppointments(),s);};
p.prototype._calculateVisibleAppointments=function(i,s){var I=this._isAppointmentInSelectedDate(s);var t=function(u,v){var E=u.getEndDate(),N=new Date();if(s.getDate()===N.getDate()&&s.getMonth()===N.getMonth()&&s.getFullYear()===N.getFullYear()){return this._iAllItems-v<this._iVisibleItems||E.getTime()>N.getTime();}return true;};var r=i.filter(I,this).sort(this._sortByStartHourCB).filter(t,this).slice(0,this._iVisibleItems);return r;};
p.prototype._sortByStartHourCB=function(i,r){return i.getStartDate().getTime()-r.getStartDate().getTime()||r.getEndDate().getTime()-i.getEndDate().getTime();};
p.prototype._isAppointmentInSelectedDate=function(s){return function(i){var r=i.getStartDate().getTime(),t=i.getEndDate().getTime(),S=s.getTime(),u=U.getInstance(new Date(s.getTime())),v,w,x,E;u.setDate(u.getDate()+1);v=u.getTime();w=r<S&&t>v;x=r>=S&&r<v;E=t>S&&t<=v;return w||x||E;};};
p.prototype._getVisibleAppointments=function(){return this._aVisibleAppointments;};
p.prototype.formatDate=function(t){var i=D.getDateTimeInstance({pattern:"yyyy-MM-dd'T'HH:mm:ss.SSSXXX"}).parse(t);if(!i){i=D.getInstance({pattern:"yyyy-MM-dd"}).parse(t);}return i;};
p.prototype._addItem=function(i){var r={title:i.template.title,text:i.template.text,type:i.template.type},s;if(i.template.startDate){r.startDate=a.formattedProperty(i.template.startDate,this.formatDate);}if(i.template.endDate){r.endDate=a.formattedProperty(i.template.endDate,this.formatDate);}if(i.template.icon&&i.template.icon.src){r.icon=a.formattedProperty(i.template.icon.src,function(v){return this._oIconFormatter.formatSrc(v);}.bind(this));}this._oAppointmentTemplate=new c(r);var t=this.getActions();t.attach({area:A.ContentItem,actions:i.template.actions,control:this,actionControl:this._oAppointmentTemplate,enabledPropertyName:"clickable",enabledPropertyValue:true,disabledPropertyValue:false});s={path:i.path,template:this._oAppointmentTemplate};this._bindAggregationToControl("appointments",this,s);};
p.prototype._addSpecialDate=function(s){var S=s.template,i;if(S.startDate){S.startDate=a.formattedProperty(S.startDate,this.formatDate);}if(S.endDate){S.endDate=a.formattedProperty(S.endDate,this.formatDate);}this._oSpecialDateTemplate=new n(S);i={path:s.path,template:this._oSpecialDateTemplate};this._bindAggregationToControl("specialDates",this._oCalendar,i);};
p.prototype._addLegendItem=function(i){var r={text:i.template.text,type:i.template.type},s={text:i.template.text,type:i.template.type},t,u;this._oCalendarLegendItemTemplate=new o(r);t={path:i.path,template:this._oCalendarLegendItemTemplate,filters:new h({path:"category",operator:j.Contains,value1:"calendar"})};this._bindAggregationToControl("items",this._oLegend,t);this._oAppointmentLegendItemTemplate=new o(s);u={path:i.path,template:this._oAppointmentLegendItemTemplate,filters:new h({path:"category",operator:j.Contains,value1:"appointment"})};this._bindAggregationToControl("appointmentItems",this._oLegend,u);};
p.prototype._addDate=function(t){if(b.isBindingInfo(t)){if(!t){return;}var i=new n();i.bindProperty("startDate",a.formattedProperty(t,this.formatDate));this._oCalendar.addSelectedDate(i);}else{this._oCalendar.addSelectedDate(new n({startDate:this.formatDate(t)}));var r=this.formatDate(t);this._handleSelect(r);this._handleStartDateChange(r);this._bDataInitiallyLoaded=true;}};
p.prototype._addMaxItems=function(M){if(b.isBindingInfo(M)){M&&this.bindProperty("visibleAppointmentsCount",M);}else{this.setVisibleAppointmentsCount(M);}};
p.prototype._addMaxLegendItems=function(M){if(b.isBindingInfo(M)){M&&this._oLegend.bindProperty("visibleLegendItemsCount",M);}else{this._oLegend.setVisibleLegendItemsCount(M);}};
p.prototype._addNoItemsText=function(N){if(b.isBindingInfo(N)){N&&this.bindProperty("noAppointmentsText",N);}else{this.setNoAppointmentsText(N);}};
p.prototype._getMoreButton=function(){if(!this._oMoreAppsButton){this._oMoreAppsButton=new e({text:"More"});}return this._oMoreAppsButton;};
p.prototype._bNeedForMoreButton=function(){return this._iAllItems>this.getVisibleAppointmentsCount();};
p.prototype._getCurrentAppointment=function(){var r=this._getVisibleAppointments(),N=new Date(),s,S,E,i,t=this._oCalendar.getSelectedDates().length?this._oCalendar.getSelectedDates()[0].getStartDate():this._oCalendar.getStartDate();if(t.getDate()===N.getDate()&&t.getMonth()===N.getMonth()&&t.getFullYear()===N.getFullYear()){for(i=r.length-1;i>=0;i--){s=r[i];S=s.getStartDate().getTime();E=s.getEndDate().getTime();if(N.getTime()>S&&N.getTime()<E){return s;}}}};
p.prototype._handleStartDateChange=function(i){var r=this.getActions(),s=k.fromLocalJSDate(i),t=m._getFirstDateOfWeek(m._getFirstDateOfMonth(s)),u=new k(i.getFullYear(),i.getMonth()+1,1),v;u.setDate(u.getDate()-1);v=m._getFirstDateOfWeek(u);v.setDate(v.getDate()+6);r.fireAction(this,"MonthChange",{"firstDate":t.toLocalJSDate(),"lastDate":v.toLocalJSDate()});};
p.prototype._handleSelect=function(s){var i=this.getActions();i.fireAction(this,"DateChange",{"selectedDate":s});};
function _(){if(!this._oLocaleData){var s=q.call(this);var i=new f(s);this._oLocaleData=g.getInstance(i);}return this._oLocaleData;}
function q(){if(!this._sLocale){this._sLocale=sap.ui.getCore().getConfiguration().getFormatSettings().getFormatLocale().toString();}return this._sLocale;}
return p;});
sap.ui.predefine('sap/ui/integration/cards/CalendarContentRenderer',["./BaseContentRenderer","sap/ui/core/IconPool","sap/ui/core/InvisibleText","sap/ui/unified/library","sap/ui/unified/CalendarLegendRenderer"],function(B,I,a,u,C){"use strict";var b=u.CalendarDayType;
var c=B.extend("sap.ui.integration.cards.CalendarContentRenderer",{apiVersion:2});
c.renderContent=function(r,o){var R=sap.ui.getCore().getLibraryResourceBundle("sap.ui.integration"),i=o.getId();r.openStart("div",i+"card-group");r.attr("role","group");r.attr("aria-label",R.getText("CARDS_CALENDAR"));r.class("sapFCalCard");r.openEnd();r.openStart("div",i+"card-layout");r.class("sapFCalCardLayout");r.openEnd();r.openStart("div",i+"left-side");r.class("sapFCalCardLeftSide");r.openEnd();r.renderControl(o._oCalendar);r.openStart("div",i+"card-legend");r.attr("aria-label",R.getText("CARDS_CALENDAR_LEGEND"));r.openEnd();r.renderControl(o._oLegend);r.close("div");r.openStart("div","card-line-separator");r.class("sapFCalCardLineSeparator");r.openEnd();r.close("div");r.close("div");r.openStart("div",i+"right-side");r.class("sapFCalCardRightSide");r.openEnd();c.renderAppointments(r,o);if(o._bNeedForMoreButton()){r.renderControl(o._getMoreButton());}r.close("div");r.close("div");r.close("div");};
c.renderAppointments=function(r,o){var v=o._getVisibleAppointments(),d=o._getCurrentAppointment(),R=sap.ui.getCore().getLibraryResourceBundle("sap.ui.integration");r.openStart("div",o.getId()+"appointments-list");r.attr("role","list");r.attr("aria-label",R.getText("CARDS_CALENDAR_APPOINTMENTS"));r.class("sapFCalCardAppList");r.openEnd();if(!v.length){r.openStart("div");r.class("sapFCalCardNoItemsText");r.openEnd();r.text(o.getNoAppointmentsText());r.close("div");}v.forEach(function(A){c.renderAppointment(r,o,A,d==A);});r.close("div");};
c.renderAppointment=function(r,o,A,i){var s=o._oCalendar.getSelectedDates()[0].getStartDate();r.openStart("div");r.attr("role","listitem");r.class("sapUiCalendarAppContainer");if(i){r.class("sapUiCalendarAppCurrent");}r.openEnd();r.openStart("div");r.class("sapUiCalendarAppContainerLeft");r.openEnd();r.openStart("div");r.class("sapUiCalendarAppStart");r.openEnd();r.text(A._getDateRangeIntersectionText(s).start);r.close("div");r.openStart("div");r.class("sapUiCalendarAppEnd");r.openEnd();r.text(A._getDateRangeIntersectionText(s).end);r.close("div");r.close("div");r.openStart("div");r.class("sapUiCalendarAppContainerRight");r.openEnd();this._renderAppointment(r,o,A,s);r.close("div");c.renderAdditionalAriaLabel(r,o,A);r.close("div");};
c._renderAppointment=function(r,o,A,s){var i=A.getId();var t=A.getTitle();var T=A.getText();var d=A.getType();var e=A.getIcon();var S=!t||!T;r.openStart("div",A);r.class("sapUiCalendarApp");if(A.getClickable()){r.attr("tabindex","0");}else{r.class("sapUiCalendarAppDisabled");}r.accessibilityState(A,c.getAccProps(A));if(d&&d!=b.None){r.class("sapUiCalendarApp"+d);}if(S){r.class("sapUiCalendarAppOneLine");}r.openEnd();r.openStart("div");r.class("sapUiCalendarAppCont");r.openEnd();if(e){var f=["sapUiCalendarAppIcon"];var m={};m["id"]=i+"-Icon";m["title"]=null;m["role"]="img";r.icon(e,f,m);}r.openStart("div");r.class("sapUiCalendarAppTitleWrapper");r.openEnd();if(t){r.openStart("span",i+"-Title");r.class("sapUiCalendarAppTitle");r.openEnd();r.text(t);r.close("span");}if(T){r.openStart("span",i+"-Text");r.class("sapUiCalendarAppText");r.openEnd();r.text(T);r.close("span");}r.close("div");r.close("div");r.close("div");};
c.renderAdditionalAriaLabel=function(r,o,A){var R=sap.ui.getCore().getLibraryResourceBundle("sap.ui.unified"),f=o._oFormatAria,t=A.getType(),l=o._oLegend?o._oLegend.getAppointmentItems():[];var s=R.getText("CALENDAR_START_TIME")+": "+f.format(A.getStartDate());s=s+"; "+R.getText("CALENDAR_END_TIME")+": "+f.format(A.getEndDate());if(t&&t!=b.None){s=s+"; "+this.getAriaTextForType(t,l);}r.openStart("span",A.getId()+"-Descr");r.class("sapUiInvisibleText");r.openEnd();r.text(s);r.close("span");};
c.getAriaTextForType=function(t,l){var T,s,o,i;if(l&&l.length){for(var i=0;i<l.length;i++){o=l[i];if(o.getType()===t){T=o.getText();break;}}}if(!T){s=C.getTypeAriaText(t);if(s){T=s.getText();}}return T;};
c.getAccProps=function(A){var i=A.getId();var m={labelledby:{value:a.getStaticId("sap.ui.unified","APPOINTMENT")+" "+i+"-Descr",append:true},selected:null};if(A.getTitle()){m["labelledby"].value=m["labelledby"].value+" "+i+"-Title";}if(A.getText()){m["labelledby"].value=m["labelledby"].value+" "+i+"-Text";}if(A.getSelected()){m["labelledby"].value=m["labelledby"].value+" "+a.getStaticId("sap.ui.unified","APPOINTMENT_SELECTED");}return m;};
return c;});
sap.ui.predefine('sap/ui/integration/cards/ComponentContent',["sap/ui/integration/cards/BaseContent","./ComponentContentRenderer","sap/ui/core/ComponentContainer","sap/ui/core/Component"],function(B,C,a,b){"use strict";
var c=B.extend("sap.ui.integration.cards.ComponentContent",{
metadata:{library:"sap.ui.integration"},
renderer:C
});
b._fnOnInstanceCreated=function(i){var o=i.getComponentData();if(o&&o["__sapUiIntegration_card"]&&i.onCardReady){i.onCardReady(o["__sapUiIntegration_card"]);}};
c.prototype.setConfiguration=function(o){B.prototype.setConfiguration.apply(this,arguments);o=this.getParsedConfiguration();if(!o){return;}var d=new a({manifest:o.componentManifest,async:true,settings:{componentData:{"__sapUiIntegration_card":this.getCardInstance()}},componentCreated:function(){this.fireEvent("_actionContentReady");this.fireEvent("_updated");}.bind(this),componentFailed:function(){this.fireEvent("_actionContentReady");this.handleError("Card content failed to create component");}.bind(this)});this.setAggregation("_content",d);};
return c;});
sap.ui.predefine('sap/ui/integration/cards/ComponentContentRenderer',["./BaseContentRenderer"],function(B){"use strict";
var C=B.extend("sap.ui.integration.cards.ComponentContentRenderer",{apiVersion:2});
C.getMinHeight=function(c,o){if(c.minHeight){return c.minHeight;}return B.getMinHeight.apply(this,arguments);};
return C;});
sap.ui.predefine('sap/ui/integration/cards/Footer',["sap/ui/core/Control","sap/ui/core/Core","sap/ui/integration/controls/ActionsStrip","sap/ui/integration/controls/Paginator","sap/ui/integration/util/BindingHelper","sap/ui/integration/util/BindingResolver"],function(C,a,A,P,B,b){"use strict";
var F=C.extend("sap.ui.integration.cards.Footer",{
metadata:{properties:{configuration:{type:"object"}},aggregations:{actionsStrip:{type:"sap.ui.integration.controls.ActionsStrip",multiple:false},paginator:{type:"sap.ui.integration.controls.Paginator",multiple:false}},associations:{card:{type:"sap.ui.integration.widgets.Card",multiple:false}}},
renderer:{apiVersion:2,render:function(r,f){var o=f.getActionsStrip(),p=f.getPaginator();r.openStart("div",f).class("sapFCardFooter");if(o){r.class("sapFCardFooterWithActionsStrip");}if(f.getCardInstance().isLoading()&&f._hasBinding()){r.class("sapFCardFooterLoading");}r.openEnd();if(p){r.renderControl(p);}if(o){r.renderControl(o);}r.close("div");}}
});
F.prototype._hasBinding=function(){var c=B.createBindingInfos(this.getConfiguration(),this.getCardInstance().getBindingNamespaces());return(c.actionsStrip||[]).some(function(o){for(var k in o){if(b.isBindingInfo(o[k])){return true;}}return false;});};
F.prototype.getCardInstance=function(){return a.byId(this.getCard());};
F.create=function(c,o){return new F({configuration:o,card:c,actionsStrip:A.create(c,o.actionsStrip),paginator:P.create(c,o.paginator)});};
return F;});
sap.ui.predefine('sap/ui/integration/cards/Header',["sap/ui/core/Core","sap/ui/model/json/JSONModel","sap/base/util/isEmptyObject","sap/base/util/merge","sap/f/cards/Header","sap/f/cards/HeaderRenderer","sap/m/library","sap/ui/integration/util/BindingHelper","sap/ui/integration/util/BindingResolver","sap/ui/integration/util/LoadingProvider","sap/ui/integration/util/Utils"],function(C,J,i,m,F,a,l,B,b,L,U){"use strict";var A=l.AvatarColor;
var H=F.extend("sap.ui.integration.cards.Header",{
constructor:function(c,o,I){c=c||{};this._bIsEmpty=i(c);var s={title:c.title,titleMaxLines:c.titleMaxLines,subtitle:c.subTitle,subtitleMaxLines:c.subTitleMaxLines,dataTimestamp:c.dataTimestamp};if(c.status&&c.status.text&&!c.status.text.format){s.statusText=c.status.text;}if(c.icon){s.iconSrc=c.icon.src;s.iconDisplayShape=c.icon.shape;s.iconInitials=c.icon.text;s.iconAlt=c.icon.alt;s.iconBackgroundColor=c.icon.backgroundColor||(c.icon.text?A.Accent6:A.Transparent);}if(s.iconSrc){s.iconSrc=B.formattedProperty(s.iconSrc,function(v){return I.formatSrc(v);});}s.toolbar=o;F.call(this,s);if(o&&o.isA("sap.ui.integration.controls.ActionsToolbar")){o.attachVisibilityChange(this._handleToolbarVisibilityChange.bind(this));}this._oConfiguration=c;},
metadata:{library:"sap.ui.integration",properties:{interactive:{type:"boolean",defaultValue:false}},aggregations:{_loadingProvider:{type:"sap.ui.core.Element",multiple:false,visibility:"hidden"}},associations:{card:{type:"sap.ui.integration.widgets.Card",multiple:false}}},
renderer:a
});
H.prototype.init=function(){F.prototype.init.call(this);this._bReady=false;this.setAggregation("_loadingProvider",new L());this._aReadyPromises=[];this._awaitEvent("_dataReady");this._awaitEvent("_actionHeaderReady");Promise.all(this._aReadyPromises).then(function(){this._bReady=true;this.fireEvent("_ready");}.bind(this));};
H.prototype.exit=function(){F.prototype.exit.call(this);this._oServiceManager=null;this._oDataProviderFactory=null;if(this._oDataProvider){this._oDataProvider.destroy();this._oDataProvider=null;}if(this._oActions){this._oActions.destroy();this._oActions=null;}};
H.prototype._isInteractive=function(){return this.getInteractive();};
H.prototype.isReady=function(){return this._bReady;};
H.prototype.isLoading=function(){var o=this.getAggregation("_loadingProvider"),c=this.getCardInstance(),d=c&&c.isA("sap.ui.integration.widgets.Card")?c.isLoading():false;return!o.isDataProviderJson()&&(o.getLoading()||d);};
H.prototype._handleError=function(s){this.fireEvent("_error",{logMessage:s});};
H.prototype._handleToolbarVisibilityChange=function(e){var t=e.getParameter("visible");if(this._bIsEmpty&&this.getVisible()!==t){this.setVisible(t);}};
H.prototype._awaitEvent=function(e){this._aReadyPromises.push(new Promise(function(r){this.attachEventOnce(e,function(){r();});}.bind(this)));};
H.prototype.setServiceManager=function(s){this._oServiceManager=s;return this;};
H.prototype.setDataProviderFactory=function(d){this._oDataProviderFactory=d;return this;};
H.prototype.getStaticConfiguration=function(){var c=m({},this._oConfiguration),f=U.getNestedPropertyValue(c,"/status/text/format"),o;if(f){o=U.getStatusTextBindingInfo(f);}if(o){c.status.text=o;}return c;};
H.prototype._setDataConfiguration=function(d){var c=this.getCardInstance(),p="/",M;if(d&&d.path){p=b.resolveValue(d.path,this.getCardInstance());}this.bindObject(p);if(this._oDataProvider){this._oDataProvider.destroy();}this._oDataProvider=c.getDataProviderFactory().create(d,this._oServiceManager);this.getAggregation("_loadingProvider").setDataProvider(this._oDataProvider);if(d&&d.name){M=c.getModel(d.name);}else if(this._oDataProvider){M=new J();this.setModel(M);}if(this._oDataProvider){this._oDataProvider.attachDataRequested(function(){this.showLoadingPlaceholders();}.bind(this));this._oDataProvider.attachDataChanged(function(e){M.setData(e.getParameter("data"));this.onDataRequestComplete();}.bind(this));this._oDataProvider.attachError(function(e){this._handleError(e.getParameter("message"));this.onDataRequestComplete();}.bind(this));this._oDataProvider.triggerDataUpdate();}else{this.fireEvent("_dataReady");}};
H.prototype.refreshData=function(){if(this._oDataProvider){this._oDataProvider.triggerDataUpdate();}};
H.prototype.showLoadingPlaceholders=function(){this.getAggregation("_loadingProvider").setLoading(true);};
H.prototype.hideLoadingPlaceholders=function(){this.getAggregation("_loadingProvider").setLoading(false);};
H.prototype.onDataRequestComplete=function(){this.fireEvent("_dataReady");this.hideLoadingPlaceholders();};
H.prototype.getCardInstance=function(){return C.byId(this.getCard());};
return H;});
sap.ui.predefine('sap/ui/integration/cards/ListContent',["./BaseListContent","./ListContentRenderer","sap/ui/util/openWindow","sap/m/library","sap/m/List","sap/m/ObjectStatus","sap/ui/integration/library","sap/ui/integration/util/BindingHelper","sap/ui/integration/util/BindingResolver","sap/ui/integration/controls/Microchart","sap/ui/integration/controls/MicrochartLegend","sap/ui/integration/controls/ListContentItem","sap/ui/integration/controls/ActionsStrip"],function(B,L,o,l,a,O,b,c,d,M,e,f,A){"use strict";var g=l.AvatarSize;var h=l.AvatarColor;var j=l.ListType;var k=l.ListSeparators;var m=b.CardActionArea;var E=l.EmptyIndicatorMode;var n="_legendColorsLoad";
var p=B.extend("sap.ui.integration.cards.ListContent",{
metadata:{library:"sap.ui.integration",aggregations:{_legend:{multiple:false,visibility:"hidden"}}},
renderer:L
});
p.prototype.init=function(){B.prototype.init.apply(this,arguments);var q=this._getList();var t=this;this.setAggregation("_content",q);q.attachUpdateFinished(function(){if(t._iVisibleItems){var I=q.getItems();for(var i=t._iVisibleItems+1;i<I.length;i++){I[i].setVisible(false);}}});};
p.prototype.exit=function(){B.prototype.exit.apply(this,arguments);if(this._oItemTemplate){this._oItemTemplate.destroy();this._oItemTemplate=null;}};
p.prototype.loadDependencies=function(C){if(!this.isSkeleton()&&C.get("/sap.card/content/item/chart")){return M.loadDependencies();}return Promise.resolve();};
p.prototype.setConfiguration=function(C){B.prototype.setConfiguration.apply(this,arguments);C=this.getParsedConfiguration();if(!C){return this;}if(C.items){this._setStaticItems(C.items);return this;}if(C.item){this._setItem(C);}return this;};
p.prototype.getStaticConfiguration=function(){var i=this.getInnerList().getItems(),C=this.getParsedConfiguration(),H=i[0]&&i[0].isA("sap.m.GroupHeaderListItem"),r=[],R=[],q;i.forEach(function(I){if(I.isA("sap.m.GroupHeaderListItem")){if(q){R.push(q);}r=[];q={title:I.getTitle(),items:r};}else{r.push(d.resolveValue(C.item,this,I.getBindingContext().getPath()));}}.bind(this));if(q){R.push(q);}var s={};if(H){s.groups=R;}else{s.items=r;}return s;};
p.prototype.onDataChanged=function(){this._handleNoItemsError(this.getParsedConfiguration().item);this._checkHiddenNavigationItems(this.getParsedConfiguration().item);};
p.prototype._getList=function(){if(this._bIsBeingDestroyed){return null;}if(!this._oList){this._oList=new a({id:this.getId()+"-list",growing:false,showNoData:false});}return this._oList;};
p.prototype._setItem=function(C){var i=C.item,q=this._getList(),I=this.isSkeleton(),s={iconDensityAware:false,title:i.title&&(i.title.value||i.title),description:i.description&&(i.description.value||i.description),highlight:i.highlight,info:i.info&&i.info.value,infoState:i.info&&i.info.state,attributes:[]};if(i.icon){s.icon=c.formattedProperty(i.icon.src,function(v){return this._oIconFormatter.formatSrc(v);}.bind(this));s.iconAlt=i.icon.alt;s.iconDisplayShape=i.icon.shape;s.iconInitials=i.icon.text;if(s.title&&s.description){s.iconSize=g.S;}else{s.iconSize=g.XS;}s.iconSize=i.icon.size||s.iconSize;s.iconBackgroundColor=i.icon.backgroundColor||(i.icon.text?undefined:h.Transparent);}if(i.attributesLayoutType){s.attributesLayoutType=i.attributesLayoutType;}if(i.attributes){i.attributes.forEach(function(t){s.attributes.push(new O({text:t.value,state:t.state,emptyIndicatorMode:E.On}));});}if(!I){if(i.chart){s.microchart=this._createChartAndAddLegend(i.chart);}if(i.actionsStrip){s.actionsStrip=A.create(this.getCardInstance(),i.actionsStrip);q.setShowSeparators(k.All);}else{q.setShowSeparators(k.None);}}this._oItemTemplate=new f(s);this._oActions.attach({area:m.ContentItem,actions:i.actions,control:this,actionControl:this._oItemTemplate,enabledPropertyName:"type",enabledPropertyValue:j.Active,disabledPropertyValue:j.Inactive});var G=C.group;if(G){this._oSorter=this._getGroupSorter(G);}var r={template:this._oItemTemplate,sorter:this._oSorter};this._bindAggregationToControl("items",q,r);};
p.prototype._createChartAndAddLegend=function(C){var i=M.create(C);this.destroyAggregation("_legend");if(C.type==="StackedBar"){var q=new e({chart:i.getChart(),colorsLoad:function(){this.fireEvent(n);}.bind(this)});q.initItemsTitles(C.bars,this.getBindingContext().getPath());this.setAggregation("_legend",q);this.awaitEvent(n);}return i;};
p.prototype._setStaticItems=function(i){var q=this._getList();i.forEach(function(I){var r=new f({iconDensityAware:false,title:I.title?I.title:"",description:I.description?I.description:"",icon:I.icon?I.icon:"",infoState:I.infoState?I.infoState:"None",info:I.info?I.info:"",highlight:I.highlight?I.highlight:"None"});if(I.action){r.setType("Navigation");if(I.action.url){r.attachPress(function(){o(I.action.url,I.target||"_blank");});}}q.addItem(r);});this.fireEvent("_actionContentReady");};
p.prototype.getInnerList=function(){return this._getList();};
return p;});
sap.ui.predefine('sap/ui/integration/cards/ListContentRenderer',["./BaseContentRenderer","../library"],function(B,l){"use strict";var A=l.AttributesLayoutType;
var L=B.extend("sap.ui.integration.cards.ListContentRenderer",{apiVersion:2});
L.renderContent=function(r,o){r.renderControl(o.getAggregation("_content"));if(o.getAggregation("_legend")){r.renderControl(o.getAggregation("_legend"));}};
L.getMinHeight=function(c,C,o){var m=o.getContentPageSize(c),i;if(!c||!c.item||!m){return this.DEFAULT_MIN_HEIGHT;}i=this.getItemMinHeight(c,C);return(m*i)+"rem";};
L.getItemMinHeight=function(c,C){if(!c||!c.item){return 0;}var i=this.isCompact(C),t=c.item,I=i?1:1.125,v=i?1:1.625,a;if(t.icon&&!t.description){v=i?0:0.75;I=2;}if(t.description){v=2;I+=i?2:1.875;}if(t.attributes){v=2.25;a=t.attributes.length/2;if(t.attributesLayoutType===A.OneColumn){a=t.attributes.length;}a=Math.ceil(a);I+=a*1.5;}if(t.chart){I+=1;}if(t.actionsStrip){v=1;I+=i?3:3.75;}I+=v;return I;};
return L;});
sap.ui.predefine('sap/ui/integration/cards/NumericHeader',["sap/ui/core/Core","sap/base/util/extend","sap/base/util/isEmptyObject","sap/f/cards/NumericHeader","sap/f/cards/NumericHeaderRenderer","sap/f/cards/NumericSideIndicator","sap/ui/model/json/JSONModel","sap/ui/integration/util/BindingResolver","sap/ui/integration/util/LoadingProvider"],function(C,e,i,F,a,N,J,B,L){"use strict";
var b=F.extend("sap.ui.integration.cards.NumericHeader",{
constructor:function(c,A){c=c||{};this._bIsEmpty=i(c);var s={title:c.title,titleMaxLines:c.titleMaxLines,subtitle:c.subTitle,subtitleMaxLines:c.subTitleMaxLines,dataTimestamp:c.dataTimestamp};if(c.status&&c.status.text&&!c.status.text.format){s.statusText=c.status.text;}e(s,{unitOfMeasurement:c.unitOfMeasurement,details:c.details,detailsMaxLines:c.detailsMaxLines,sideIndicatorsAlignment:c.sideIndicatorsAlignment});if(c.mainIndicator){s.number=c.mainIndicator.number;s.scale=c.mainIndicator.unit;s.trend=c.mainIndicator.trend;s.state=c.mainIndicator.state;}if(c.sideIndicators){s.sideIndicators=c.sideIndicators.map(function(I){return new N(I);});}s.toolbar=A;F.call(this,s);if(A&&A.isA("sap.ui.integration.controls.ActionsToolbar")){A.attachVisibilityChange(this._handleToolbarVisibilityChange.bind(this));}},
metadata:{library:"sap.ui.integration",properties:{interactive:{type:"boolean",defaultValue:false}},aggregations:{_loadingProvider:{type:"sap.ui.core.Element",multiple:false,visibility:"hidden"}},associations:{card:{type:"sap.ui.integration.widgets.Card",multiple:false}}},
renderer:a
});
b.prototype.init=function(){F.prototype.init.call(this);this._bReady=false;this.setAggregation("_loadingProvider",new L());this._aReadyPromises=[];this._awaitEvent("_dataReady");Promise.all(this._aReadyPromises).then(function(){this._bReady=true;this.fireEvent("_ready");}.bind(this));};
b.prototype.exit=function(){F.prototype.exit.call(this);this._oServiceManager=null;this._oDataProviderFactory=null;if(this._oDataProvider){this._oDataProvider.destroy();this._oDataProvider=null;}if(this._oActions){this._oActions.destroy();this._oActions=null;}};
b.prototype._isInteractive=function(){return this.getInteractive();};
b.prototype.isReady=function(){return this._bReady;};
b.prototype.isLoading=function(){var l=this.getAggregation("_loadingProvider"),c=this.getCardInstance(),d=c&&c.isA("sap.ui.integration.widgets.Card")?c.isLoading():false;return!l.isDataProviderJson()&&(l.getLoading()||d);};
b.prototype._awaitEvent=function(E){this._aReadyPromises.push(new Promise(function(r){this.attachEventOnce(E,function(){r();});}.bind(this)));};
b.prototype.setServiceManager=function(s){this._oServiceManager=s;return this;};
b.prototype.setDataProviderFactory=function(d){this._oDataProviderFactory=d;return this;};
b.prototype._setDataConfiguration=function(d){var c=this.getCardInstance(),p="/",m;if(d&&d.path){p=B.resolveValue(d.path,this.getCardInstance());}this.bindObject(p);if(this._oDataProvider){this._oDataProvider.destroy();}this._oDataProvider=c.getDataProviderFactory().create(d,this._oServiceManager);this.getAggregation("_loadingProvider").setDataProvider(this._oDataProvider);if(d&&d.name){m=c.getModel(d.name);}else if(this._oDataProvider){m=new J();this.setModel(m);}if(this._oDataProvider){this._oDataProvider.attachDataRequested(function(){this.showLoadingPlaceholders();}.bind(this));this._oDataProvider.attachDataChanged(function(E){m.setData(E.getParameter("data"));this.onDataRequestComplete();}.bind(this));this._oDataProvider.attachError(function(E){this._handleError(E.getParameter("message"));this.onDataRequestComplete();}.bind(this));this._oDataProvider.triggerDataUpdate();}else{this.fireEvent("_dataReady");}};
b.prototype._handleError=function(l){this.fireEvent("_error",{logMessage:l});};
b.prototype._handleToolbarVisibilityChange=function(E){var t=E.getParameter("visible");if(this._bIsEmpty&&this.getVisible()!==t){this.setVisible(t);}};
b.prototype.refreshData=function(){if(this._oDataProvider){this._oDataProvider.triggerDataUpdate();}};
b.prototype.showLoadingPlaceholders=function(){this.getAggregation("_loadingProvider").setLoading(true);};
b.prototype.hideLoadingPlaceholders=function(){this.getAggregation("_loadingProvider").setLoading(false);};
b.prototype.onDataRequestComplete=function(){this.fireEvent("_dataReady");this.hideLoadingPlaceholders();};
b.prototype.getCardInstance=function(){return C.byId(this.getCard());};
return b;});
sap.ui.predefine('sap/ui/integration/cards/ObjectContent',["./BaseContent","./ObjectContentRenderer","sap/ui/integration/library","sap/m/library","sap/m/FlexItemData","sap/m/HBox","sap/m/VBox","sap/m/Text","sap/m/Title","sap/m/Avatar","sap/m/Link","sap/m/Label","sap/m/ObjectStatus","sap/m/ComboBox","sap/m/TextArea","sap/base/Log","sap/base/util/isEmptyObject","sap/ui/core/ResizeHandler","sap/ui/layout/AlignedFlowLayout","sap/ui/dom/units/Rem","sap/ui/integration/util/BindingHelper","sap/ui/integration/util/BindingResolver","sap/ui/integration/util/Utils","sap/f/AvatarGroup","sap/f/AvatarGroupItem","sap/f/cards/NumericIndicators","sap/f/cards/NumericSideIndicator","sap/f/library","sap/m/OverflowToolbar","sap/m/OverflowToolbarButton","sap/ui/core/ListItem"],function(B,O,l,L,F,H,V,T,a,A,b,c,d,C,e,f,g,R,h,j,k,m,U,n,o,N,p,q,r,s,t){"use strict";var u=L.AvatarSize;var v=L.AvatarColor;var w=L.ButtonType;var x=L.FlexRendertype;var y=L.FlexJustifyContent;var z=l.CardActionArea;var D=q.AvatarGroupType;var E=L.ToolbarStyle;
var G=B.extend("sap.ui.integration.cards.ObjectContent",{
metadata:{library:"sap.ui.integration"},
renderer:O
});
G.prototype.exit=function(){B.prototype.exit.apply(this,arguments);if(this._sResizeListenerId){R.deregister(this._sResizeListenerId);this._sResizeListenerId="";}};
G.prototype.onDataChanged=function(){this._handleNoItemsError(this.getParsedConfiguration().hasData);};
G.prototype._handleNoItemsError=function(i){if(!i){return;}var I=m.resolveValue(i,this,this.getBindingContext().getPath());if(!I||Array.isArray(I)&&!I.length||g(I)){this.getParent()._handleError("No items available",true);}};
G.prototype.setConfiguration=function(i){B.prototype.setConfiguration.apply(this,arguments);i=this.getParsedConfiguration();if(!i){return this;}if(i.groups){this._addGroups(i);}return this;};
G.prototype._getRootContainer=function(){var i=this.getAggregation("_content");if(!i){i=new V({renderType:x.Bare});this.setAggregation("_content",i);this._sResizeListenerId=R.register(i,this._onResize.bind(this));}return i;};
G.prototype._addGroups=function(I){var J=this._getRootContainer(),K,M=true,P=I.groups||[];P.forEach(function(Q,i){var S=this._createGroup(Q);if(Q.alignment==="Stretch"){S.setLayoutData(new F({growFactor:1}));J.addItem(S);M=true;}else{if(M){K=this._createAFLayout();J.addItem(K);M=false;}K.addContent(S);}if(i===P.length-1){S.addStyleClass("sapFCardObjectGroupLastInColumn");}},this);this._oActions.attach({area:z.Content,actions:I.actions,control:this});};
G.prototype._createGroup=function(i){var I;if(typeof i.visible=="string"){I=!U.hasFalsyValueAsString(i.visible);}else{I=i.visible;}var J=new V({visible:I,renderType:x.Bare}).addStyleClass("sapFCardObjectGroup");if(i.title){J.addItem(new a({text:i.title}).addStyleClass("sapFCardObjectItemTitle"));J.addStyleClass("sapFCardObjectGroupWithTitle");}i.items.forEach(function(K){this._createGroupItems(K).forEach(J.addItem,J);},this);return J;};
G.prototype._createGroupItems=function(i){var I=i.label,J,K,M;if(typeof i.visible=="string"){K=!U.hasFalsyValueAsString(i.visible);}else{K=i.visible;}if(I){I=k.formattedProperty(I,function(S){return S&&(S[S.length-1]===":"?S:S+":");});J=new c({text:I,visible:K}).addStyleClass("sapFCardObjectItemLabel");J.addEventDelegate({onBeforeRendering:function(){J.setVisible(J.getVisible()&&!!J.getText());}});}M=this._createItem(i,K,J);if(M){M.addStyleClass("sapFCardObjectItemValue");}if(i.icon){var P=new V({renderType:x.Bare,justifyContent:y.Center,items:[J,M]});var Q=new H({visible:K,renderType:x.Bare,items:[this._createGroupItemAvatar(i.icon),P]}).addStyleClass("sapFCardObjectItemLabel");return[Q];}else{return[J,M];}};
G.prototype._createGroupItemAvatar=function(i){var S=k.formattedProperty(i.src,function(J){return this._oIconFormatter.formatSrc(J);}.bind(this));var I=new A({displaySize:i.size||u.XS,src:S,initials:i.text,displayShape:i.shape,tooltip:i.alt,backgroundColor:i.backgroundColor||(i.text?undefined:v.Transparent)}).addStyleClass("sapFCardObjectItemAvatar sapFCardIcon");return I;};
G.prototype._createItem=function(i,I,J){var K,M=i.value,P=i.tooltip,Q;switch(i.type){case"NumericData":K=this._createNumericDataItem(i,I);break;case"Status":K=this._createStatusItem(i,I);break;case"IconGroup":K=this._createIconGroupItem(i,I);break;case"ButtonGroup":K=this._createButtonGroupItem(i,I);break;case"ComboBox":K=this._createComboBoxItem(i,I,J);break;case"TextArea":K=this._createTextAreaItem(i,I,J);break;case"link":f.warning("Usage of Object Group Item property 'type' with value 'link' is deprecated. Use Card Actions for navigation instead.",null,"sap.ui.integration.widgets.Card");K=new b({href:i.url||M,text:M,tooltip:P,target:i.target||'_blank',visible:k.reuse(I)});break;case"email":f.warning("Usage of Object Group Item property 'type' with value 'email' is deprecated. Use Card Actions for navigation instead.",null,"sap.ui.integration.widgets.Card");var S=[];if(i.value){S.push(i.value);}if(i.emailSubject){S.push(i.emailSubject);}Q=k.formattedProperty(S,function(W,X){if(X){return"mailto:"+W+"?subject="+X;}else{return"mailto:"+W;}});K=new b({href:Q,text:M,tooltip:P,visible:k.reuse(I)});break;case"phone":f.warning("Usage of Object Group Item property 'type' with value 'phone' is deprecated. Use Card Actions for navigation instead.",null,"sap.ui.integration.widgets.Card");Q=k.formattedProperty(M,function(W){return"tel:"+W;});K=new b({href:Q,text:M,tooltip:P,visible:k.reuse(I)});break;default:K=this._createTextItem(i,I,J);}return K;};
G.prototype._createNumericDataItem=function(i,I){var J=new V({visible:k.reuse(I)});var K=new N({number:i.mainIndicator.number,numberSize:i.mainIndicator.size,scale:i.mainIndicator.unit,trend:i.mainIndicator.trend,state:i.mainIndicator.state}).addStyleClass("sapUiIntOCNumericIndicators");J.addItem(K);if(i.sideIndicators){i.sideIndicators.forEach(function(M){K.addSideIndicator(new p({title:M.title,number:M.number,unit:M.unit,state:M.state}));});}if(i.details){J.addItem(new T({text:i.details,maxLines:1}).addStyleClass("sapUiIntOCNumericIndicatorsDetails"));}return J;};
G.prototype._createStatusItem=function(i,I){var J=new d({text:i.value,visible:k.reuse(I),state:i.state});return J;};
G.prototype._createTextItem=function(i,I,J){var K=i.value,M=i.tooltip,P;if(K&&i.actions){P=new b({text:K,tooltip:M,visible:k.reuse(I)});if(J){P.addAriaLabelledBy(J);}else{f.warning("Missing label for Object group item with actions.",null,"sap.ui.integration.widgets.Card");}this._oActions.attach({area:z.ContentItemDetail,actions:i.actions,control:this,actionControl:P,enabledPropertyName:"enabled"});P=new H({renderType:x.Bare,items:P});}else if(K){P=new T({text:K,visible:k.reuse(I),maxLines:i.maxLines});}return P;};
G.prototype._createButtonGroupItem=function(i,I){var J=i.template;if(!J){return null;}var K=new r({visible:k.reuse(I),style:E.Clear});K.addStyleClass("sapUiIntCardObjectButtonGroup");var M=new s({icon:k.formattedProperty(J.icon,function(P){return this._oIconFormatter.formatSrc(P);}.bind(this)),text:J.text||J.tooltip,tooltip:J.tooltip||J.text,type:w.Transparent,visible:J.visible});if(J.actions){M.attachPress(function(P){this._onButtonGroupPress(P,J.actions);}.bind(this));}K.bindAggregation("content",{path:i.path||"/",template:M,templateShareable:false});return K;};
G.prototype._onButtonGroupPress=function(i,I){var J=i.getSource();var K=m.resolveValue(I,J,J.getBindingContext().getPath());var M=K[0];this.getActions().fireAction(this,M.type,M.parameters);};
G.prototype._createIconGroupItem=function(i,I){var J=i.template;if(!J){return null;}var K=new n({avatarDisplaySize:i.size||u.XS,groupType:D.Individual,visible:k.reuse(I)});K._oShowMoreButton.setType(w.Transparent);K._oShowMoreButton.setEnabled(false);if(J.actions){K.attachPress(function(P){this._onIconGroupPress(P,J.actions);}.bind(this));}else{K._setInteractive(false);}var M=new o({src:k.formattedProperty(J.icon.src,function(P){return this._oIconFormatter.formatSrc(P);}.bind(this)),initials:J.icon.text,tooltip:J.icon.alt});K.bindAggregation("items",{path:i.path||"/",template:M,templateShareable:false});return K;};
G.prototype._onIconGroupPress=function(i,I){if(i.getParameter("overflowButtonPressed")){}else{var J=i.getParameter("eventSource");var K=m.resolveValue(I,J,J.getBindingContext().getPath());var M=K[0];this.getActions().fireAction(this,M.type,M.parameters);}};
G.prototype._createComboBoxItem=function(i,I,J){var K=this.getCardInstance(),M=K.getModel("form"),S={visible:k.reuse(I),placeholder:i.placeholder},P,Q,W;if(i.selectedKey){S.selectedKey=i.selectedKey;}else if(i.value){S.value=i.value;}P=new C(S);if(J){J.setLabelFor(P);}if(i.item){Q=new t({key:i.item.template.key,text:i.item.template.title});P.bindItems({path:i.item.path||"/",template:Q,templateShareable:false});}if(!i.id){f.error("Each input element must have an ID.","sap.ui.integration.widgets.Card");return P;}W=function(){M.setProperty("/"+i.id,{key:P.getSelectedKey(),value:P.getValue()});};P.attachChange(W);P.addEventDelegate({onAfterRendering:W});return P;};
G.prototype._createTextAreaItem=function(i,I,J){var K=this.getCardInstance(),M=K.getModel("form"),P=new e({value:i.value,visible:k.reuse(I),rows:i.rows,placeholder:i.placeholder}),Q;if(J){J.setLabelFor(P);}if(!i.id){f.error("Each input element must have an ID.","sap.ui.integration.widgets.Card");return P;}Q=function(){M.setProperty("/"+i.id,P.getValue());};P.attachChange(Q);P.addEventDelegate({onAfterRendering:Q});return P;};
G.prototype._createAFLayout=function(){var i=new h();i.addEventDelegate({"onAfterRendering":function(){this.getContent().forEach(function(I){if(!I.getVisible()){document.getElementById("sap-ui-invisible-"+I.getId()).parentElement.classList.add("sapFCardInvisibleContent");}});}},i);return i;};
G.prototype._onResize=function(I){if(I.size.width===I.oldSize.width){return;}var J=this._getRootContainer().getItems();J.forEach(function(K,i){if(K.isA("sap.ui.layout.AlignedFlowLayout")){this._onAlignedFlowLayoutResize(K,I,i===J.length-1);}}.bind(this));};
G.prototype._onAlignedFlowLayoutResize=function(i,I,J){var M=i.getMinItemWidth(),K,P=i.getContent().filter(function(X){return X.getVisible();}).length;if(M.lastIndexOf("rem")!==-1){K=j.toPx(M);}else if(M.lastIndexOf("px")!==-1){K=parseFloat(M);}var Q=Math.floor(I.size.width/K);if(Q>P){Q=P;}var S=Q-1,W=Math.ceil(P/Q);i.getContent().forEach(function(X,Y){X.addStyleClass("sapFCardObjectSpaceBetweenGroup");if(S===Y&&S<P){X.removeStyleClass("sapFCardObjectSpaceBetweenGroup");S+=Q;}if(J&&Y+1>(W-1)*Q){X.addStyleClass("sapFCardObjectGroupLastInColumn");}else{X.removeStyleClass("sapFCardObjectGroupLastInColumn");}});};
return G;});
sap.ui.predefine('sap/ui/integration/cards/ObjectContentRenderer',["./BaseContentRenderer"],function(B){"use strict";
var O=B.extend("sap.ui.integration.cards.ObjectContentRenderer",{
apiVersion:2,
MIN_OBJECT_CONTENT_HEIGHT:"3rem"
});
O.getMinHeight=function(c,C){return O.MIN_OBJECT_CONTENT_HEIGHT;};
return O;});
sap.ui.predefine('sap/ui/integration/cards/TableContent',["./BaseListContent","./TableContentRenderer","sap/ui/integration/library","sap/m/Table","sap/m/Column","sap/m/ColumnListItem","sap/m/Text","sap/m/Link","sap/m/ProgressIndicator","sap/m/ObjectIdentifier","sap/m/ObjectStatus","sap/m/Avatar","sap/ui/core/library","sap/m/library","sap/ui/integration/util/BindingResolver","sap/ui/integration/util/BindingHelper","sap/base/Log"],function(B,T,l,R,C,a,b,L,P,O,c,A,d,m,e,f,g){"use strict";var h=m.AvatarSize;var i=m.AvatarColor;var V=d.VerticalAlign;var k=m.ListSeparators;var n=m.ListType;var o=l.CardActionArea;
var p=B.extend("sap.ui.integration.cards.TableContent",{
metadata:{library:"sap.ui.integration"},
renderer:T
});
p.prototype.exit=function(){B.prototype.exit.apply(this,arguments);if(this._oItemTemplate){this._oItemTemplate.destroy();this._oItemTemplate=null;}};
p.prototype._getTable=function(){if(this._bIsBeingDestroyed){return null;}var t=this.getAggregation("_content");if(!t){t=new R({id:this.getId()+"-Table",showSeparators:k.None});this.setAggregation("_content",t);}return t;};
p.prototype.setConfiguration=function(j){B.prototype.setConfiguration.apply(this,arguments);j=this.getParsedConfiguration();if(!j){return this;}if(j.rows&&j.columns){this._setStaticColumns(j.rows,j.columns);return this;}if(j.row&&j.row.columns){this._setColumns(j.row);}return this;};
p.prototype.getStaticConfiguration=function(){var r=this.getInnerList().getItems(),j=this.getParsedConfiguration(),H=r[0]&&r[0].isA("sap.m.GroupHeaderListItem"),q=[],s=[],t=[],u,v;(j.row.columns||[]).forEach(function(w){w=e.resolveValue(w,this,this.getBindingContext().getPath());q.push({title:w.title,width:w.width,hAlign:w.hAlign,visible:w.visible,identifier:w.identifier});}.bind(this));r.forEach(function(w){if(w.isA("sap.m.GroupHeaderListItem")){if(v){t.push(v);}s=[];v={title:w.getTitle(),rows:s};}else{u=e.resolveValue(j.row,this,w.getBindingContext().getPath());(u.columns||[]).forEach(function(x){delete x.title;delete x.width;delete x.hAlign;delete x.visible;delete x.identifier;});s.push(u);}}.bind(this));if(v){t.push(v);}var S={headers:q};if(H){S.groups=t;}else{S.rows=s;}return S;};
p.prototype.onDataChanged=function(){this._handleNoItemsError(this.getParsedConfiguration().row);this._checkHiddenNavigationItems(this.getParsedConfiguration().row);};
p.prototype._setColumns=function(r){var j=[],t=this._getTable(),q=r.columns;q.forEach(function(u){t.addColumn(new C({header:new b({text:u.title}),width:u.width,hAlign:u.hAlign,visible:u.visible}));j.push(this._createCell(u));}.bind(this));this._oItemTemplate=new a({cells:j,vAlign:V.Middle});this._oActions.attach({area:o.ContentItem,actions:r.actions,control:this,actionControl:this._oItemTemplate,enabledPropertyName:"type",enabledPropertyValue:n.Active,disabledPropertyValue:n.Inactive});var G=this.getParsedConfiguration().group;if(G){this._oSorter=this._getGroupSorter(G);}var s={template:this._oItemTemplate,sorter:this._oSorter};this._bindAggregationToControl("items",t,s);};
p.prototype._setStaticColumns=function(r,q){var t=this._getTable();q.forEach(function(j){t.addColumn(new C({header:new b({text:j.title}),width:j.width,hAlign:j.hAlign}));});r.forEach(function(s){var I=new a({vAlign:V.Middle});if(s.cells&&Array.isArray(s.cells)){for(var j=0;j<s.cells.length;j++){I.addCell(this._createCell(s.cells[j]));}}if(s.actions&&Array.isArray(s.actions)){this._oActions.attach({area:o.ContentItem,actions:s.actions,control:this,actionControl:I,enabledPropertyName:"type",enabledPropertyValue:n.Active,disabledPropertyValue:n.Inactive});}t.addItem(I);}.bind(this));this.fireEvent("_actionContentReady");};
p.prototype._createCell=function(j){var q;if(j.identifier){if(typeof j.identifier=="object"){if(!e.isBindingInfo(j.identifier)){g.warning("Usage of object type for column property 'identifier' is deprecated.",null,"sap.ui.integration.widgets.Card");}if(j.identifier.url){j.actions=[{type:"Navigation",parameters:{url:j.identifier.url,target:j.identifier.target}}];}}q=new O({title:j.value});if(j.actions){q.setTitleActive(true);this._oActions.attach({area:o.ContentItemDetail,actions:j.actions,control:this,actionControl:q,enabledPropertyName:"titleActive",eventName:"titlePress"});}return q;}if(j.url){g.warning("Usage of column property 'url' is deprecated. Use card actions for navigation.",null,"sap.ui.integration.widgets.Card");j.actions=[{type:"Navigation",parameters:{url:j.url,target:j.target}}];}if(j.actions){q=new L({text:j.value});this._oActions.attach({area:o.ContentItemDetail,actions:j.actions,control:this,actionControl:q,enabledPropertyName:"enabled"});return q;}if(j.state){return new c({text:j.value,state:j.state});}if(j.value){return new b({text:j.value});}if(j.icon){var s=f.formattedProperty(j.icon.src,function(v){return this._oIconFormatter.formatSrc(v);}.bind(this));return new A({src:s,displayShape:j.icon.shape,displaySize:j.icon.size||h.XS,tooltip:j.icon.alt,initials:j.icon.text,backgroundColor:j.icon.backgroundColor||(j.icon.text?undefined:i.Transparent)}).addStyleClass("sapFCardIcon");}if(j.progressIndicator){return new P({percentValue:j.progressIndicator.percent,displayValue:j.progressIndicator.text,state:j.progressIndicator.state});}};
p.prototype.getInnerList=function(){return this._getTable();};
return p;});
sap.ui.predefine('sap/ui/integration/cards/TableContentRenderer',["./BaseContentRenderer","../library"],function(B,l){"use strict";
var T=B.extend("sap.ui.integration.cards.TableContentRenderer",{apiVersion:2});
T.getMinHeight=function(c,C,o){var m=o.getContentPageSize(c);if(!m){return this.DEFAULT_MIN_HEIGHT;}var i=this.isCompact(C),r=i?2:2.75,t=i?2:2.75;return(m*r+t)+"rem";};
T.getItemMinHeight=function(c,C){if(!c||!c.row){return 0;}var i=this.isCompact(C);return i?2:2.75;};
return T;});
sap.ui.predefine('sap/ui/integration/cards/TimelineContent',["./BaseListContent","./TimelineContentRenderer","sap/ui/integration/library","sap/ui/core/Core","sap/ui/integration/util/BindingHelper"],function(B,T,l,C,a){"use strict";var A=l.CardActionArea;var b,c;
var d=B.extend("sap.ui.integration.cards.TimelineContent",{
metadata:{library:"sap.ui.integration"},
renderer:T
});
d.prototype.exit=function(){B.prototype.exit.apply(this,arguments);if(this._oTimeLineItemTemplate){this._oTimeLineItemTemplate.destroy();this._oTimeLineItemTemplate=null;}};
d.prototype.loadDependencies=function(o){return new Promise(function(r,e){C.loadLibrary("sap.suite.ui.commons",{async:true}).then(function(){sap.ui.require(["sap/suite/ui/commons/Timeline","sap/suite/ui/commons/TimelineItem"],function(_,f){b=_;c=f;r();},function(E){e(E);});}).catch(function(){e("Timeline content type is not available with this distribution.");});});};
d.prototype._getTimeline=function(){var t=this.getAggregation("_content");if(this._bIsBeingDestroyed){return null;}if(!t){t=new b({id:this.getId()+"-Timeline",showHeaderBar:false,enableScroll:false,growingThreshold:0});this.setAggregation("_content",t);}return t;};
d.prototype.setConfiguration=function(o){B.prototype.setConfiguration.apply(this,arguments);o=this.getParsedConfiguration();if(!o){return this;}if(o.items){this._setStaticItems(o.items);return this;}if(o.item){this._setItem(o.item);}return this;};
d.prototype.onDataChanged=function(){this._handleNoItemsError(this.getParsedConfiguration().item);this._checkHiddenNavigationItems(this.getParsedConfiguration().item);};
d.prototype._setItem=function(i){var s={userNameClickable:false,title:i.title&&i.title.value,text:i.description&&i.description.value,dateTime:i.dateTime&&i.dateTime.value,userName:i.owner&&i.owner.value,icon:i.icon&&i.icon.src};if(i.ownerImage&&i.ownerImage.value){s.userPicture=a.formattedProperty(i.ownerImage.value,function(v){return this._oIconFormatter.formatSrc(v);}.bind(this));}this._oTimeLineItemTemplate=new c(s);this._oActions.attach({area:A.ContentItem,actions:i.actions,control:this,actionControl:this._oTimeLineItemTemplate,eventName:"select"});var o={template:this._oTimeLineItemTemplate};this._bindAggregationToControl("content",this._getTimeline(),o);return this;};
d.prototype._setStaticItems=function(i){var t=this._getTimeline(),o;i.forEach(function(I){o=new c({title:I.title,text:I.description,userPicture:I.ownerImage,dateTime:I.dateTime,userName:I.owner,icon:I.icon});t.addContent(o);});};
d.prototype.getInnerList=function(){return this._getTimeline();};
return d;});
sap.ui.predefine('sap/ui/integration/cards/TimelineContentRenderer',["./BaseContentRenderer"],function(B){"use strict";
var T=B.extend("sap.ui.integration.cards.TimelineContentRenderer",{apiVersion:2});
T.getMinHeight=function(c,C,o){var m=o.getContentPageSize(c);if(!m){return this.DEFAULT_MIN_HEIGHT;}var i=this.isCompact(C),I=i?4:5;return(m*I)+"rem";};
return T;});
sap.ui.predefine('sap/ui/integration/cards/WebPageContent',["./BaseContent","./WebPageContentRenderer","sap/ui/core/Core","sap/ui/integration/util/BindingHelper"],function(B,W,C,a){"use strict";var F="_frameLoaded";var L=15*1000;var r=C.getLibraryResourceBundle("sap.ui.integration");
var b=B.extend("sap.ui.integration.cards.WebPageContent",{
metadata:{properties:{minHeight:{type:"sap.ui.core.CSSSize",defaultValue:W.MIN_WEB_PAGE_CONTENT_HEIGHT,bindable:true},src:{type:"sap.ui.core.URI",defaultValue:"",bindable:true},sandbox:{type:"string",defaultValue:"",bindable:true}},library:"sap.ui.integration"},
renderer:W
});
b.prototype.init=function(){B.prototype.init.apply(this,arguments);this._onFrameLoadedBound=this._onFrameLoaded.bind(this);this._sPrevSrc=this.getSrc();};
b.prototype.exit=function(){B.prototype.exit.apply(this,arguments);if(this._iLoadTimeout){clearTimeout(this._iLoadTimeout);}};
b.prototype.onBeforeRendering=function(){B.prototype.onBeforeRendering.apply(this,arguments);if(this.getDomRef()){this.getDomRef("frame").removeEventListener("load",this._onFrameLoadedBound);}};
b.prototype.onAfterRendering=function(){B.prototype.onAfterRendering.apply(this,arguments);this.getDomRef("frame").addEventListener("load",this._onFrameLoadedBound);this._checkSrc();};
b.prototype.setConfiguration=function(c){B.prototype.setConfiguration.apply(this,arguments);c=this.getParsedConfiguration();this.fireEvent("_actionContentReady");if(!c){return this;}var s=a.formattedProperty(c.src,function(v){return this._oIconFormatter.formatSrc(v);}.bind(this));if(s){this.bindSrc(s);}if(typeof c.sandbox==="object"){this.bindSandbox(a.reuse(c.sandbox));}else{this.setSandbox(c.sandbox);}if(typeof c.minHeight==="object"){this.bindMinHeight(a.reuse(c.minHeight));}else{this.setMinHeight(c.minHeight);}return this;};
b.prototype._checkSrc=function(){var c=this.getSrc();if(c===""){this.handleError("Src of WebPage content is empty",r.getText("CARD_WEB_PAGE_EMPTY_URL_ERROR"));return;}if(!c.startsWith("https://")){this.handleError("Please use a secure URL (https://)",r.getText("CARD_WEB_PAGE_HTTPS_URL_ERROR"));return;}if(this._sPrevSrc!==c){this._raceFrameLoad();this._sPrevSrc=c;}};
b.prototype._raceFrameLoad=function(){this.awaitEvent(F);this._iLoadTimeout=setTimeout(function(){var s=L/1000;this.handleError("Failed to load '"+this.getSrc()+"' after "+s+" seconds.",r.getText("CARD_WEB_PAGE_TIMEOUT_ERROR",[s]));}.bind(this),L);};
b.prototype._onFrameLoaded=function(){this.fireEvent(F);clearTimeout(this._iLoadTimeout);};
return b;});
sap.ui.predefine('sap/ui/integration/cards/WebPageContentRenderer',["./BaseContentRenderer","sap/ui/integration/util/BindingResolver"],function(B,a){"use strict";var P="2px";
var W=B.extend("sap.ui.integration.cards.WebPageContentRenderer",{
apiVersion:2,
MIN_WEB_PAGE_CONTENT_HEIGHT:"150px"
});
W.renderContent=function(r,w){r.openStart("iframe",w.getId()+"-frame").class("sapUiIntWPCFrame");r.style("height","calc("+w.getMinHeight()+" - "+P+")").attr("src",w.getSrc()).attr("tabindex","0").attr("sandbox",w.getSandbox()).openEnd().close("iframe");};
W.getMinHeight=function(c,C){if(c.minHeight){return a.resolveValue(c.minHeight,C);}return W.MIN_WEB_PAGE_CONTENT_HEIGHT;};
return W;});
sap.ui.predefine('sap/ui/integration/cards/actions/BaseAction',["sap/ui/base/ManagedObject","sap/ui/core/Core","sap/ui/integration/util/BindingResolver"],function(M,C,B){"use strict";
var a=M.extend("sap.ui.integration.cards.actions.BaseAction",{metadata:{library:"sap.ui.integration",properties:{config:{type:"object"},parameters:{type:"object"},actionHandler:{type:"object"}},associations:{card:{type:"sap.ui.integration.widgets.Card",multiple:false},source:{type:"sap.ui.base.EventProvider",multiple:false}}}});
a.prototype.execute=function(){};
a.prototype.getResolvedConfig=function(){var s=this.getSourceInstance(),b=s.getBindingContext(),c;if(b){c=s.getBindingContext().getPath();}return B.resolveValue(this.getConfig(),s,c);};
a.prototype.getCardInstance=function(){return C.byId(this.getCard());};
a.prototype.getSourceInstance=function(){return C.byId(this.getSource());};
return a;});
sap.ui.predefine('sap/ui/integration/cards/actions/CardActions',["sap/ui/integration/library","sap/base/Log","sap/ui/base/ManagedObject","sap/ui/integration/cards/actions/CustomAction","sap/ui/integration/cards/actions/DateChangeAction","sap/ui/integration/cards/actions/MonthChangeAction","sap/ui/integration/cards/actions/SubmitAction","sap/ui/integration/cards/actions/NavigationAction","sap/ui/integration/util/BindingHelper","sap/ui/integration/util/BindingResolver","sap/base/strings/capitalize","sap/base/util/deepClone","sap/ui/integration/cards/actions/ShowCardAction","sap/ui/integration/cards/actions/HideCardAction"],function(l,L,M,C,D,a,S,N,B,b,c,d,f,H){"use strict";
function _(s){if(s&&typeof s==="object"){return s.name;}return s;}
var A=l.CardActionArea,g=l.CardActionType;
var h=M.extend("sap.ui.integration.cards.actions.CardActions",{metadata:{library:"sap.ui.integration",properties:{card:{type:"object"},bindingPathResolver:{type:"function"}}}});
h.prototype.attach=function(o){var e=o.control,s=o.area;o.actionControl=o.actionControl||o.control;o.enabledPropertyValue=o.enabledPropertyValue||true;o.disabledPropertyValue=o.disabledPropertyValue||false;o.eventName=o.eventName||"press";if(!o.actions){this._fireActionReady(e,s);return;}var i=o.actions[0];if(i&&i.type){o.action=i;this._attachAction(o);}else{this._fireActionReady(e,s);}};
h.prototype._attachAction=function(o){var e=o.action,s=o.area,i=o.control,j=o.actionControl,E=o.enabledPropertyName,v=o.enabledPropertyValue,k=o.disabledPropertyValue,m=true,n=this._isSingleAction(s),p=true;if(E){m=false;if(e.service&&!n){this._setControlEnabledStateUsingService(e,i,j,E,v,k);}else{this._setControlEnabledState(e,j,E,v,k);}}if(e.service&&n){this._getSingleActionEnabledState(e,i).then(function(q){if(q){this._attachEventListener(o);}this._fireActionReady(i,s);}.bind(this));return;}if(m){p=e.enabled!==false&&e.enabled!=="false";}if(p){this._attachEventListener(o);}this._fireActionReady(i,s);};
h.prototype._setControlEnabledStateUsingService=function(o,e,i,p,E,v){var j=M.bindingParser("{path:''}");j.formatter=function(V){var k=this.getBindingContext(),P,m;if(k){P=k.getPath();}m=b.resolveValue(o.parameters,e,P);if(V.__resolved){if(!V.__enabled||V.__enabled==="false"){return v;}return E;}if(!V.__promise){V.__promise=true;e._oServiceManager.getService(_(o.service)).then(function(n){if(n){n.enabled({parameters:m}).then(function(q){V.__resolved=true;V.__enabled=q;e.getModel().checkUpdate(true);}).catch(function(){V.__resolved=true;V.__enabled=false;});}else{V.__resolved=true;V.__enabled=false;}});}return v;};i.bindProperty(p,j);};
h.prototype._setControlEnabledState=function(o,e,p,E,v){var i,V;if(typeof o.enabled==="object"){i=B.formattedProperty(o.enabled,function(j){if(!j||j==="false"){return v;}return E;});}if(i){e.bindProperty(p,i);}else{V=(o.enabled===false||o.enabled==="false")?v:E;e.setProperty(p,V);}};
h.prototype._getSingleActionEnabledState=function(o,e){var i=e.getBindingContext(),p,P;if(i){P=i.getPath();}p=b.resolveValue(o.parameters,e,P);return new Promise(function(r){e._oServiceManager.getService(_(o.service)).then(function(n){if(n){n.enabled({parameters:p}).then(function(E){r(E);}).catch(function(){r(false);});}else{r(false);}}).catch(function(){r(false);});});};
h.prototype._fireActionReady=function(o,s){var e=s===A.Header;var E=e?"_actionHeaderReady":"_actionContentReady";o.fireEvent(E);};
h.prototype._resolveBindingPath=function(e){var o=e.getSource().getBindingContext(),p;if(this.getBindingPathResolver()){p=this.getBindingPathResolver()(e);}else if(o){p=o.getPath();}return p;};
h.prototype._handleServiceAction=function(E,o,i){var s=E.getSource();var p=this._resolveBindingPath(E);i._oServiceManager.getService(_(o.service)).then(function(e){if(e){e.navigate({parameters:b.resolveValue(o.parameters,s,p)});}}).catch(function(e){L.error("Navigation service unavailable",e);}).finally(function(){this._processAction(s,o,p);}.bind(this));};
h.prototype._attachEventListener=function(o){var e=o.action;o.actionControl["attach"+c(o.eventName)](function(E){var s=E.getSource();if(e.service){this._handleServiceAction(E,e,o.control);}else{this._processAction(s,e,this._resolveBindingPath(E));}}.bind(this));};
h.prototype._processAction=function(s,o,p){var e=this._getHostInstance(),i=this.getCard();h.fireAction({card:i,host:e,action:o,parameters:b.resolveValue(o.parameters,s,p),source:s});};
h.prototype._getHostInstance=function(){var o=this.getCard();if(o){return o.getHostInstance();}return null;};
h.prototype.fireAction=function(s,t,p){h.fireAction({card:this.getCard(),host:this._getHostInstance(),action:{type:t},parameters:p,source:s});};
h.fireAction=function(m){var o=m.host,e=m.card,E=e.getAggregation("_extension"),t=m.action.type,p=d(m.parameters,100)||{},i={type:t,card:e,actionSource:m.source},j,k;if(t===g.Submit){p.data=e.getModel("form").getData();}i.parameters=p;j=Object.assign({},i,{manifestParameters:p});k=e.fireAction(j);if(!k){return false;}if(o){k=o.fireAction(i);}if(!k){return false;}if(E){k=E.fireAction(i);}if(k){var n=h._createHandler(m);if(n){n.execute();n.destroy();}}return k;};
h.prototype._isSingleAction=function(s){return[A.Header,A.Content,A.ContentItemDetail,A.ActionsStrip].indexOf(s)>-1;};
h._createHandler=function(m){var e=null;switch(m.action.type){case g.Custom:e=C;break;case g.DateChange:e=D;break;case g.HideCard:e=H;break;case g.MonthChange:e=a;break;case g.Navigation:e=N;break;case g.ShowCard:e=f;break;case g.Submit:e=S;break;default:L.error("Unknown action type '"+m.action.type+"'. Expected one of "+Object.values(g).join(", "),null,"sap.ui.integration.widgets.Card");}if(e){return new e({config:m.action,parameters:m.parameters,actionHandler:m.card.getManifestEntry("/sap.card/configuration/actionHandlers/"+m.action.type.toLowerCase()),card:m.card,source:m.source});}return null;};
return h;});
sap.ui.predefine('sap/ui/integration/cards/actions/CustomAction',["./BaseAction"],function(B){"use strict";
var C=B.extend("sap.ui.integration.cards.actions.CustomAction",{metadata:{library:"sap.ui.integration"}});
C.prototype.execute=function(){var c=this.getConfig();if(typeof c.action==="function"){c.action(this.getCardInstance(),this.getSourceInstance());}};
return C;});
sap.ui.predefine('sap/ui/integration/cards/actions/DateChangeAction',["./BaseAction"],function(B){"use strict";
var D=B.extend("sap.ui.integration.cards.actions.DateChangeAction",{metadata:{library:"sap.ui.integration"}});
return D;});
sap.ui.predefine('sap/ui/integration/cards/actions/HideCardAction',["./BaseAction","sap/m/Dialog"],function(B,D){"use strict";
var H=B.extend("sap.ui.integration.cards.actions.HideCardAction",{metadata:{library:"sap.ui.integration"}});
H.prototype.execute=function(){var c=this.getCardInstance(),d=c.getParent(),h=c.getHostInstance();if(h&&h.onHideCard){h.onHideCard(c);return;}if(d instanceof D){d.close();d.attachAfterClose(function(){c.destroy();});}else{c.destroy();}};
return H;});
sap.ui.predefine('sap/ui/integration/cards/actions/MonthChangeAction',["./BaseAction"],function(B){"use strict";
var M=B.extend("sap.ui.integration.cards.actions.MonthChangeAction",{metadata:{library:"sap.ui.integration"}});
return M;});
sap.ui.predefine('sap/ui/integration/cards/actions/NavigationAction',["./BaseAction","sap/ui/util/openWindow"],function(B,o){"use strict";
var N=B.extend("sap.ui.integration.cards.actions.NavigationAction",{metadata:{library:"sap.ui.integration"}});
N.prototype.execute=function(){var r=this.getResolvedConfig();if(r.service){return;}var p=this.getParameters(),u,t,P,s;if(p){P=p.url;s=p.target;}u=r.url||P;t=r.target||s||"_blank";if(u){this._openUrl(u,t);}};
N.prototype._openUrl=function(u,t){o(u,t);};
return N;});
sap.ui.predefine('sap/ui/integration/cards/actions/ShowCardAction',["./BaseAction","sap/m/Dialog","sap/ui/core/Core","sap/ui/dom/jquery/Focusable"],function(B,D,C){"use strict";
var S=B.extend("sap.ui.integration.cards.actions.ShowCardAction",{metadata:{library:"sap.ui.integration"}});
S.prototype.execute=function(){var p=this.getParameters()||{},P=this.getCardInstance(),h=P.getHostInstance(),c;if(p._cardId){c=C.byId(p._cardId);}else{c=P._createChildCard(p);}if(h&&h.onShowCard){h.onShowCard(c,p);return;}this._openDialog(c,P);};
S.prototype._openDialog=function(c,p){var d=new D({content:[c],showHeader:false,ariaLabelledBy:c.getId(),escapeHandler:function(P){c.hide();P.resolve();}});d.addStyleClass("sapUiIntCardDialog");p.addDependent(d);c.startManifestProcessing();c.attachManifestApplied(function(){d.open();});c.attachEvent("_ready",function(){setTimeout(function(){this._setFocus(c,d);}.bind(this),0);}.bind(this));d.attachAfterClose(function(){d.destroy();});};
S.prototype._setFocus=function(c,d){var f=c.getAggregation("_filter"),o=c.getAggregation("_content"),F=c.getAggregation("_footer"),a;a=f&&f.$().firstFocusableDomRef()||o&&o.$().firstFocusableDomRef()||F&&F.$().firstFocusableDomRef();if(a){d.setInitialFocus(a.id);a.focus();}};
return S;});
sap.ui.predefine('sap/ui/integration/cards/actions/SubmitAction',["./BaseAction","sap/base/Log","sap/ui/integration/util/BindingHelper","sap/ui/integration/util/BindingResolver","sap/ui/integration/util/Utils"],function(B,L,a,b,U){"use strict";
var S=B.extend("sap.ui.integration.cards.actions.SubmitAction",{metadata:{library:"sap.ui.integration"}});
S.prototype.execute=function(){var c=this.getCardInstance(),s=this.getActionHandler();if(!s){return;}var d=this.getCardInstance()._oDataProviderFactory,D=c.getModel("form").getData();this._onActionSubmitStart(D);var o=d.create({request:this._createRequest(s,D)});o.getData().then(function(r){this._onActionSubmitEnd(r,null);}.bind(this),function(e){L.error(e);this._onActionSubmitEnd(null,{error:e});}.bind(this)).finally(function(){d.remove(o);});};
S.prototype._onActionSubmitStart=function(d){var s=this.getSourceInstance();if(s.isA("sap.ui.integration.cards.BaseContent")){s.onActionSubmitStart(d);}};
S.prototype._onActionSubmitEnd=function(r,e){var s=this.getSourceInstance();if(s.isA("sap.ui.integration.cards.BaseContent")){s.onActionSubmitEnd(r,e);}};
S.prototype._createRequest=function(s,d){return{mode:s.mode||"cors",url:s.url,method:s.method||"POST",parameters:this._resolveActionHandlerParams(s.parameters)||d,headers:s.headers,xhrFields:{withCredentials:!!s.withCredentials}};};
S.prototype._resolveActionHandlerParams=function(A){var c=this.getCardInstance();A=b.resolveValue(a.createBindingInfos(A,c.getBindingNamespaces()),this.getSourceInstance());U.makeUndefinedValuesNull(A);return A;};
return S;});
sap.ui.predefine('sap/ui/integration/cards/adaptivecards/elements/UI5InputChoiceSet',["sap/ui/integration/thirdparty/adaptivecards","sap/ui/integration/cards/adaptivecards/overwrites/inputsGeneralOverwrites"],function(A,I){"use strict";
function U(){A.ChoiceSetInput.apply(this,arguments);}
U.prototype=Object.create(A.ChoiceSetInput.prototype);
U.prototype.overrideInternalRender=function(){var i=A.TextInput.prototype.overrideInternalRender.call(this,arguments);I.overwriteLabel(this);I.overwriteRequired(this);return i;};
U.prototype.internalRender=function(){if(!this.isMultiSelect){if(this.isCompact){this._selectElement=document.createElement("ui5-select");this._selectElement.id=this.id;this._selectElement.addEventListener("change",function(){this.valueChanged();}.bind(this));for(var i=0;i<this.choices.length;i++){var o=document.createElement("ui5-option");o.value=this.choices[i].value;o.innerHTML=this.choices[i].title;if(this.choices[i].value===this.defaultValue){o.selected=true;}this._selectElement.appendChild(o);}return this._selectElement;}var r=document.createElement("div");r.classList.add("sapFCardAdaptiveContentChoiceSetWrapper");r.id=this.id;r.setAttribute("role","radiogroup");r.addEventListener("change",function(){this.valueChanged();}.bind(this));this._toggleInputs=[];for(var j=0;j<this.choices.length;j++){var R=document.createElement("ui5-radio-button");R.value=this.choices[j].value;R.text=this.choices[j].title;R.name=this.id;R.wrappingType=this.wrap?"Normal":"None";if(this.choices[j].value===this.defaultValue){R.checked=true;}this._toggleInputs.push(R);r.appendChild(R);}return r;}var d=this.defaultValue?this.defaultValue.split(","):null;var c=document.createElement("div");c.classList.add("sapFCardAdaptiveContentChoiceSetWrapper");c.setAttribute("role","group");c.id=this.id;c.addEventListener("change",function(){this.valueChanged();}.bind(this));this._toggleInputs=[];for(var k=0;k<this.choices.length;k++){var C=document.createElement("ui5-checkbox");C.value=this.choices[k].value;C.text=this.choices[k].title;C.name=this.id;C.wrappingType=this.wrap?"Normal":"None";if(d&&d.indexOf(this.choices[k].value)>=0){C.checked=true;}this._toggleInputs.push(C);c.appendChild(C);}return c;};
Object.defineProperty(U.prototype,"value",{get:function v(){var i;if(!this.isMultiSelect){if(this.isCompact){return this._selectElement.selectedOption?this._selectElement.selectedOption.value:null;}else{if(!this._toggleInputs||this._toggleInputs.length===0){return null;}for(i=0;i<this._toggleInputs.length;i++){if(this._toggleInputs[i].checked){return this._toggleInputs[i].value;}}return null;}}else{if(!this._toggleInputs||this._toggleInputs.length===0){return null;}var r="";for(i=0;i<this._toggleInputs.length;i++){if(this._toggleInputs[i].checked){if(r!==""){r+=this.hostConfig.choiceSetInputValueSeparator;}r+=this._toggleInputs[i].value;}}return r===""?null:r;}}});
U.prototype.updateInputControlAriaLabelledBy=function(){var a=(!this.isMultiSelect&&this.isCompact)?"accessible-name-ref":"aria-labelledby";I.overwriteAriaLabelling(this,a);};
U.prototype.showValidationErrorMessage=function(){if(!this._toggleInputs||!this._toggleInputs.length){return;}this._toggleInputs.forEach(function(t){t.valueState="Error";});};
U.prototype.resetValidationFailureCue=function(){A.TextInput.prototype.resetValidationFailureCue.call(this,arguments);if(!this._toggleInputs||!this._toggleInputs.length){return;}this._toggleInputs.forEach(function(t){t.valueState="None";});};
return U;});
sap.ui.predefine('sap/ui/integration/cards/adaptivecards/elements/UI5InputDate',["sap/ui/integration/thirdparty/adaptivecards","sap/ui/integration/cards/adaptivecards/overwrites/inputsGeneralOverwrites"],function(A,I){"use strict";
function U(){A.DateInput.apply(this,arguments);}
U.prototype=Object.create(A.DateInput.prototype);
U.prototype.overrideInternalRender=function(){var i=A.TextInput.prototype.overrideInternalRender.call(this,arguments);I.overwriteLabel(this);I.overwriteRequired(this);return i;};
U.prototype.internalRender=function(){this._dateInputElement=document.createElement("ui5-date-picker");this._dateInputElement.id=this.id;this._dateInputElement.placeholder=this.placeholder;this._dateInputElement.formatPattern="yyyy-MM-dd";this._dateInputElement.value=this.defaultValue||"";this._dateInputElement.minDate=this.min||"";this._dateInputElement.maxDate=this.max||"";I.createValueStateElement(this,this._dateInputElement);this._dateInputElement.addEventListener("input",function(){this.valueChanged();}.bind(this));return this._dateInputElement;};
U.prototype.updateInputControlAriaLabelledBy=function(){I.overwriteAriaLabelling(this,"accessible-name-ref");};
U.prototype.showValidationErrorMessage=function(){if(this.renderedInputControlElement){this.renderedInputControlElement.valueState="Error";}};
U.prototype.resetValidationFailureCue=function(){A.TextInput.prototype.resetValidationFailureCue.call(this,arguments);if(this.renderedInputControlElement){this.renderedInputControlElement.valueState="None";}};
return U;});
sap.ui.predefine('sap/ui/integration/cards/adaptivecards/elements/UI5InputNumber',["sap/ui/integration/thirdparty/adaptivecards","sap/ui/integration/cards/adaptivecards/overwrites/inputsGeneralOverwrites"],function(A,I){"use strict";
function U(){A.NumberInput.apply(this,arguments);}
U.prototype=Object.create(A.NumberInput.prototype);
U.prototype.overrideInternalRender=function(){var i=A.TextInput.prototype.overrideInternalRender.call(this,arguments);I.overwriteLabel(this);I.overwriteRequired(this);return i;};
U.prototype.internalRender=function(){this._numberInputElement=document.createElement("ui5-step-input");this._numberInputElement.id=this.id;this._numberInputElement.placeholder=this.placeholder||"";this._numberInputElement.value=this.defaultValue||"";this._numberInputElement.min=this.min;this._numberInputElement.max=this.max;this._numberInputElement.style.width="13.125rem";I.createValueStateElement(this,this._numberInputElement);this._numberInputElement.addEventListener("input",function(e){this.valueChanged();}.bind(this));return this._numberInputElement;};
Object.defineProperty(U.prototype,"value",{get:function(){return this._numberInputElement?this._numberInputElement.value:undefined;}});
U.prototype.updateInputControlAriaLabelledBy=function(){I.overwriteAriaLabelling(this,"accessible-name-ref");};
U.prototype.showValidationErrorMessage=function(){if(this.renderedInputControlElement){this.renderedInputControlElement.valueState="Error";}};
U.prototype.resetValidationFailureCue=function(){A.TextInput.prototype.resetValidationFailureCue.call(this,arguments);if(this.renderedInputControlElement){this.renderedInputControlElement.valueState="None";}};
return U;});
sap.ui.predefine('sap/ui/integration/cards/adaptivecards/elements/UI5InputText',["sap/ui/integration/thirdparty/adaptivecards","sap/ui/integration/cards/adaptivecards/overwrites/inputsGeneralOverwrites"],function(A,I){"use strict";
function U(){A.TextInput.apply(this,arguments);}
U.prototype=Object.create(A.TextInput.prototype);
U.prototype.overrideInternalRender=function(){var i=A.TextInput.prototype.overrideInternalRender.call(this,arguments);I.overwriteLabel(this);I.overwriteRequired(this);return i;};
U.prototype.internalRender=function(){if(this.isMultiline){var t=document.createElement("ui5-textarea");t.id=this.id;t.placeholder=this.placeholder||"";t.value=this.defaultValue||"";t.maxlength=this.maxLength||null;I.createValueStateElement(this,t);t.addEventListener("input",function(){this.valueChanged();}.bind(this));return t;}var i=document.createElement("ui5-input");switch(this.style){case 1:i.type="Tel";break;case 2:i.type="URL";break;case 3:i.type="Email";break;default:i.type="Text";}i.id=this.id;i.placeholder=this.placeholder||"";i.value=this.defaultValue||"";i.maxlength=this.maxLength||null;I.createValueStateElement(this,i);i.addEventListener("input",function(){this.valueChanged();}.bind(this));return i;};
U.prototype.updateInputControlAriaLabelledBy=function(){I.overwriteAriaLabelling(this,"accessible-name-ref");};
U.prototype.showValidationErrorMessage=function(){if(this.renderedInputControlElement){this.renderedInputControlElement.valueState="Error";}};
U.prototype.resetValidationFailureCue=function(){A.TextInput.prototype.resetValidationFailureCue.call(this,arguments);if(this.renderedInputControlElement){this.renderedInputControlElement.valueState="None";}};
return U;});
sap.ui.predefine('sap/ui/integration/cards/adaptivecards/elements/UI5InputTime',["sap/ui/integration/thirdparty/adaptivecards","sap/ui/integration/cards/adaptivecards/overwrites/inputsGeneralOverwrites"],function(A,I){"use strict";
function U(){A.TimeInput.apply(this,arguments);}
var t="HH:mm";U.prototype=Object.create(A.TimeInput.prototype);
U.prototype.overrideInternalRender=function(){var i=A.TextInput.prototype.overrideInternalRender.call(this,arguments);I.overwriteLabel(this);I.overwriteRequired(this);return i;};
U.prototype.internalRender=function(){var w="ui5-time-picker";this._timeInputElement=document.createElement(w);this._timeInputElement.id=this.id;this._timeInputElement.value=this.defaultValue||"";this._timeInputElement.formatPattern=t;I.createValueStateElement(this,this._timeInputElement);this._timeInputElement.addEventListener("input",function(e){this.valueChanged();}.bind(this));return this._timeInputElement;};
U.prototype.updateInputControlAriaLabelledBy=function(){I.overwriteAriaLabelling(this,"aria-labelledby");};
U.prototype.showValidationErrorMessage=function(){if(this.renderedInputControlElement){this.renderedInputControlElement.valueState="Error";}};
U.prototype.resetValidationFailureCue=function(){A.TextInput.prototype.resetValidationFailureCue.call(this,arguments);if(this.renderedInputControlElement){this.renderedInputControlElement.valueState="None";}};
return U;});
sap.ui.predefine('sap/ui/integration/cards/adaptivecards/elements/UI5InputToggle',["sap/ui/integration/thirdparty/adaptivecards","sap/ui/integration/cards/adaptivecards/overwrites/inputsGeneralOverwrites"],function(A,I){"use strict";
function U(){A.ToggleInput.apply(this,arguments);}
U.prototype=Object.create(A.ToggleInput.prototype);
U.prototype.overrideInternalRender=function(){var i=A.TextInput.prototype.overrideInternalRender.call(this,arguments);I.overwriteLabel(this);I.overwriteRequired(this);return i;};
U.prototype.internalRender=function(){this._checkboxInputElement=document.createElement("ui5-checkbox");this._checkboxInputElement.id=this.id;this._checkboxInputElement.text=this.title||"";this._checkboxInputElement.wrappingType=this.wrap?"Normal":"None";this._checkboxInputElement.checked=false;if(this.defaultValue===this.valueOn){this._checkboxInputElement.checked=true;}this._checkboxInputElement.addEventListener("change",function(){this.valueChanged();}.bind(this));return this._checkboxInputElement;};
U.prototype.updateInputControlAriaLabelledBy=function(){I.overwriteAriaLabelling(this,"aria-labelledby");};
U.prototype.showValidationErrorMessage=function(){if(this._checkboxInputElement){this._checkboxInputElement.valueState="Error";}};
U.prototype.resetValidationFailureCue=function(){A.TextInput.prototype.resetValidationFailureCue.call(this,arguments);if(this._checkboxInputElement){this._checkboxInputElement.valueState="None";}};
return U;});
sap.ui.predefine('sap/ui/integration/cards/adaptivecards/elements/hostConfig',["sap/ui/core/theming/Parameters"],function(P){"use strict";return function(){return{"spacing":{"small":8,"default":16,"medium":32,"large":48,"extraLarge":48,"padding":16},"separator":{"lineThickness":1,"lineColor":P.get("sapUiToolbarSeparatorColor")},"supportsInteractivity":true,"fontTypes":{"default":{"fontFamily":P.get("sapUiFontFamily"),"fontSizes":{"small":12,"default":14,"medium":14,"large":16,"extraLarge":20}},"monospace":{}},"containerStyles":{"default":{"backgroundColor":"transparent","foregroundColors":{"default":{"default":P.get("sapUiBaseText"),"subtle":P.get("sapUiContentLabelColor")},"accent":{"default":P.get("sapUiInformativeText")},"attention":{"default":P.get("sapUiNegativeText")},"good":{"default":P.get("sapUiPositiveText")},"warning":{"default":P.get("sapUiCriticalText")}}},"emphasis":{"backgroundColor":P.get("sapUiNeutralBG"),"foregroundColors":{"default":{"default":P.get("sapUiBaseText")},"accent":{"default":P.get("sapUiInformativeText")},"attention":{"default":P.get("sapUiNegativeText")},"good":{"default":P.get("sapUiPositiveText")},"warning":{"default":P.get("sapUiCriticalText")}}},"accent":{"backgroundColor":P.get("sapUiInformationBG"),"foregroundColors":{"default":{"default":P.get("sapUiBaseText")},"accent":{"default":P.get("sapUiInformativeText")},"attention":{"default":P.get("sapUiNegativeText")},"good":{"default":P.get("sapUiPositiveText")},"warning":{"default":P.get("sapUiCriticalText")}}},"good":{"backgroundColor":P.get("sapUiSuccessBG"),"foregroundColors":{"default":{"default":P.get("sapUiBaseText")},"accent":{"default":P.get("sapUiInformativeText")},"attention":{"default":P.get("sapUiNegativeText")},"good":{"default":P.get("sapUiPositiveText")},"warning":{"default":P.get("sapUiCriticalText")}}},"attention":{"backgroundColor":P.get("sapUiErrorBG"),"foregroundColors":{"default":{"default":P.get("sapUiBaseText")},"accent":{"default":P.get("sapUiInformativeText")},"attention":{"default":P.get("sapUiNegativeText")},"good":{"default":P.get("sapUiPositiveText")},"warning":{"default":P.get("sapUiCriticalText")}}},"warning":{"backgroundColor":P.get("sapUiWarningBG"),"foregroundColors":{"default":{"default":P.get("sapUiBaseText")},"accent":{"default":P.get("sapUiInformativeText")},"attention":{"default":P.get("sapUiNegativeText")},"good":{"default":P.get("sapUiPositiveText")},"warning":{"default":P.get("sapUiCriticalText")}}}}};};});
sap.ui.predefine('sap/ui/integration/cards/adaptivecards/overwrites/ActionRender',["sap/ui/integration/thirdparty/adaptivecards"],function(A){"use strict";return function(b){if(b===0){b="ac-pushButton";}var h=this.parent.hostConfig;var a=document.createElement("ui5-button");this.addCssClasses(a);a.setAttribute("aria-label",this.title);a.type="button";a.style.display="flex";a.style.alignItems="center";a.style.justifyContent="center";var s=this.style;if(s==="positive"){a.setAttribute("design","Positive");}else if(s==="destructive"){a.setAttribute("design","Negative");}var c=this.title;var t=document.createElement("div");t.style.overflow="hidden";t.style.textOverflow="ellipsis";if(!(h.actions.iconPlacement===A.ActionIconPlacement.AboveTitle||h.actions.allowTitleToWrap)){t.style.whiteSpace="nowrap";}if(c){t.innerText=this.title;}if(!this.iconUrl){a.classList.add("noIcon");a.appendChild(t);}else{var i=document.createElement("img");i.src=this.iconUrl;i.style.width=h.actions.iconSize+"px";i.style.height=h.actions.iconSize+"px";i.style.flex="0 0 auto";if(h.actions.iconPlacement===A.ActionIconPlacement.AboveTitle){a.classList.add("iconAbove");a.style.flexDirection="column";if(c){i.style.marginBottom="4px";}}else{a.classList.add("iconLeft");if(c){i.style.marginRight="4px";}}a.appendChild(i);a.appendChild(t);}this._renderedElement=a;};});
sap.ui.predefine('sap/ui/integration/cards/adaptivecards/overwrites/inputsGeneralOverwrites',['sap/ui/core/InvisibleText','sap/ui/core/Core'],function(I,C){"use strict";var a={};
a.overwriteRequired=function(A){var c=A._renderedInputControlElement.getAttribute("role");if(c==="radiogroup"){return;}A.renderedInputControlElement.removeAttribute('aria-required');if(!c){A.renderedInputControlElement.required=A.isRequired;return;}if(c==="group"&&A.isRequired){var i=new I({id:A._renderedInputControlElement.id+"-InvisibleText",text:C.getLibraryResourceBundle("sap.ui.integration").getText("ADAPTIVE_CARDS_REQUIRED_FIELD")}).toStatic().getId();A.renderedInputControlElement.setAttribute("aria-describedby",i);}};
a.overwriteLabel=function(A){if(!A._renderedLabelElement){return;}var l=document.createElement("ui5-label");l.id=A._renderedLabelElement.id;l.innerText=A.label;l.for=A._renderedInputControlElement.id;l.required=A.isRequired;l.style.marginBottom=A.hostConfig.getEffectiveSpacing(A.hostConfig.inputs.label.inputSpacing)+"px";A._renderedLabelElement.remove();A._renderedLabelElement=l;A._outerContainerElement.insertBefore(A._renderedLabelElement,A.inputControlContainerElement);};
a.overwriteAriaLabelling=function(A,s){if(!A._renderedInputControlElement){return;}if(A._renderedLabelElement){A._renderedInputControlElement.setAttribute(s,A._renderedLabelElement.id);}else{A._renderedInputControlElement.removeAttribute(s);}};
a.createValueStateElement=function(A,e){if(!A.errorMessage){return;}var v=document.createElement("div");v.setAttribute("slot","valueStateMessage");v.innerText=A.errorMessage;e.appendChild(v);};
return a;});
sap.ui.predefine('sap/ui/integration/cards/filters/BaseFilter',["sap/ui/core/Control","sap/ui/core/Core","sap/ui/core/InvisibleText","sap/base/Log","sap/ui/core/Icon","sap/m/HBox","sap/m/Text","sap/ui/integration/model/ObservableModel","sap/ui/integration/util/LoadingProvider"],function(C,a,I,L,b,H,T,O,c){"use strict";
var B=C.extend("sap.ui.integration.cards.filters.BaseFilter",{
metadata:{"abstract":true,library:"sap.ui.integration",properties:{key:{type:"string",defaultValue:""},config:{type:"object",defaultValue:"null"},value:{type:"object",defaultValue:null}},aggregations:{_loadingProvider:{type:"sap.ui.core.Element",multiple:false,visibility:"hidden"},_label:{type:"sap.ui.core.InvisibleText",multiple:false,visibility:"hidden"}},associations:{card:{type:"sap.ui.integration.widgets.Card",multiple:false}}},
renderer:{apiVersion:2,render:function(r,f){var l=f.isLoading();r.openStart("div",f).class("sapFCardFilter");if(l){r.class("sapFCardFilterLoading");}r.openEnd();if(f._hasError()){r.renderControl(f._getErrorMessage());}else{r.renderControl(f.getField());}r.close("div");}}
});
B.prototype.init=function(){this.setAggregation("_loadingProvider",new c());this.attachEventOnce("_dataReady",function(){this.fireEvent("_ready");});};
B.prototype.exit=function(){if(this._oDataProvider){this._oDataProvider.destroy();this._oDataProvider=null;}};
B.prototype.isLoading=function(){var l=this.getAggregation("_loadingProvider");return!l.isDataProviderJson()&&l.getLoading();};
B.prototype.getField=function(){return null;};
B.prototype.createLabel=function(o){if(o.label){this.setAggregation("_label",new I({text:o.label}).toStatic());return this.getAggregation("_label");}return null;};
B.prototype.showLoadingPlaceholders=function(){this.getAggregation("_loadingProvider").setLoading(true);};
B.prototype.hideLoadingPlaceholders=function(){this.getAggregation("_loadingProvider").setLoading(false);};
B.prototype.onDataChanged=function(){};
B.prototype.getValueForModel=function(){};
B.prototype.refreshData=function(){if(this._oDataProvider){this._oDataProvider.triggerDataUpdate();}};
B.prototype.getCardInstance=function(){return a.byId(this.getCard());};
B.prototype._hasError=function(){return!!this._bError;};
B.prototype._getErrorMessage=function(){var m="Unable to load the filter.";return new H({justifyContent:"Center",alignItems:"Center",items:[new b({src:"sap-icon://message-error",size:"1rem"}).addStyleClass("sapUiTinyMargin"),new T({text:m})]});};
B.prototype._handleError=function(l){L.error(l);this._bError=true;this.invalidate();};
B.prototype._onDataRequestComplete=function(){this.fireEvent("_dataReady");this.hideLoadingPlaceholders();};
B.prototype._setDataConfiguration=function(d){var o=this.getCardInstance(),m;if(!d){this.fireEvent("_dataReady");return;}if(this._oDataProvider){this._oDataProvider.destroy();}this._oDataProvider=o.getDataProviderFactory().create(d,null,true);this.getAggregation("_loadingProvider").setDataProvider(this._oDataProvider);if(d.name){m=o.getModel(d.name);}else if(this._oDataProvider){m=new O();this.setModel(m);}m.attachEvent("change",function(){this.onDataChanged();}.bind(this));this._oDataProvider.attachDataRequested(function(){this.showLoadingPlaceholders();}.bind(this));this._oDataProvider.attachDataChanged(function(e){m.setData(e.getParameter("data"));this._onDataRequestComplete();}.bind(this));this._oDataProvider.attachError(function(e){this._handleError(e.getParameter("message"));this._onDataRequestComplete();}.bind(this));this._oDataProvider.triggerDataUpdate();};
B.prototype._setValue=function(){var v=this.getValueForModel(),o=this.getCardInstance(),p={},m;this.setValue(v);if(o){m="/sap.card/configuration/filters/"+this.getKey()+"/value";p[m]=v.value;this.getCardInstance()._fireConfigurationChange(p);}};
return B;});
sap.ui.predefine('sap/ui/integration/cards/filters/DateRangeFilter',["./BaseFilter","sap/ui/core/library","sap/m/DynamicDateRange","sap/m/DynamicDateUtil","sap/ui/integration/util/BindingResolver"],function(B,c,D,a,b){"use strict";var V=c.ValueState;var M=new Date(-8640000000000000);var d=new Date("1753-01-01");var e=new Date(8640000000000000);var f=new Date("9999-12-31");var o={"DATE":"date","TODAY":"today","YESTERDAY":"yesterday","TOMORROW":"tomorrow","DATERANGE":"dateRange","FROM":"from","TO":"to","YEARTODATE":"yearToDate","LASTDAYS":"lastDays","LASTWEEKS":"lastWeeks","LASTMONTHS":"lastMonths","LASTQUARTERS":"lastQuarters","LASTYEARS":"lastYears","NEXTDAYS":"nextDays","NEXTWEEKS":"nextWeeks","NEXTMONTHS":"nextMonths","NEXTQUARTERS":"nextQuarters","NEXTYEARS":"nextYears","TODAYFROMTO":"todayFromTo","THISWEEK":"thisWeek","LASTWEEK":"lastWeek","NEXTWEEK":"nextWeek","SPECIFICMONTH":"specificMonth","THISMONTH":"thisMonth","LASTMONTH":"lastMonth","NEXTMONTH":"nextMonth","THISQUARTER":"thisQuarter","LASTQUARTER":"lastQuarter","NEXTQUARTER":"nextQuarter","QUARTER1":"quarter1","QUARTER2":"quarter2","QUARTER3":"quarter3","QUARTER4":"quarter4","THISYEAR":"thisYear","LASTYEAR":"lastYear","NEXTYEAR":"nextYear"};
function g(O){return o[O];}
var h=B.extend("sap.ui.integration.cards.filters.DateRangeFilter",{
metadata:{library:"sap.ui.integration",aggregations:{_ddr:{type:"sap.m.DynamicDateRange",multiple:false,visibility:"hidden"}}},
renderer:{apiVersion:2}
});
h.prototype.getField=function(){return this._getDdr();};
h.prototype.getValueForModel=function(){var i=this._getDdr().getValue();var v;var r;var R;if(i){v={option:g(i.operator),values:i.values.slice()};var j=a.toDates(i),s=j[0].getJSDate?j[0].getJSDate():j[0],S=i.operator==="TO"||i.operator==="FROM"?0:1,E=j[S]&&j[S].getJSDate?j[S].getJSDate():j[S];r={start:s.toISOString(),end:E.toISOString()};R={start:s.toISOString(),end:E.toISOString()};if(i.operator==="TO"){r.start=M.toISOString();R.start=d.toISOString();}if(i.operator==="FROM"){r.end=e.toISOString();R.end=f.toISOString();}}return{value:v,range:r,rangeOData:R};};
h.prototype._getDdr=function(){var C=this.getAggregation("_ddr");if(!C){C=this._createDdr();this.setAggregation("_ddr",C);}return C;};
h.prototype._createDdr=function(){var C=Object.assign({},this.getConfig());var v;if(C.value){C.value=b.resolveValue(C.value,this.getCardInstance());var O=C.value.option.toUpperCase();var t=a.getOption(O).getValueTypes();v={operator:O,values:C.value.values.map(function(k,i){if(t[i]==="date"){return new Date(k);}return k;})};}C.options=C.options||this._getDefaultOptions();C.options=C.options.map(function(O){return O.toUpperCase();});var j=new D({value:v,options:C.options}).addStyleClass("sapFCardDateRangeField");j.attachChange(function(E){if(E.getParameter("valid")){j.setValueState(V.None);this._setValue();}else{j.setValueState(V.Error);}}.bind(this));var l=this.createLabel(C);if(l){j.addAriaLabelledBy(l);}return j;};
h.prototype._getDefaultOptions=function(){return["date","today","dateRange","from","to","lastDays","nextDays","lastWeeks","nextWeeks"];};
h.prototype.getOptions=function(){return o;};
return h;});
sap.ui.predefine('sap/ui/integration/cards/filters/FilterBar',["sap/ui/core/Control"],function(C){"use strict";
var F=C.extend("sap.ui.integration.cards.filters.FilterBar",{
metadata:{library:"sap.ui.integration",properties:{},aggregations:{content:{type:"sap.ui.core.Control",multiple:false}}},
renderer:{apiVersion:2,render:function(r,f){r.openStart("div",f).class("sapFCardFilterBar").openEnd();r.renderControl(f.getContent());r.close("div");}}
});
F.prototype.showLoadingPlaceholders=function(){this._getFilters().forEach(function(f){f.showLoadingPlaceholders();});};
F.prototype.hideLoadingPlaceholders=function(){this._getFilters().forEach(function(f){f.hideLoadingPlaceholders();});};
F.prototype.refreshData=function(){this._getFilters().forEach(function(f){f.refreshData();});};
F.prototype._getFilters=function(){var c=this.getContent();return c.getItems?c.getItems():c.getContent();};
return F;});
sap.ui.predefine('sap/ui/integration/cards/filters/FilterBarFactory',["./FilterBar","./SearchFilter","./SelectFilter","./DateRangeFilter","sap/ui/base/Object","sap/m/library","sap/m/HBox","sap/ui/layout/AlignedFlowLayout"],function(F,S,a,D,B,l,H,A){"use strict";var b=l.FlexWrap;var R=l.FlexRendertype;
var c=B.extend("sap.ui.integration.util.FilterBarFactory",{
metadata:{library:"sap.ui.integration"},
constructor:function(C){B.call(this);this._oCard=C;}
});
c.prototype.create=function(f,m){var d=[],r=[],C,k,o,e,g=null;for(k in f){C=f[k];g=this._getClass(C.type);o=new g({card:this._oCard,key:k,config:C,value:{model:"filters",path:"/"+k}});m.setProperty("/"+k,o.getValueForModel());this._awaitEvent(r,o,"_ready");o._setDataConfiguration(C.data);d.push(o);}if(!d.length){return null;}if(d.length>1){e=new A({content:d,minItemWidth:"10rem",maxItemWidth:"20rem"});d.forEach(function(o){o.getField().setWidth("100%");});e.addStyleClass("sapFCardFilterBarAFLayout");}else{e=new H({wrap:b.Wrap,renderType:R.Bare,items:d});}e.addStyleClass("sapFCardFilterBarContent");var h=new F({content:e});Promise.all(r).then(function(){h.fireEvent("_filterBarDataReady");});return h;};
c.prototype._awaitEvent=function(p,f,e){p.push(new Promise(function(r){f.attachEventOnce(e,function(){r();});}));};
c.prototype._getClass=function(t){t=t||"select";switch(t.toLowerCase()){case"string":case"integer":case"select":return a;case"daterange":return D;case"search":return S;default:return undefined;}};
return c;});
sap.ui.predefine('sap/ui/integration/cards/filters/SearchFilter',["./BaseFilter","sap/m/SearchField"],function(B,S){"use strict";
var a=B.extend("sap.ui.integration.cards.filters.SearchFilter",{
metadata:{library:"sap.ui.integration",aggregations:{_searchField:{type:"sap.m.SearchField",multiple:false,visibility:"hidden"}}},
renderer:{apiVersion:2}
});
a.prototype.getField=function(){return this._getSearchField();};
a.prototype.getValueForModel=function(){return{value:this._escapeDoubleQuotes(this._getSearchField().getValue())};};
a.prototype._getSearchField=function(){var c=this.getAggregation("_searchField");if(!c){c=this._createSearchField();this.setAggregation("_searchField",c);}return c;};
a.prototype._createSearchField=function(){var c=this.getConfig();var s=new S({value:c.value,placeholder:c.placeholder});var l=this.createLabel(c);if(l){s.addAriaLabelledBy(l);}s.attachChange(function(){this._setValue();}.bind(this));return s;};
a.prototype._escapeDoubleQuotes=function(v){return v.replaceAll("\"","\\\"");};
return a;});
sap.ui.predefine('sap/ui/integration/cards/filters/SelectFilter',["./BaseFilter","sap/m/Select","sap/ui/core/ListItem","sap/ui/model/json/JSONModel","sap/ui/integration/util/BindingResolver"],function(B,S,L,J,a){"use strict";
var b=B.extend("sap.ui.integration.cards.filters.SelectFilter",{
metadata:{library:"sap.ui.integration",aggregations:{_select:{type:"sap.m.Select",multiple:false,visibility:"hidden"}}},
renderer:{apiVersion:2}
});
b.prototype.exit=function(){B.prototype.exit.apply(this,arguments);if(this._oItemTemplate){this._oItemTemplate.destroy();}};
b.prototype.getField=function(){return this._getSelect();};
b.prototype.onDataChanged=function(){var s=this._getSelect();s.setSelectedKey(this.getValue().value);};
b.prototype.getValueForModel=function(){var s=this._getSelect().getSelectedItem();if(s){return{value:s.getKey(),selectedItem:{title:s.getText(),key:s.getKey()}};}return{value:this._getSelect().getSelectedKey()};};
b.prototype.getStaticConfiguration=function(){var c=this.getConfig();var p="/";var I=this.getModel().getProperty(p);var r=[];if(c.item&&c.item.path){p=c.item.path;}for(var i=0;i<I.length;i++){if(p==="/"){r.push(a.resolveValue(c.item,this,p+i));}else{r.push(a.resolveValue(c.item,this,p+"/"+i));}}var s=Object.assign({},c);delete s.item;s.items=r;return s;};
b.prototype._getSelect=function(){var c=this.getAggregation("_select");if(!c){c=this._createSelect();this.setAggregation("_select",c);}return c;};
b.prototype._createSelect=function(){var s=new S(),i,I,c="/",C=this.getConfig(),l=this.createLabel(C);s.attachChange(function(e){this._setValue();}.bind(this));if(C&&C.item){c=C.item.path||c;}if(C&&C.item&&C.item.template){i=C.item.template.key;I=C.item.template.title;}if(C&&C.items){i="{key}";I="{title}";this.setModel(new J(C.items));}this._oItemTemplate=new L({key:i,text:I});s.bindItems({path:c,template:this._oItemTemplate});s.setSelectedKey(a.resolveValue(C.value,this.getCardInstance()));if(l){s.addAriaLabelledBy(l);}return s;};
return b;});
sap.ui.predefine('sap/ui/integration/controls/ActionsStrip',["../library","sap/m/library","sap/ui/core/Core","sap/ui/core/Control","sap/ui/integration/cards/actions/CardActions","sap/ui/integration/util/BindingHelper","sap/m/Button","sap/ui/integration/controls/LinkWithIcon","sap/m/OverflowToolbarButton","sap/m/OverflowToolbar","sap/m/OverflowToolbarLayoutData","sap/m/ToolbarSpacer"],function(l,L,C,a,b,B,c,d,O,e,f,T){"use strict";var g=L.ToolbarStyle;var A=l.CardActionArea;
var h=a.extend("sap.ui.integration.controls.ActionsStrip",{
metadata:{library:"sap.ui.integration",properties:{},aggregations:{_toolbar:{type:"sap.m.OverflowToolbar",multiple:false}},associations:{card:{type:"sap.ui.integration.widgets.Card",multiple:false}}},
renderer:{apiVersion:2,render:function(r,o){r.openStart("div",o).class("sapUiIntActionsStrip").openEnd();r.renderControl(o._getToolbar());r.close("div");}}
});
h.prototype._getToolbar=function(){var t=this.getAggregation("_toolbar");if(!t){t=new e({style:g.Clear});this.setAggregation("_toolbar",t);}return t;};
h.prototype._initButtons=function(i){if(!i||!i.length){return null;}var t=this._getToolbar(),o=C.byId(this.getCard()),j=new b({card:o}),H=false;i=B.createBindingInfos(i,o.getBindingNamespaces());i.forEach(function(m){if(m.type==="ToolbarSpacer"){H=true;t.addContent(new T());return;}var k=m.actions,n=new f({group:m.overflowGroup,priority:m.overflowPriority}),p;switch(m.type){case"Link":p=this._createLink(m);break;case"Button":default:p=this._createButton(m);break;}p.setLayoutData(n);j.attach({area:A.ActionsStrip,control:p,actions:k,enabledPropertyName:"enabled"});t.addContent(p);}.bind(this));if(!H){t.insertContent(new T(),0);}};
h.prototype._createLink=function(m){var o=new d({icon:m.icon,text:m.text,tooltip:m.tooltip,ariaHasPopup:m.ariaHasPopup,emphasized:m.emphasized,visible:m.visible});return o;};
h.prototype._createButton=function(m){var o;if(m.icon){o=new O({icon:m.icon,text:m.text||m.tooltip,tooltip:m.tooltip||m.text,type:m.buttonType,ariaHasPopup:m.ariaHasPopup,visible:m.visible});return o;}o=new c({text:m.text,tooltip:m.tooltip,type:m.buttonType,ariaHasPopup:m.ariaHasPopup,visible:m.visible});return o;};
h.create=function(o,i){if(!i){return null;}var j=new h({card:o});j._initButtons(i);return j;};
return h;});
sap.ui.predefine('sap/ui/integration/controls/ActionsToolbar',["./ActionsToolbarRenderer","sap/base/strings/capitalize","sap/ui/core/Control","sap/m/library","sap/ui/core/library","sap/m/Button","sap/m/ActionSheet","sap/ui/base/ManagedObjectObserver","sap/ui/core/Core","sap/ui/integration/cards/actions/CardActions"],function(A,c,C,l,a,B,b,M,d,e){"use strict";var f=l.ButtonType;var H=a.aria.HasPopup;
function s(o,p,v,h){return new Promise(function(r){var R;if(typeof v==="function"){R=v(h);if(R instanceof Promise){R.then(function(i){o.setProperty(p,i);r();});return;}}else{R=v;}o.setProperty(p,R);r();});}
var g=C.extend("sap.ui.integration.controls.ActionsToolbar",{
metadata:{library:"sap.ui.integration",properties:{},aggregations:{actionDefinitions:{type:"sap.ui.integration.ActionDefinition",multiple:true},_toolbar:{type:"sap.ui.core.Control",multiple:false,visibility:"hidden"},_actionSheet:{type:"sap.m.ActionSheet",multiple:false,visibility:"hidden"}},events:{visibilityChange:{parameters:{visible:{type:"boolean"}}}}},
renderer:A
});
g.prototype.init=function(){this.setAggregation("_actionSheet",new b());this._aActions=[];this._mActionObservers=new Map();this._oObserver=new M(this._observeActionsAggregation.bind(this));this._oObserver.observe(this,{aggregations:["actionDefinitions"]});};
g.prototype.exit=function(){this._oCard=null;this._aActions=null;this._oObserver.disconnect();this._oObserver=null;this._mActionObservers.clear();this._mActionObservers=null;};
g.prototype.onBeforeRendering=function(){this._updateVisibility();};
g.prototype.initializeContent=function(o){var t=this,h,i=[],j=[],k=this.getAggregation("_actionSheet"),m=o.getHostInstance(),E=o.getAggregation("_extension");if(m){j=j.concat(m.getActions()||[]);}if(E){j=j.concat(E.getActions()||[]);}this._aActions=j;j.forEach(function(n){h=t._createActionButton(n,false);i.push(h);});if(this._aButtons){this._aButtons.forEach(function(n){n.destroy();});}i.forEach(k.addButton,k);this._aButtons=i;this._refreshButtons().then(this._updateVisibility.bind(this));};
g.prototype.setCard=function(o){this._oCard=o;};
g.prototype._open=function(){this._refreshButtons().then(function(){this.getAggregation("_actionSheet").openBy(this._getToolbar());}.bind(this));};
g.prototype._getToolbar=function(){var t=this.getAggregation('_toolbar');if(!t){t=new B({id:this.getId()+"-overflowButton",icon:'sap-icon://overflow',type:f.Transparent,ariaHasPopup:H.Menu,press:function(E){this._open();}.bind(this)});this.setAggregation('_toolbar',t);}return t;};
g.prototype._refreshButtons=function(){var h=this._aActions,o=this._oCard,j=this._aButtons,m,k,i,p=[];for(i=0;i<h.length;i++){m=h[i];k=j[i];p.push(s(k,'enabled',m.enabled,o));p.push(s(k,'visible',m.visible,o));}return Promise.all(p);};
g.prototype._createActionButton=function(v,i){var S=i?this._getActionConfig(v):v;var o=new B({icon:S.icon,text:S.text,tooltip:S.tooltip,type:S.buttonType,visible:i?S.visible:false,press:function(E){var m=i?this._getActionConfig(v):v;e.fireAction({card:this._oCard,host:this._oCard.getHostInstance(),action:m,parameters:m.parameters,source:E.getSource()});}.bind(this)});if(i){o.setEnabled(S.enabled);}return o;};
g.prototype._updateVisibility=function(){var v=this.getAggregation("_actionSheet").getButtons().some(function(o){return o.getVisible();});this.fireVisibilityChange({visible:v});this.setVisible(v);};
g.prototype._getActionConfig=function(o){var S=["visible","enabled","icon","text","tooltip","parameters","buttonType","type"].reduce(function(m,k){m[k]=o["get"+c(k)]();return m;},{});S.action=function(){o.firePress();};return S;};
g.prototype._observeActionsAggregation=function(o){var h=o.child;if(o.mutation==="insert"){var i=this._createActionButton(h,true);this.getAggregation("_actionSheet").insertButton(i,this.indexOfActionDefinition(h));h.setAssociation("_menuButton",i);var j=new M(this._observeSingleAction.bind(this));j.observe(h,{properties:true,aggregations:["tooltip"]});this._mActionObservers.set(h.getId(),j);this._updateVisibility();}else if(o.mutation==="remove"){d.byId(h.getAssociation("_menuButton")).destroy();this._mActionObservers.get(h.getId()).disconnect();this._mActionObservers.delete(h.getId());}};
g.prototype._observeSingleAction=function(o){var h=o.object,n=o.name,i=d.byId(h.getAssociation("_menuButton")),v=o.current;if(["type","parameters"].indexOf(n)!==-1){return;}if(o.type==="aggregation"){v=o.child;}if(n==="buttonType"){n="type";}i["set"+c(n)](v);this._updateVisibility();};
return g;});
sap.ui.predefine('sap/ui/integration/controls/ActionsToolbarRenderer',[],function(){"use strict";var A={apiVersion:2};
A.render=function(r,a){r.openStart("div",a).class("sapUiIntActionsToolbar").openEnd();r.renderControl(a._getToolbar());r.close("div");};
return A;},true);
sap.ui.predefine('sap/ui/integration/controls/LinkWithIcon',["./LinkWithIconRenderer","sap/ui/integration/library","sap/m/Link","sap/ui/core/Icon"],function(L,l,a,I){"use strict";
var b=a.extend("sap.ui.integration.controls.LinkWithIcon",{metadata:{library:"sap.ui.integration",properties:{icon:{type:"sap.ui.core.URI",group:"Appearance",defaultValue:""}},aggregations:{_icon:{type:"sap.ui.core.Icon",multiple:false,visibility:"hidden"}}}});
b.prototype.onBeforeRendering=function(){a.prototype.onBeforeRendering.apply(this,arguments);if(this.getIcon()){this._getIcon().setSrc(this.getIcon());}this.addStyleClass("sapUiIntCardLinkWithIcon");};
b.prototype._getIcon=function(){var i=this.getAggregation("_icon");if(!i){i=new I();this.setAggregation("_icon",i);}return i;};
return b;});
sap.ui.predefine('sap/ui/integration/controls/LinkWithIconRenderer',["sap/ui/integration/library","sap/ui/core/Renderer","sap/m/LinkRenderer"],function(l,R,L){"use strict";var a=R.extend(L);a.apiVersion=2;
a.renderText=function(r,c){var i=c.getAggregation("_icon");if(i){r.renderControl(i);}L.renderText.apply(this,arguments);};
return a;},true);
sap.ui.predefine('sap/ui/integration/controls/ListContentItem',["sap/ui/integration/library","./ListContentItemRenderer","sap/m/Avatar","sap/m/AvatarShape","sap/m/AvatarSize","sap/m/StandardListItem"],function(l,L,A,a,b,S){"use strict";var c=l.AttributesLayoutType;
var d=S.extend("sap.ui.integration.controls.ListContentItem",{
metadata:{library:"sap.ui.integration",properties:{iconAlt:{type:"string",defaultValue:""},iconDisplayShape:{type:"sap.m.AvatarShape",defaultValue:a.Square},iconInitials:{type:"string",defaultValue:""},iconSize:{type:"sap.m.AvatarSize",defaultValue:b.XS},iconBackgroundColor:{type:"sap.m.AvatarColor"},attributesLayoutType:{type:"sap.ui.integration.AttributesLayoutType",defaultValue:c.TwoColumns}},aggregations:{microchart:{type:"sap.ui.integration.controls.Microchart",multiple:false},actionsStrip:{type:"sap.ui.integration.controls.ActionsStrip",multiple:false},attributes:{type:"sap.m.ObjectStatus",multiple:true},_avatar:{type:"sap.m.Avatar",multiple:false,visibility:"hidden"}}},
renderer:L
});
d.prototype._getAvatar=function(){var o=this.getAggregation("_avatar");if(!o){o=new A().addStyleClass("sapFCardIcon");this.setAggregation("_avatar",o);}o.setSrc(this.getIcon()).setDisplayShape(this.getIconDisplayShape()).setTooltip(this.getIconAlt()).setInitials(this.getIconInitials()).setDisplaySize(this.getIconSize()).setBackgroundColor(this.getIconBackgroundColor());return o;};
return d;});
sap.ui.predefine('sap/ui/integration/controls/ListContentItemRenderer',["sap/ui/integration/library","sap/ui/core/Renderer","sap/ui/core/Core","sap/ui/Device","sap/m/StandardListItemRenderer"],function(l,R,C,D,S){"use strict";var L=R.extend(S);L.apiVersion=2;var A=l.AttributesLayoutType;
L.renderLIAttributes=function(r,o){S.renderLIAttributes.apply(this,arguments);r.class("sapUiIntLCI");if(o.getIcon()){r.class("sapUiIntLCIIconSize"+o.getIconSize());}if(o.getMicrochart()){r.class("sapUiIntLCIWithChart");}if(o.getActionsStrip()){r.class("sapUiIntLCIWithActionsStrip");}if(o.getAttributes().length){r.class("sapUiIntLCIWithAttributes");}};
L.renderLIContent=function(r,o){var i=o.getInfo(),t=o.getTitle(),d=o.getDescription(),a=o.getAdaptTitleSize(),s=!t&&i;if(o.getIcon()||o.getIconInitials()){r.renderControl(o._getAvatar());}r.openStart("div").class("sapMSLIDiv");if((!d&&a&&i)||s){r.class("sapMSLIInfoMiddle");}r.openEnd();this.renderTitleWrapper(r,o);if(t&&d){this.renderDescription(r,o);}if(s&&!o.getWrapping()){this.renderInfo(r,o);}r.close("div");};
L.render=function(r,o){if(!o.getVisible()){this.renderInvisible(r,o);return;}this.openItemTag(r,o);r.class("sapMLIB");r.class("sapMLIB-CTX");r.class("sapMLIBShowSeparator");r.class("sapMLIBType"+o.getType());r.class("sapMLIB");if(D.system.desktop&&o.isActionable()){r.class("sapMLIBActionable");r.class("sapMLIBHoverable");}if(o.getSelected()){r.class("sapMLIBSelected");}if(o.getListProperty("showUnread")&&o.getUnread()){r.class("sapMLIBUnread");}this.addFocusableClasses(r,o);this.renderTooltip(r,o);this.renderTabIndex(r,o);if(C.getConfiguration().getAccessibility()){r.accessibilityState(o,this.getAccessibilityState(o));}this.renderLIAttributes(r,o);r.openEnd();this.renderContentFormer(r,o);this.renderLIContentWrapper(r,o);this.renderContentLatter(r,o);this.renderItemAttributes(r,o);this.renderFooter(r,o);this.closeItemTag(r,o);};
L.renderItemAttributes=function(r,o){var a=o.getAttributes(),s=o.getAttributesLayoutType(),b=a.length,i;if(!b){return;}r.openStart("div").class("sapUiIntLCIAttrs").openEnd();for(i=0;i<b;i++){r.openStart("div").class("sapUiIntLCIAttrRow").openEnd();r.openStart("span").class("sapUiIntLCIAttrCell").openEnd();r.renderControl(a[i]);r.close("span");if(s===A.TwoColumns){i++;if(a[i]){r.openStart("span").class("sapUiIntLCIAttrCell").class("sapUiIntLCIAttrSecondCell").openEnd();r.renderControl(a[i]);r.close("span");}}r.close("div");}r.close("div");};
L.renderFooter=function(r,o){var m=o.getMicrochart(),a=o.getActionsStrip();if(!m&&!a){return;}r.openStart("div").class("sapUiIntLCIFooter").openEnd();if(m){r.renderControl(m);}if(a){r.renderControl(a);}r.close("div");};
return L;},true);
sap.ui.predefine('sap/ui/integration/controls/Microchart',["sap/m/library","sap/ui/core/Control","sap/ui/core/Core","sap/ui/base/DataType","sap/base/Log"],function(l,C,a,D,L){"use strict";var B,b,S,c;var V=l.ValueColor;
function v(s){if(!s||typeof s!=="string"){return s;}var i=D.getType("sap.m.ValueColor").isValid(s);if(!i){L.error("The value for stacked bar color must be a valid 'sap.m.ValueColor'. Given '"+s+"'.","sap.ui.integration.controls.Microchart");return null;}return s;}
var M=C.extend("sap.ui.integration.controls.Microchart",{
metadata:{library:"sap.ui.integration",properties:{displayValue:{type:"string"},valueColor:{type:"sap.m.ValueColor",defaultValue:V.Neutral}},aggregations:{chart:{type:"sap.ui.core.Control",multiple:false}}},
renderer:{apiVersion:2,render:function(r,m){var s="sapUiIntMicrochartValue"+m.getValueColor();r.openStart("div",m).class("sapUiIntMicrochartChartWrapper").openEnd();r.openStart("div").class("sapUiIntMicrochartChart").openEnd().renderControl(m.getChart()).close("div");r.openStart("div").class("sapMSLIInfo").class(s).openEnd().text(m.getDisplayValue()).close("div");r.close("div");}}
});
M.loadDependencies=function(){return new Promise(function(r,d){a.loadLibrary("sap.suite.ui.microchart",{async:true}).then(function(){sap.ui.require(["sap/suite/ui/microchart/BulletMicroChart","sap/suite/ui/microchart/BulletMicroChartData","sap/suite/ui/microchart/StackedBarMicroChart","sap/suite/ui/microchart/StackedBarMicroChartBar"],function(_,e,f,g){B=_;b=e;S=f;c=g;r();},function(e){d(e);});}).catch(function(){d("The usage of Microcharts is not available with this distribution.");});});};
M.create=function(o){var m,d;if(o.type==="Bullet"){var t=[];if(o.thresholds){t=o.thresholds.map(function(T){return new b({value:T.value,color:T.color});});}d=new B({size:"Responsive",minValue:o.minValue,maxValue:o.maxValue,targetValue:o.target,showTargetValue:!!o.target,scaleColor:"Light",scale:o.scale,actual:new b({value:o.value,color:o.color}),thresholds:t});m=new M({valueColor:o.color,displayValue:o.displayValue,chart:d});}if(o.type==="StackedBar"){var e=o.bars.map(function(f){var g=v(f.color);return new c({value:f.value,displayValue:f.displayValue,valueColor:g});});d=new S({size:"Responsive",bars:e,maxValue:o.maxValue});m=new M({displayValue:o.displayValue,chart:d});}return m;};
return M;});
sap.ui.predefine('sap/ui/integration/controls/MicrochartLegend',["./MicrochartLegendRenderer","sap/m/Text","sap/ui/core/Control","sap/ui/core/Core","sap/ui/core/theming/Parameters","sap/ui/integration/util/BindingHelper"],function(M,T,C,a,P,B){"use strict";
var b=C.extend("sap.ui.integration.controls.MicrochartLegend",{
metadata:{library:"sap.ui.integration",aggregations:{_titles:{type:"sap.m.Text",multiple:true,visibility:"hidden"}},associations:{chart:{type:"sap.ui.core.Control",multiple:false}},events:{colorsLoad:{}}},
renderer:M
});
b.prototype.onBeforeRendering=function(){this._mLegendColors={};this._loadLegendColors();};
b.prototype.onAfterRendering=function(){this._equalizeWidths();};
b.prototype._equalizeWidths=function(){var $=this.$().children(".sapUiIntMicrochartLegendItem"),m=0;$.css("width","");$.each(function(){var c=this.getBoundingClientRect().width;if(c>m){m=c;}});$.css("min-width",m+"px");};
b.prototype.initItemsTitles=function(c,p){this.destroyAggregation("_titles");c.forEach(function(o,i){var d=B.prependRelativePaths(o.legendTitle,p+"/"+i);var t=new T({text:d});t.addEventDelegate({onAfterRendering:this._equalizeWidths},this);this.addAggregation("_titles",t);}.bind(this));};
b.prototype._loadLegendColors=function(){var c=a.byId(this.getChart()),n=[],p;if(c){n=c._calculateChartData().map(function(d){return d.color;}).filter(function(s){return s.startsWith("sapUi");});}if(n.length>0){p=P.get({name:n,callback:function(_){this._handleColorsLoad(n,_);}.bind(this)});}if(this._mLegendColors!==undefined){this._handleColorsLoad(n,p);}};
b.prototype._handleColorsLoad=function(n,p){if(typeof p==="string"){this._mLegendColors={};this._mLegendColors[n[0]]=p;}else if(p){this._mLegendColors=p;}this.fireColorsLoad();};
return b;});
sap.ui.predefine('sap/ui/integration/controls/MicrochartLegendRenderer',["sap/m/library","sap/ui/core/Core"],function(l,C){"use strict";var V=l.ValueColor;var M={apiVersion:2};
M.render=function(r,m){var c=C.byId(m.getChart()),L=[],t=m.getAggregation("_titles");if(c){L=c._calculateChartData().map(function(d){return d.color;});}r.openStart("div",m).class("sapUiIntMicrochartLegend").openEnd();L.forEach(function(s,i){r.openStart("div").class("sapUiIntMicrochartLegendItem").openEnd();r.openStart("div");M.addColor(r,m,s);r.openEnd().close("div");r.renderControl(t[i]);r.close("div");});r.close("div");};
M.addColor=function(r,m,c){if(V[c]){r.class("sapUiIntMicrochartLegendItem"+c);}else{var s=m._mLegendColors[c]||c;r.style("background",s);}};
return M;},true);
sap.ui.predefine('sap/ui/integration/controls/Paginator',["../library","sap/m/library","sap/ui/base/EventProvider","sap/ui/core/Core","sap/ui/core/Control","sap/ui/core/Configuration",'sap/ui/core/Icon','./PaginatorRenderer'],function(l,L,E,C,a,b,I){"use strict";var A=C.getConfiguration().getAnimationMode(),h=A!==b.AnimationMode.none&&A!==b.AnimationMode.minimal,s=200;
var P=a.extend("sap.ui.integration.controls.Paginator",{metadata:{library:"sap.ui.integration",properties:{card:{type:"object"},pageNumber:{type:"int",defaultValue:0},pageCount:{type:"int",defaultValue:0},pageSize:{type:"int",defaultValue:0},totalCount:{type:"int"},skip:{type:"int"}},aggregations:{_prevIcon:{type:"sap.ui.core.Icon",multiple:false,visibility:"hidden"},_nextIcon:{type:"sap.ui.core.Icon",multiple:false,visibility:"hidden"}}}});
P.create=function(c,o){if(!o){return null;}return new P({card:c,totalCount:o.totalCount,pageSize:o.pageSize,skip:o.skip});};
P.prototype.init=function(){this._listUpdateFinishedHandler=this._listUpdateFinished.bind(this);this.setAggregation("_prevIcon",new I({src:"sap-icon://slim-arrow-left",useIconTooltip:false,decorative:false,press:this._previous.bind(this)}));this.setAggregation("_nextIcon",new I({src:"sap-icon://slim-arrow-right",useIconTooltip:false,decorative:false,press:this._next.bind(this)}));};
P.prototype.exit=function(){var c=this.getCard(),o,d;if(c){if(this._dataChangedHandler){c.detachEvent("_contentDataChange",this._dataChangedHandler);}o=c.getCardContent();if(o){d=o.getAggregation("_content");if(d&&E.hasListener(d,"updateFinished",this._listUpdateFinishedHandler)){d.detachEvent("updateFinished",this._listUpdateFinishedHandler);}}}delete this._listUpdateFinishedHandler;delete this._iPreviousStartIndex;delete this._oClonedContent;};
P.prototype.isServerSide=function(){return this.getTotalCount();};
P.prototype._dataChanged=function(){var c=this.getCard(),o=c.getCardContent(),d,t,i;if(!o||!o.isA("sap.ui.integration.cards.BaseContent")){this.setPageCount(0);return;}this.setModel(o.getModel());d=o.getAggregation("_content");i=E.hasListener(d,"updateFinished",this._listUpdateFinishedHandler);if(this._hasAnimation()&&!i){d.attachEvent("updateFinished",this._listUpdateFinishedHandler);if(this.isServerSide()){o.getAggregation("_loadingProvider")._oContentPlaceholder.addDelegate({onAfterRendering:this.onPlaceholderAfterRendering.bind(this)});}}if(i){this._clearAnimation(this);}t=this.getTotalCount()||o.getDataLength();this.setPageCount(Math.ceil(t/this.getPageSize()));this.setPageNumber(Math.min(Math.max(0,this.getPageNumber()),this.getPageCount()-1));this.sliceData();};
P.prototype.setCard=function(c){this.setProperty("card",c,true);this._dataChangedHandler=this._dataChanged.bind(this);if(c){c.attachEvent("_contentDataChange",this._dataChangedHandler);}return this;};
P.prototype.sliceData=function(){var c=this.getCard(),o,S,i;if(!c){return;}o=c.getCardContent();S=this.getPageNumber()*this.getPageSize();i=this._iPreviousStartIndex!==undefined&&this._iPreviousStartIndex!==S;if(i){this._prepareAnimation(S);}if(this.isServerSide()){if(i){this.getModel("paginator").setData({skip:S,size:this.getPageSize(),pageIndex:this.getPageNumber()});if(this._hasAnimation()){o.getAggregation("_loadingProvider")._bAwaitPagination=true;c.getAggregation("_loadingProvider")._bAwaitPagination=true;}}}else{o.sliceData(S,S+this.getPageSize());}this._iPreviousStartIndex=S;};
P.prototype._prepareAnimation=function(S){if(!this._hasAnimation()){return;}var c=this.getCard().getCardContent().getDomRef(),o=c.cloneNode(true);this._bActiveAnimation=true;this._bReverseAnimation=this._iPreviousStartIndex>S;o.removeAttribute("id");o.querySelectorAll("*[id]").forEach(function(e){e.removeAttribute("id");});o.classList.add("sapFCardContentCloned");if(this._bReverseAnimation){o.classList.add("sapFCardContentReverseAnim");}if(this.isServerSide()){this._oClonedContent=o;}else{c.classList.add("sapFCardContentOriginal");if(this._bReverseAnimation){c.classList.add("sapFCardContentReverseAnim");}c.parentElement.insertBefore(o,c);}};
P.prototype._clearAnimation=function(){if(!this._hasAnimation()){return;}var c=this.getCard(),o=c.getCardContent(),d=o.getDomRef(),e=d.previousSibling,f,g;f=c.getAggregation("_loadingProvider");g=o.getAggregation("_loadingProvider");if(g._bAwaitPagination){g._bAwaitPagination=false;f._bAwaitPagination=false;}else{e.parentNode.removeChild(e);d.classList.remove("sapFCardContentOriginal");d.classList.remove("sapFCardContentTransition");d.classList.remove("sapFCardContentReverseAnim");o.hideLoadingPlaceholders();f.setLoading(false);this._bActiveAnimation=false;}};
P.prototype._listUpdateFinished=function(){if(!this._bActiveAnimation||this.isServerSide()){return;}var c=this.getCard().getCardContent(),o=c.getDomRef(),d=o.previousSibling;d.addEventListener("transitionend",function(){d.parentNode.removeChild(d);o.classList.remove("sapFCardContentOriginal");o.classList.remove("sapFCardContentTransition");o.classList.remove("sapFCardContentReverseAnim");this._bActiveAnimation=false;}.bind(this));o.classList.add("sapFCardContentTransition");d.classList.add("sapFCardContentTransition");};
P.prototype.onPlaceholderAfterRendering=function(){if(!this._oClonedContent){return;}var c=this.getCard(),o=c.getCardContent(),d=o.getDomRef(),e=this._oClonedContent;d.classList.add("sapFCardContentOriginal");d.parentElement.insertBefore(e,d);if(this._bReverseAnimation){d.classList.add("sapFCardContentReverseAnim");}this._oClonedContent.addEventListener("transitionend",function(){setTimeout(this._clearAnimation.bind(this),s);}.bind(this));this._oClonedContent=null;setTimeout(function(){e.classList.add("sapFCardContentTransition");d.classList.add("sapFCardContentTransition");},30);};
P.prototype._getNavigationArrow=function(d){return this.getAggregation("_"+d+"Icon");};
P.prototype._hasAnimation=function(){return h&&this.getCard().getCardContent().isA("sap.ui.integration.cards.ListContent");};
P.prototype._previous=function(){if(this._bActiveAnimation){return;}this.setPageNumber(Math.max(0,this.getPageNumber()-1));this.sliceData();};
P.prototype._next=function(){if(this._bActiveAnimation){return;}this.setPageNumber(Math.min(this.getPageCount()-1,this.getPageNumber()+1));this.sliceData();};
P.prototype.onmousedown=function(e){var t=e.target,d=t.getAttribute("data-slide");if(d&&!t.classList.contains("sapMCrslActive")){this.setPageNumber(parseInt(d)-1);this.sliceData();}};
return P;});
sap.ui.predefine('sap/ui/integration/controls/PaginatorRenderer',["sap/m/library","sap/ui/core/Core","sap/base/strings/capitalize","sap/ui/core/InvisibleRenderer"],function(l,C,c,I){"use strict";var r=C.getLibraryResourceBundle("sap.m");var _=5;var P={apiVersion:2};
P.render=function(R,o){var s=o.getId(),p=o.getPageNumber(),a=o.getPageCount(),i,t;if(a<=1){I.render(R,o,o.TagName);return;}R.openStart("div",o).class("sapUiIntPaginator").openEnd();R.openStart("div").class("sapMCrslControls").openEnd();R.openStart("div").class("sapMCrslControlsContainer").openEnd();this._renderArrow(R,o,"previous");R.openStart("div",s+"-pageIndicator");if(a<_){R.class("sapMCrslBulleted").openEnd();for(i=0;i<a;i++){R.openStart("span").accessibilityState({role:"img",label:r.getText("CAROUSEL_POSITION",[i+1,a])});R.attr("data-slide",i+1);if(i===p){R.class("sapMCrslActive");}R.openEnd().text(i+1).close("span");}}else{R.class("sapMCrslNumeric").openEnd();t=r.getText("CAROUSEL_PAGE_INDICATOR_TEXT",[p+1,a]);R.openStart("span",s+"-"+"slide-number").openEnd().text(t).close("span");}R.close("div");this._renderArrow(R,o,"next");R.close("div").close("div").close("div");};
P._renderArrow=function(R,o,d){R.openStart("div").class("sapMCrsl"+c(d.slice(0,4))).attr("title",r.getText("PAGINGBUTTON_"+d.toUpperCase())).openEnd();R.openStart("div").class("sapMCrslArrowInner").openEnd();R.renderControl(o._getNavigationArrow(d==="previous"?"prev":"next"));R.close("div").close("div");};
return P;},true);
sap.ui.predefine('sap/ui/integration/customElements/CustomElementBase',["sap/ui/integration/util/Utils","sap/base/strings/hyphenate","sap/base/strings/camelize"],function(U,h,c){"use strict";
function C(){if(this.constructor===C){throw new TypeError('Abstract class "CustomElementBase" cannot be instantiated directly.');}return Reflect.construct(HTMLElement,[],this.constructor);}
C.prototype=Object.create(HTMLElement.prototype);C.prototype.constructor=C;
C.prototype.connectedCallback=function(){this._init();this._upgradeAllProperties();this._oControlInstance.placeAt(this.firstElementChild);this._attachEventListeners();};
C.prototype.disconnectedCallback=function(){if(this._oControlInstance){this._oControlInstance.destroy();delete this._oControlInstance;}if(this.firstElementChild){this.removeChild(this.firstElementChild);}};
C.prototype.attributeChangedCallback=function(a,o,n){this._init();var s=c(a);if(U.isJson(n)){n=JSON.parse(n);}if(this._mAllProperties[s]){this._mAllProperties[s].set(this._oControlInstance,n);}else if(this._mAllAssociations[s]){var e=document.getElementById(n);if(e instanceof C){n=document.getElementById(n)._getControl();}this._mAllAssociations[s].set(this._oControlInstance,n);}};
C.prototype._init=function(){if(!this._oControlInstance){this._oControlInstance=new this._ControlClass();}if(!this.firstElementChild){var u=document.createElement("div");this.appendChild(u);}};
C.prototype._getControl=function(){this._init();return this._oControlInstance;};
C.prototype._attachEventListeners=function(){Object.keys(this._oMetadata.getEvents()).map(function(e){this._oControlInstance.attachEvent(e,function(E){this.dispatchEvent(new CustomEvent(e,{detail:E,bubbles:true}));},this);}.bind(this));};
C.prototype._upgradeAllProperties=function(){this._aAllProperties.forEach(this._upgradeProperty.bind(this));};
C.prototype._upgradeProperty=function(p){if(this[p]){var v=this[p];delete this[p];this[p]=v;}};
C.generateAccessors=function(p,P){P.forEach(function(s){Object.defineProperty(p,s,{get:function(){return this.getAttribute(h(s));},set:function(v){if(typeof v==="object"){v=JSON.stringify(v);}this.setAttribute(h(s),v);}});});};
C.define=function(s,a,d){d=d||[];C.awaitDependencies(d).then(function(){window.customElements.define(s,a);});};
C.awaitDependencies=function(d){var p=d.map(function(s){return window.customElements.whenDefined(s);});return Promise.all(p);};
C.extend=function(a,s){function b(){return C.apply(this,arguments);}b.prototype=Object.create(C.prototype);b.prototype.constructor=b;var p=b.prototype,k="";p._ControlClass=a;p._oMetadata=a.getMetadata();p._mAllAssociations=p._oMetadata.getAllAssociations();p._mAllProperties=p._oMetadata.getAllProperties();p._aAllProperties=[];if(s&&s.customProperties){p._mAllProperties=Object.assign(p._mAllProperties,s.customProperties);}for(k in p._mAllProperties){if(s&&s.privateProperties&&s.privateProperties.indexOf(k)!==-1){continue;}p._aAllProperties.push(k);}for(k in p._mAllAssociations){p._aAllProperties.push(k);}Object.defineProperty(b,"observedAttributes",{get:function(){var A=p._aAllProperties.map(h);return A;}});C.generateAccessors(p,p._aAllProperties);return b;};
return C;});
sap.ui.predefine('sap/ui/integration/editor/Editor',["sap/ui/core/Control","sap/ui/core/Core","sap/base/util/deepClone","sap/base/util/deepEqual","sap/base/util/merge","sap/ui/base/Interface","sap/ui/integration/Designtime","sap/ui/model/json/JSONModel","sap/ui/model/odata/v4/ODataModel","sap/ui/integration/util/Utils","sap/ui/integration/util/Destinations","sap/ui/integration/util/DataProviderFactory","sap/m/Label","sap/m/Title","sap/m/Panel","sap/m/HBox","sap/m/VBox","sap/ui/core/Icon","sap/m/ResponsivePopover","sap/m/Popover","sap/m/Text","sap/base/Log","sap/ui/core/Popup","sap/base/i18n/ResourceBundle","sap/ui/integration/editor/EditorResourceBundles","sap/ui/dom/includeStylesheet","sap/base/util/LoaderExtensions","sap/ui/core/theming/Parameters","sap/base/util/ObjectPath","sap/m/FormattedText","sap/m/MessageStrip","sap/m/ToolbarSpacer","sap/base/util/includes","sap/ui/model/resource/ResourceModel","./Manifest","./Merger","./Settings","sap/m/FlexItemData","sap/m/FlexBox","sap/m/Button","sap/m/OverflowToolbar","sap/m/IconTabBar","sap/m/IconTabFilter"],function(C,c,d,f,g,I,D,J,O,U,h,p,L,T,P,H,V,q,R,r,t,u,v,w,E,x,y,A,B,F,M,S,G,K,N,Q,W,X,Y,Z,$,_,a1){"use strict";var b1=r.prototype.init;
r.prototype.init=function(){b1.apply(this,arguments);var a=this.oPopup._applyPosition,b=this;this.oPopup._applyPosition=function(){var e=b.close;b.close=function(){};a.apply(this,arguments);b.close=e;};};
function c1(s){if(s&&s.nodeType!==1){return 0;}var z=parseInt(window.getComputedStyle(s).getPropertyValue('z-index'));if(isNaN(z)){return c1(s.parentNode);}return z+1;}
var d1=/\{\{(?!parameters.)(?!destinations.)([^\}\}]+)\}\}/g,e1=/\{\{parameters\.([^\}\}]+)/g,f1=5000,g1=c.getLibraryResourceBundle("sap.ui.integration"),h1="__strip0",i1="module:";
var j1=C.extend("sap.ui.integration.editor.Editor",{
metadata:{library:"sap.ui.integration",properties:{mode:{type:"string",defaultValue:"admin"},language:{type:"string",defaultValue:""},allowDynamicValues:{type:"boolean",defaultValue:false},allowSettings:{type:"boolean",defaultValue:false},designtime:{type:"object"},section:{type:"string",defaultValue:"sap.card"},host:{type:"string",defaultValue:""},baseUrl:{type:"sap.ui.core.URI",defaultValue:null},json:{type:"object"},previewPosition:{type:"string",defaultValue:"right"},width:{type:"sap.ui.core.CSSSize",defaultValue:""},height:{type:"sap.ui.core.CSSSize",defaultValue:""}},aggregations:{_formContent:{type:"sap.ui.core.Control",multiple:true,visibility:"hidden"},_preview:{type:"sap.ui.core.Control",multiple:false,visibility:"hidden"},_messageStrip:{type:"sap.m.MessageStrip",multiple:false,visibility:"hidden"},_extension:{type:"sap.ui.integration.editor.Extension",multiple:false,visibility:"hidden"}},events:{ready:{},manifestReady:{}}},
renderer:function(o,a){var b=a.getAggregation("_preview");var s=a.getMode()!=="translation"&&a.hasPreview();var e=a.getPreviewPosition();if(s&&(e==="top"||e==="bottom")){o.openStart("div");o.writeElementData(a);o.openEnd();if(a.isReady()&&e==="top"){o.renderControl(b);o.close("div");}}o.openStart("div");o.addClass("sapUiIntegrationEditor");if(s&&e==="left"){o.writeElementData(a);o.openEnd();if(a.isReady()){o.renderControl(b);o.close("div");}}else if(s&&(e==="bottom"||e==="top")){o.openEnd();}else{o.writeElementData(a);o.openEnd();}if(a.isReady()){o.openStart("div");o.addClass("sapUiIntegrationEditorForm");if(a.getMode()!=="translation"){o.addClass("settingsButtonSpace");}o.openEnd();if(a.getMode()!=="translation"){o.renderControl(a.getAggregation("_messageStrip"));}var k=a.getAggregation("_formContent");if(k){var z;var k1;var l1;var m1;var n1=[];var o1=[];var p1;var q1=function(){if(n1.length>0){var m=2-n1.length;for(var n=0;n<m;n++){n1.push(new V());}z.addContent(new Y({alignItems:"Start",justifyContent:"SpaceBetween",items:n1}));n1=[];}};var r1=function(){if(o1.length>0){var m=2-o1.length;for(var n=0;n<m;n++){o1.push(new V());}k1.addContent(new Y({alignItems:"Start",justifyContent:"SpaceBetween",items:o1}));o1=[];}};var s1=function(z){if(z.getContent().length>0){var m=z.getContent();if(m.length===1&&m[0].isA("sap.m.MessageStrip")){return;}if(m[0].isA("sap.m.MessageStrip")){z.removeContent(0);z.addContent(m[0]);}o.renderControl(z);if(z._messageStrip){o.renderControl(z._messageStrip);}}};var t1=function(z,k1){if(z&&k1.getContent().length>0){var m=k1.getContent();if(m[0].isA("sap.m.MessageStrip")){k1.removeContent(0);k1.addContent(m[0]);}z.addContent(k1);if(k1._messageStrip){z.addContent(k1._messageStrip);}}else{k1=null;}};var u1=function(z,k1){var n=z.getContent(),V1;if(n.length>0){for(var m=0;m<n.length;m++){if(n[m].isA("sap.m.IconTabBar")){V1=n[m];}}}if(V1&&k1.getContent().length>0){V1.addItem(k1);}};for(var i=0;i<k.length;i++){var v1=k[i];if(a.getMode()!=="translation"){if(v1.isA("sap.m.Panel")||v1.isA("sap.m.IconTabBar")){if(k1){r1();if(v1.isA("sap.m.Panel")&&k1.isA("sap.m.Panel")){t1(z,k1);}else{u1(z,k1);}}var w1=0;if(v1.isA("sap.m.Panel")){w1=v1._level;}else if(v1.isA("sap.m.IconTabBar")){w1="1";}if(w1==="1"){if(n1.length>0){q1();}if(v1.isA("sap.m.IconTabBar")){var x1=z.getContent(),y1=false,z1;if(x1.length>0){for(var j=0;j<x1.length;j++){if(x1[j].isA("sap.m.IconTabBar")){y1=true;z1=x1[j];}}}if(!y1){k1=v1.getItems()[0];k1._subItems=[];v1.removeItem(v1.getItems()[0]);if(v1.isA("sap.m.IconTabBar")&&v1._messageStrip){z.addContent(v1._messageStrip);}v1.addStyleClass("sapUiIntegrationEditorSubTab");z.addContent(v1);}else{k1=v1.getItems()[0];k1._subItems=[];z1.addItem(v1.getItems()[0]);v1.destroy();}}else{k1=v1;k1._subItems=[];k1.addStyleClass("sapUiIntegrationEditorSubGroup");}}else{if(z){q1();s1(z);k1=null;}z=v1;z._subItems=[];z.addStyleClass("sapUiIntegrationEditorItem");}if(i===k.length-1){q1();s1(z);}continue;}if(v1.isA("sap.m.FormattedText")){if(k1){k1.addContent(v1.addStyleClass("sapUiIntegrationEditorHint"));}else{z.addContent(v1.addStyleClass("sapUiIntegrationEditorHint"));}if(i===k.length-1){if(k1){r1();t1(z,k1);}q1();s1(z);}continue;}var A1=v1._layout;if(v1.isA("sap.m.Label")){v1.addStyleClass("sapUiIntegrationEditorItemLabel");if(A1&&!f(A1,{})){if(A1.alignment&&A1.alignment.label==="end"){v1.setTextAlign("End");}m1=v1;}else{if(v1._cols===2){if(k1){r1();}else{q1();}}else if(o1.length===2){r1();}else if(n1.length===2){q1();}if(k1){k1.addContent(v1);}else{z.addContent(v1);}}}else if(v1.isA("sap.m.ToolbarSpacer")){if(v1._hasLine){v1.addStyleClass("sapUiIntegrationEditorSpacerWithLine");}else{v1.addStyleClass("sapUiIntegrationEditorSpacerWithoutLine");}if(k1){r1();k1.addContent(v1);}else{q1();z.addContent(v1);}}else{var B1=v1.getConfiguration(),C1=new H(),D1=0.1,E1=0,F1;if(v1._descriptionIcon){C1.addItem(v1._descriptionIcon);D1+=0.9;}var G1=c.byId(v1.getAssociation("_messageIcon"));if(v1.getAssociation("_messageIcon")&&G1){C1.addItem(G1);D1+=1.2;}if(v1._settingsButton){v1._settingsButton.addStyleClass("sapUiIntegrationEditorSettingsButton");E1=2;}var H1=new X({growFactor:10,maxWidth:"calc(100% - "+E1+"rem)"});var I1=new X({maxWidth:"calc(100% - "+D1+"rem)"});if(m1){var J1,K1,L1="50%";if(A1&&A1["label-width"]){L1=A1["label-width"];}var M1=parseInt(L1);var N1=100-M1;if(v1._cols===2){M1=M1-0.5;N1=N1-0.5;}if(A1.alignment&&A1.alignment.field==="end"){v1.addStyleClass("sapUiIntegrationEditorFieldAlignEnd");}if(A1.alignment&&A1.alignment.label==="end"){m1.setLayoutData(new X({maxWidth:"calc(100% - "+D1+"rem)",minWidth:"calc(100% - "+D1+"rem)"}));}else{m1.setLayoutData(I1);}if(C1.getItems().length>0){m1.addStyleClass("sapUiIntegrationEditorItemLabelWithInfo");F1=new H({items:[m1,C1]});}else{F1=m1;}if(A1&&A1.position&&A1.position==="field-label"){F1.setLayoutData(H1);K1=new H({alignItems:"Start",justifyContent:"SpaceBetween",items:[F1,v1._settingsButton]});K1.setLayoutData(new X({growFactor:M1,maxWidth:M1+"%"}));v1.setLayoutData(new X({growFactor:N1,maxWidth:N1+"%"}));J1=new H({alignItems:"Start",justifyContent:"SpaceBetween",items:[v1,K1]});}else{v1.setLayoutData(H1);K1=new H({alignItems:"Start",justifyContent:"SpaceBetween",items:[v1,v1._settingsButton]});F1.setLayoutData(new X({growFactor:M1,maxWidth:M1+"%"}));K1.setLayoutData(new X({growFactor:N1,maxWidth:N1+"%"}));J1=new H({alignItems:"Start",justifyContent:"SpaceBetween",items:[F1,K1]});}if(v1._cols===1){if(k1){if(o1.length===2){r1();}if(B1.hint){var O1=a._createHint(B1.hint);var P1=new V({items:[J1,O1.addStyleClass("sapUiIntegrationEditorHint")]});P1.addStyleClass("col1");o1.push(P1);}else{J1.addStyleClass("col1");o1.push(J1);}}else{if(n1.length===2){q1();}if(B1.hint){var O1=a._createHint(B1.hint);var P1=new V({items:[J1,O1.addStyleClass("sapUiIntegrationEditorHint")]});P1.addStyleClass("col1");n1.push(P1);}else{J1.addStyleClass("col1");n1.push(J1);}}}else if(k1){r1();k1.addContent(J1);}else{q1();z.addContent(J1);}m1=null;}else{var Q1;if(k1){Q1=k1.getContent().pop();}else{Q1=z.getContent().pop();}Q1.setLayoutData(I1);if(C1.getItems().length>0){Q1.addStyleClass("sapUiIntegrationEditorItemLabelWithInfo");F1=new H({items:[Q1,C1]});}else{F1=Q1;}F1.setLayoutData(H1);var R1=new Y({alignItems:"Start",justifyContent:"SpaceBetween",items:[F1,v1._settingsButton]});if(v1._cols===1){var P1=new V({items:[R1,v1]});if(B1.hint){var O1=a._createHint(B1.hint);P1.addItem(O1.addStyleClass("sapUiIntegrationEditorHint"));}P1.addStyleClass("col1");if(k1){o1.push(P1);}else{n1.push(P1);}}else if(k1){k1.addContent(R1);k1.addContent(v1);}else{z.addContent(R1);z.addContent(v1);}}if(k1){k1._subItems.push({"settingspath":v1.getConfiguration()._settingspath,"itemId":v1.getId()});}z._subItems.push({"settingspath":v1.getConfiguration()._settingspath,"itemId":v1.getId()});}if(i===k.length-1){if(k1){r1();if(k1.isA("sap.m.Panel")){t1(z,k1);}else{u1(z,k1);}}q1();s1(z);}}else{if(i===0){l1=v1;o.renderControl(l1);l1.addStyleClass("sapUiIntegrationEditorTranslationPanel");continue;}if(v1.isA("sap.m.Panel")||v1.isA("sap.m.IconTabBar")){if(k1){if(v1.isA("sap.m.Panel")&&k1.isA("sap.m.Panel")){t1(z,k1);}else{u1(z,k1);}}var S1=0;if(v1.isA("sap.m.Panel")){S1=v1._level;}else if(v1.isA("sap.m.IconTabBar")){if(v1.getItems().length>0&&v1.getItems()[0]._level){S1=v1.getItems()[0]._level;}}if(S1==="1"){if(v1.isA("sap.m.IconTabBar")){if(i!==k.length-1||(i<k.length&&(k[i].isA("sap.m.IconTabBar")||k[i].isA("sap.m.Panel")))){var T1=z.getContent(),U1=false;if(T1.length>0){for(var l=0;l<T1.length;l++){if(T1[l].isA("sap.m.IconTabBar")){U1=true;}}}if(!U1){k1=v1.getItems()[0];v1.removeItem(v1.getItems()[0]);z.addContent(v1);}else{k1=v1.getItems()[0];}}}else{k1=v1;k1.addStyleClass("sapUiIntegrationEditorSubGroup");}}else{k1=null;if(z&&z.getContent().length>0){l1.addContent(z);}z=v1;z.addStyleClass("sapUiIntegrationEditorSubGroup");}if(i===k.length-1){q1();s1(z);}continue;}if(v1.isA("sap.m.ToolbarSpacer")){continue;}if(v1.isA("sap.m.FormattedText")){continue;}if(v1.isA("sap.m.Label")){if(k1){k1.addContent(v1);}else{z.addContent(v1);}continue;}if(v1.isOrigLangField){p1=v1;continue;}p1.addStyleClass("sapUiIntegrationFieldTranslationText");var J1=new H({items:[p1,v1]}).addStyleClass("notWrappingRow");if(k1){k1.addContent(J1);}else{z.addContent(J1);}if(i===k.length-1){if(k1){if(k1.isA("sap.m.Panel")){t1(z,k1);}else{u1(z,k1);}}l1.addContent(z);}}}}o.close("div");if(s&&e==="right"){o.renderControl(b);}}o.close("div");if(a.isReady()&&s&&e==="bottom"){o.renderControl(b);o.close("div");}}
});
j1.prototype.init=function(){this._ready=false;this._aFieldReadyPromise=[];this._oResourceBundle=c.getLibraryResourceBundle("sap.ui.integration");this._appliedLayerManifestChanges=[];this._currentLayerManifestChanges={};this._mDestinationDataProviders={};var m=new M({showIcon:false});m.addStyleClass("sapUiIntegrationEditorFieldMessageStrip");this.setAggregation("_messageStrip",m);h1=m.getId();this.setLanguage(c.getConfiguration().getLanguage());this._oLimitedInterface=new I(this,["getParameters","resolveDestination","request","getModel"]);};
j1.prototype.getParameters=function(){if(!this._isManifestReady){u.error("The manifest is not ready. Consider using the 'manifestReady' event.","sap.ui.integration.editor.Editor");return null;}var o=this._oEditorManifest.getProcessedParameters(),a={},k;for(k in o){a[k]=o[k].value;}return a;};
j1.prototype.resolveDestination=function(k){return this._oDestinations.getUrl(k);};
j1.prototype.isReady=function(){return this._ready;};
j1.prototype.hasPreview=function(){var o=this.getAggregation("_preview");if(o&&o.visible!==false){return true;}return false;};
j1.prototype.flattenData=function(o,s,a,b){b=b||"";a=a||[];if(typeof o==="object"){if(!o[s]){for(var n in o){this.flattenData(o[n],s,a,b+"/"+n);}}else{if(o.type){a.push({path:o.pathvalue||b.substring(1),value:o.pathvalue||"{context>"+b.substring(1)+"/value}",object:o});}else{a.push({path:b.substring(1),object:o});for(var n in o){this.flattenData(o[n],s,a,b+"/"+n);}}}}return a;};
j1.prototype.setJson=function(i,s){this._ready=false;if(f(i,this._preIdOrSettings)){return this;}this._preIdOrSettings=d(i,500);if(typeof i==="string"){try{i=JSON.parse(i);}catch(e){}}if(typeof i==="object"){if(i.manifestChanges){this._filterManifestChangesByLayer(i);}if(this._manifestModel){return;}if(this._oDesigntimeInstance){this._oDesigntimeInstance.destroy();}if(i.host){this.setProperty("host",i.host);}if(i.baseUrl){this.setProperty("baseUrl",i.baseUrl);}this._appliedLayerManifestChanges=i.manifestChanges;this.createManifest(i,s);}};
j1.prototype.createManifest=function(i,s){var b=this.getBaseUrl();var o={},m=i.manifest;this._isManifestReady=false;if(typeof m==="string"){o.manifestUrl=m;m=null;}if(this._oEditorManifest){this._oEditorManifest.destroy();}this.destroyAggregation("_extension");var a=Q.layers[this.getMode()];this._oEditorManifest=new N(this.getSection(),m,b,i.manifestChanges);this._oEditorManifest.load(o).then(function(){this._registerManifestModulePath();this._oInitialManifestModel=new J(this._oEditorManifest._oInitialJson);this.setProperty("json",this._oEditorManifest._oInitialJson,s);var e=this._oEditorManifest.oJson;var j=g({},e);this._beforeManifestModel=new J(j);if(a<Q.layers["translation"]&&this._currentLayerManifestChanges){e=Q.mergeDelta(e,[this._currentLayerManifestChanges],this.getSection());}this._manifestModel=new J(e);this._isManifestReady=true;this.fireManifestReady();var k=this._oEditorManifest.get("/sap.app/i18n");var l=this.getBaseUrl()+k;if(k&&E.getResourceBundleURL()!==l){E.setResourceBundleURL(l);}this._loadDefaultTranslations();this._createContextModel();if(this._oEditorManifest.getResourceBundle()){this._enhanceI18nModel(this._oEditorManifest.getResourceBundle());}return this._loadExtension().then(function(){this._initInternal();}.bind(this));}.bind(this));};
j1.prototype._registerManifestModulePath=function(){if(!this._oEditorManifest){return;}this._sAppId=this._oEditorManifest.get("/sap.app/id");if(this._sAppId){y.registerResourcePath(this._sAppId.replace(/\./g,"/"),this._oEditorManifest.getUrl()||"/");}else{u.error("sap.app/id entry in the manifest is mandatory");}};
j1.prototype._loadDefaultTranslations=function(){if(this._defaultTranslationsLoaded){return;}var g1=c.getLibraryResourceBundle("sap.ui.integration");var o=new K({bundle:g1});this.setModel(o,"i18n");this._oResourceBundle=g1;this._defaultTranslationsLoaded=true;};
j1.prototype._enhanceI18nModel=function(g1){var o=this.getModel("i18n");if(o.getResourceBundle().oUrlInfo.url!==g1.oUrlInfo.url){o.enhance(g1);this._oResourceBundle=o.getResourceBundle();}};
j1.prototype._loadExtension=function(){var e=this._oEditorManifest.get(this.getConfigurationPath()+"/extension")||this._oEditorManifest.get("/"+this.getSection()+"/extension"),s;if(!e){u.info("Extension is not defined in manifest, do not load it.");return new Promise(function(a,b){a();});}if(e.startsWith(i1)){s=e.replace(i1,"");}else{s=this._sAppId.replace(/\./g,"/")+"/"+e;}return new Promise(function(a,b){sap.ui.require([s],function(i){var o=new i();o._setEditor(this,this._oLimitedInterface);this.setAggregation("_extension",o);a();}.bind(this),function(i){u.error("Failed to load "+e+". Check if the path is correct. Reason: "+i);b(i);});}.bind(this));};
j1.prototype.request=function(o){return this._oDataProviderFactory.create({request:o}).setAllowCustomDataType(true).getData();};
j1.prototype.initDestinations=function(a){var o=this.getHostInstance();if(a&&!o){u.error("Host with id '"+a+"' is not available during editor initialization. It must be available for host specific features to work.","Make sure that the host already exists, before assigning it to the editor.","sap.ui.integration.editor.Editor");}if(this._oDestinations){this._oDestinations.setHost(o);}else{var s=this.getConfigurationPath();this._oDestinations=new h({host:o,manifestConfig:this._manifestModel.getProperty(s+"/destinations")});}};
j1.prototype.initDataProviderFactory=function(){if(this._oDataProviderFactory){this._oDataProviderFactory.destroy();}var e=this.getAggregation("_extension");this._oDataProviderFactory=new p({destinations:this._oDestinations,extension:e,editor:this});};
j1.prototype.getRuntimeUrl=function(s){var a=this._sAppId,b,e=s&&s.trim().replace(/^\//,"");if(a===null){u.error("The manifest is not ready so the URL can not be resolved. Consider using the 'manifestReady' event.","sap.ui.integration.editor.Editor");return null;}if(!a||s.startsWith("http://")||s.startsWith("https://")||s.startsWith("//")){return s;}b=a.replace(/\./g,"/");return sap.ui.require.toUrl(b)+"/"+e;};
j1.prototype.getBindingNamespaces=function(){var n={},e=this.getAggregation("_extension");if(e){n.extension={formatters:e.getFormatters()};}return n;};
j1.prototype.getHostInstance=function(){var s=this.getHost();if(!s){return null;}return c.byId(s);};
j1.prototype.setLanguage=function(s,b){if(!s||typeof s!=="string"){return this;}this._language=s.replaceAll('_','-');if(this.getLanguage()!=s){this._loadDefaultTranslations();}this.setProperty("language",s,b);if(!j1._languages[this._language]){this._language=this._language.split("-")[0];}if(!j1._languages[this._language]){u.warning("The language: "+s+" is currently unknown, some UI controls might show "+s+" instead of the language name.");}return this;};
j1.prototype.onAfterRendering=function(){if(this.getDomRef()){this._iZIndex=c1(this.getDomRef());v.setInitialZIndex(this._iZIndex);}};
j1.prototype._filterManifestChangesByLayer=function(m){var a=[],b=this,o={},e={":layer":Q.layers[this.getMode()]},i=Q.layers[b.getMode()];m.manifestChanges.forEach(function(j){var l=j.hasOwnProperty(":layer")?j[":layer"]:1000;if(l===Q.layers["translation"]){var k=b._language;if(k===""){k=c.getConfiguration().getLanguage().replaceAll('_','-');}var n={"texts":{}};delete j.texts;n.texts[k]={};Object.keys(j).forEach(function(s){if(s.charAt(0)==="/"){n.texts[k][s]=j[s];}else{n[s]=j[s];}});j=n;}if(l<i){a.push(j);o=g(o,j);}else if(l===i){e=j;}});m.manifestChanges=a;this._currentLayerManifestChanges=e;this._beforeLayerManifestChanges=o;};
j1.prototype._initInternal=function(){var a=this;var s=a.getConfigurationPath();var b=a._oEditorManifest.get(s+"/editor");if(!b){b=a._oEditorManifest.get("/"+a.getSection()+"/designtime");}var o=a._manifestModel.getProperty(s),e,i=a.getDesigntime();if(i){if(typeof i==="function"){e=new Promise(function(j,k){var l=new i();a._applyDesigntimeDefaults(l.getSettings());j(l);});}else if(typeof i==="object"){e=new Promise(function(j,k){sap.ui.require(["sap/ui/integration/Designtime"],function(D){var l=D.extend("test.Designtime");l.prototype.create=function(){return i;};var m=new l();a._applyDesigntimeDefaults(m.getSettings());j(m);});});}}else if(b){e=a.loadDesigntime().then(function(j){a._applyDesigntimeDefaults(j.getSettings());return j;});}else{e=Promise.resolve(a._createParameterDesigntime(o));}e.then(function(j){a._oDesigntimeInstance=j;a.initDestinations();a.initDataProviderFactory();if(a.getMode()==="admin"||a.getMode()==="all"){a._addDestinationSettings(o,a._oDesigntimeInstance);}a._settingsModel=new J(a._oDesigntimeInstance.getSettings());a.setModel(a._settingsModel,"currentSettings");a.setModel(a._settingsModel,"items");return a._loadValueContextInDesigntime();}).then(function(){a._applyDesigntimeLayers();return a._requestExtensionData();}).then(function(){a._requireFields().then(function(){a._startEditor();});});};
j1.prototype.loadDesigntime=function(){if(this._oDesigntime){return Promise.resolve(this._oDesigntime);}if(!this._oEditorManifest){return new Promise(function(a,b){this.attachManifestReady(function(){this.loadDesigntime().then(a,b);}.bind(this));}.bind(this));}if(!this._sAppId){return Promise.reject("App id not maintained");}return new Promise(function(a,b){var s=this._oEditorManifest.get(this.getConfigurationPath()+"/editor");if(!s){s=this._oEditorManifest.get("/"+this.getSection()+"/designtime");}var e=this._sAppId.replace(/\./g,"/")+"/"+s;if(e){sap.ui.require([e],function(o){o=new o();o._readyPromise(this._oLimitedInterface,this).then(function(){this._oDesigntime=o;a(o);}.bind(this));}.bind(this),function(){b({error:e+" not found"});});}else{b();}}.bind(this));};
j1.prototype.getConfigurationPath=function(){return"/"+this.getSection()+"/configuration";};
j1.prototype.getCurrentSettings=function(){var s=this._settingsModel.getProperty("/"),m={},e;if(s&&s.form&&s.form.items){for(var n in s.form.items){var o=s.form.items[n];if(o.editable&&o.visible){if(this.getMode()!=="translation"){if(o.translatable&&!o._changed&&o._translatedPlaceholder&&!this._currentLayerManifestChanges[o.manifestpath]){}else{if(o.valueItems){m[o.manifestpath.substring(0,o.manifestpath.lastIndexOf("/"))+"/valueItems"]=o.valueItems;}if(o.valueTokens){m[o.manifestpath.substring(0,o.manifestpath.lastIndexOf("/"))+"/valueTokens"]=o.valueTokens;}switch(o.type){case"string":if(!o.translatable){m[o.manifestpath]=o.value;}else if(o._hasDynamicValue){m[o.manifestpath]=o.value;this.deleteAllTranslationValuesInTexts(o.manifestpath);}else if(o._beforeValue&&(o._beforeValue.indexOf("{context>")===0||o._beforeValue.indexOf("{{parameters")===0)){m[o.manifestpath]=o.value;}break;case"group":break;case"object":case"object[]":if(Array.isArray(o.value)){var j=d(o.value,500);j=j.sort(function(a,b){if(!a._dt||!a._dt._position||!b._dt||!b._dt._position){return 0;}return a._dt._position-b._dt._position;});for(var i=0;i<j.length;i++){var k=j[i];k._dt._position=i+1;}m[o.manifestpath]=j;}break;default:m[o.manifestpath]=o.value;}}}else if(o.translatable&&o.value){m[o.manifestpath]=o.value;}if(o._next&&(this.getAllowSettings())){var l=typeof(o.visibleToUser)==="undefined"?true:o.visibleToUser;var z=typeof(o.editableToUser)==="undefined"?true:o.editableToUser;if(o._next.visible===!l){e=e||{};e[o._settingspath+"/visible"]=o._next.visible;}if(o._next.editable===!z){e=e||{};e[o._settingspath+"/editable"]=o._next.editable;}if(o._next.pageAdminValues){e=e||{};e[o._settingspath+"/pageAdminValues"]=o._next.pageAdminValues;}if(typeof o._next.allowDynamicValues==="boolean"&&this.getAllowDynamicValues()){e=e||{};e[o._settingspath+"/allowDynamicValues"]=o._next.allowDynamicValues;}}}}}if(this.getMode()==="translation"){delete m.texts;}else if(s.texts){m.texts=d(s.texts,500)||{};for(var k1 in m.texts){for(var l1 in m.texts[k1]){if(typeof m.texts[k1][l1]==="object"){var m1=m[l1];if(!m1||typeof m1!=="object"||f(m1,{})||f(m1,[])){delete m.texts[k1][l1];}else if(Array.isArray(m1)){var n1=m1.map(function(a){return a._dt?a._dt._uuid||"":"";});for(var o1 in m.texts[k1][l1]){if(!G(n1,o1)){delete m.texts[k1][l1][o1];}}}else{var p1=m1._dt?m1._dt._uuid||"":"";if(p1!==""){var q1=m.texts[k1][l1][p1];if(!q1){delete m.texts[k1][l1];}else{m.texts[k1][l1]={};m.texts[k1][l1][p1]=q1;}}else{delete m.texts[k1][l1];}}}}if(f(m.texts[k1],{})){delete m.texts[k1];}}if(f(m.texts,{})){delete m.texts;}}m[":layer"]=Q.layers[this.getMode()];m[":errors"]=this.checkCurrentSettings()[":errors"];if(e){m[":designtime"]=e;}if(s[":designtime"]){m[":designtime"]=g(m[":designtime"],s[":designtime"]);}return m;};
j1.prototype.checkCurrentSettings=function(){var s=this._settingsModel.getProperty("/"),m={};if(s&&s.form&&s.form.items){for(var n in s.form.items){var i=s.form.items[n];if(i.editable){if((i.isValid||i.required)&&!(this.getMode()==="translation"&&i.translatable)){if(i.isValid){m[i.manifestpath]=i.isValid(i);}m[i.manifestpath]=true;var a=i.value;var b=i.type;if(b==="string"&&a===""){m[i.manifestpath]=a;}if((b==="date"||b==="datetime")&&isNaN(Date.parse(a))){m[i.manifestpath]=a;}if(b==="integer"){if(isNaN(parseInt(a))){m[i.manifestpath]=a;}else if(a<i.min||a>i.max){m[i.manifestpath]=a;}}if(b==="number"){if(isNaN(parseFloat(a))){m[i.manifestpath]=a;}else if(a<i.min||a>i.max){m[i.manifestpath]=a;}}}}}m[":layer"]=Q.layers[this.getMode()];}m[":errors"]=Object.values(m).indexOf(false)>-1;return m;};
j1.prototype._createContextModel=function(){var b=this.getHostInstance(),e=new J({}),i=new J([]);this.setModel(e,"context");this.setModel(i,"contextflat");e._aPendingPromises=[];i._getPathObject=function(s){var a=this.getData().filter(function(o){if(o.path===s){return true;}});return a.length?a[0]:null;};i._getValueObject=function(s){var a=this.getData()||[];a=a.filter(function(o){if(o.value===s||o.object.value===s){return true;}});return a.length?a[0]:null;};var j=new Promise(function(a,k){if(b&&b.getContext){var l=false;setTimeout(function(){if(l){return;}u.error("Editor context could not be determined with "+f1+".");l=true;a({});},f1);b.getContext().then(function(o){if(l){u.error("Editor context returned after more than "+f1+". Context is ignored.");}l=true;a(o||{});});}else{a({});}});j.then(function(o){var a=this._mergeContextData(o);e.setData(a);i.setData(this.flattenData(a,"label"));}.bind(this));e.getProperty=function(s,o){if(s&&!s.startsWith("/")&&!o){s="/"+s;}var a=this.resolve(s,o),k;if(a.endsWith("/value")){this._mValues=this._mValues||{};if(this._mValues.hasOwnProperty(a)){return this._mValues[a];}this._mValues[a]=undefined;k=U.timeoutPromise(b.getContextValue(a.substring(1)));k=k.then(function(l){this._mValues[a]=l;this.checkUpdate();}.bind(this)).catch(function(l){this._mValues[a]=null;this.checkUpdate();u.error("Path "+a+" could not be resolved. Reason: "+l);}.bind(this));this._aPendingPromises.push(k);return undefined;}else{return J.prototype.getProperty.apply(this,arguments);}};};
j1.prototype._mergeContextData=function(o){var a={};a["empty"]=j1._contextEntries.empty;for(var n in o){a[n]=o[n];}a["editor.internal"]=j1._contextEntries["editor.internal"];return a;};
j1.prototype._loadValueContextInDesigntime=function(){var o=this.getModel("context");var s=this._oDesigntimeInstance.getSettings();var i;if(s&&s.form&&s.form.items){i=JSON.stringify(s.form.items);}if(i){var a=/\{context\>[\/?\w+.]+\}/g;var b=i.match(a);var e;if(b&&b.length>0){b=b.filter(function(j){return j.endsWith("value}");});e=b.map(function(j){return j.substring("{context>".length,j.length-1);});e.forEach(function(j){o.getProperty(j);});return Promise.all(o._aPendingPromises).then(function(){o._aPendingPromises=[];});}}return Promise.resolve();};
j1.fieldMap={"string":"sap/ui/integration/editor/fields/StringField","string[]":"sap/ui/integration/editor/fields/StringListField","integer":"sap/ui/integration/editor/fields/IntegerField","number":"sap/ui/integration/editor/fields/NumberField","boolean":"sap/ui/integration/editor/fields/BooleanField","date":"sap/ui/integration/editor/fields/DateField","datetime":"sap/ui/integration/editor/fields/DateTimeField","object":"sap/ui/integration/editor/fields/ObjectField","object[]":"sap/ui/integration/editor/fields/ObjectListField","destination":"sap/ui/integration/editor/fields/DestinationField"};j1.Fields=null;
j1.prototype._requireFields=function(){if(j1.Fields){return Promise.resolve();}return new Promise(function(a){sap.ui.require(Object.values(j1.fieldMap),function(){j1.Fields={};for(var n in j1.fieldMap){j1.Fields[n]=arguments[Object.keys(j1.fieldMap).indexOf(n)];}a();});});};
j1.prototype._createDescription=function(o){var a=new q({src:"sap-icon://message-information",color:"Marker",size:"12px",useIconTooltip:false,visible:o.visible,objectBindings:{currentSettings:{path:"currentSettings>"+o._settingspath},items:{path:"items>/form/items"},context:{path:"context>/"}}});a.addStyleClass("sapUiIntegrationEditorDescriptionIcon");a.onmouseover=function(a){this._getPopover().getContent()[0].applySettings({text:o.description});this._getPopover().openBy(a);a.addDependent(this._getPopover());}.bind(this,a);a.onmouseout=function(a){this._getPopover().close();a.removeDependent(this._getPopover());}.bind(this,a);return a;};
j1.prototype._createMessageIcon=function(o){var a=o.getConfiguration();var m=new q({src:"sap-icon://message-information",size:"12px",visible:a.visible,useIconTooltip:false,objectBindings:{currentSettings:{path:"currentSettings>"+a._settingspath},items:{path:"items>/form/items"},context:{path:"context>/"}}});m.onmouseover=function(o){o._showMessage();}.bind(this,o);m.onmouseout=function(o){o._hideMessage();}.bind(this,o);m.addStyleClass("sapUiIntegrationEditorMessageIcon");return m;};
j1.prototype._createLabel=function(o){var l=new L({text:o.label,tooltip:o.tooltip||o.label,required:o.required&&o.editable||false,visible:o.visible,objectBindings:{currentSettings:{path:"currentSettings>"+o._settingspath},items:{path:"items>/form/items"},context:{path:"context>/"}}});l._cols=o.cols||2;if(o.layout){l._layout=o.layout;}l._sOriginalType=o.type;return l;};
j1.prototype._createSettingsButton=function(o){var a=o.getConfiguration();var s=new Z({icon:"{= ${currentSettings>_hasDynamicValue} ? 'sap-icon://display-more' : 'sap-icon://enter-more'}",type:"Transparent",tooltip:this._oResourceBundle.getText("EDITOR_FIELD_MORE_SETTINGS"),press:function(e){this._openSettingsDialog(200,e.oSource,o);}.bind(this),visible:a.visible,objectBindings:{currentSettings:{path:"currentSettings>"+a._settingspath},items:{path:"items>/form/items"},context:{path:"context>/"}}});return s;};
j1.prototype._getSettingsPanel=function(o){if(!o._oSettingsPanel){o._oSettingsPanel=new W();}return o._oSettingsPanel;};
j1.prototype._openSettingsDialog=function(i,s,o){var a=this._getSettingsPanel(o);window.setTimeout(function(){a.setConfiguration(o.getConfiguration());var b=this.getAggregation("_preview");a.open(s,s,b,o.getHost(),o,o._applySettings.bind(o),o._cancelSettings.bind(o));}.bind(this),i||600);};
j1.prototype._getPopover=function(){if(this._oPopover){return this._oPopover;}var o=new t({text:""});o.addStyleClass("sapUiTinyMargin sapUiIntegrationEditorDescriptionText");this._oPopover=new R({showHeader:false,content:[o]});this._oPopover.addStyleClass("sapUiIntegrationEditorPopover");return this._oPopover;};
j1.prototype._createField=function(o){var a=new j1.Fields[o.type]({configuration:o,mode:this.getMode(),host:this.getHostInstance(),objectBindings:{currentSettings:{path:"currentSettings>"+o._settingspath},items:{path:"items>/form/items"},context:{path:"context>/"}},visible:o.visible});this._aFieldReadyPromise.push(a._readyPromise.then(function(){if(o.require||o.validation||(o.validations&&o.validations.length>0)||(o.values&&o.values.data&&!o.values.data.json)){var m=this._createMessageIcon(a);a.setAssociation("_messageIcon",m);}if(o.description&&this.getMode()!=="translation"){a._descriptionIcon=this._createDescription(o);}if(o._changeDynamicValues){a._settingsButton=this._createSettingsButton(a);a._applyButtonStyles();}}.bind(this)));a._oValueBinding=this._settingsModel.bindProperty(o._settingspath+"/value");a._oValueBinding.attachChange(function(){if(!this._bIgnoreUpdates){o._changed=true;if(o._dependentFields&&o._dependentFields.length>0){this._updateEditor(o._dependentFields);}this._updatePreview();}}.bind(this));if(a.isFilterBackend()){var s=this._settingsModel.bindProperty(o._settingspath+"/suggestValue");s.attachChange(function(){var b=g({},o);b._cancel=false;this._addValueListModel(b,a);}.bind(this));}if(o.values){if(o.values.metadata){this._addMetadataModel(o,a);}if(o.type==="string[]"&&a.isFilterBackend()&&o.visualization&&o.visualization.type==="MultiInput"){a.setModel(new J({}),undefined);}else{this._addValueListModel(o,a);}}this._createDependentFields(o,a);a._cols=o.cols||2;if(o.layout){a._layout=o.layout;}a._oDataProviderFactory=this._oDataProviderFactory;a.setAssociation("_messageStrip",h1);return a;};
j1.prototype._updateEditor=function(a){if(this._ready){if(a.length===0){return;}for(var i=0;i<a.length;i++){var o=a[i];o.config._cancel=true;}if(!this._oDataProviderFactory){return;}this._bIgnoreUpdates=true;for(var i=0;i<a.length;i++){var o=a[i];o.config._cancel=false;this._addValueListModel(o.config,o.field,500*i);}this._bIgnoreUpdates=false;}};
j1.prototype._updatePreview=function(){var o=this.getAggregation("_preview");if(o&&o.update){o.update();}};
j1.prototype._requestData=function(o,a){var b=this._oDataProviderFactory.create(o.values.data);b.bindObject({path:"items>/form/items"});b.bindObject({path:"currentSettings>"+o._settingspath});b.bindObject({path:"context>/"});var e=b.getData();e.then(function(m){if(o._cancel){o._values=[];this._settingsModel.setProperty(o._settingspath+"/_loading",false);return;}var s=o.values.data.path,z,k1=[];if(s&&s!=="/"){if(s.startsWith("/")){s=s.substring(1);}if(s.endsWith("/")){s=s.substring(0,s.length-1);}z=s.split("/");k1=B.get(z,m);}else{k1=m;}if(o.type==="object"||o.type==="object[]"){k1.forEach(function(v1){v1._dt={_editable:false};});}if(this.getMode()==="content"&&o.pageAdminValues&&o.pageAdminValues.length>0){var l1=o.pageAdminValues,m1=o.value,n1=o.valueItems,o1=[],p1=[],q1=[];this.prepareFieldsInKey(o);if(l1.length>0){for(var i=0;i<l1.length;i++){for(var j=0;j<k1.length;j++){var r1=this.getKeyFromItem(k1[j]);if(l1[i]===r1){o1.push(k1[j]);}}if(Array.isArray(m1)){for(var k=0;k<m1.length;k++){if(l1[i]===m1[k]){p1.push(m1[k]);}}for(var l=0;l<n1.length;l++){var s1=this.getKeyFromItem(n1[l]);if(l1[i]===s1){q1.push(n1[l]);}}}}if(p1.length>0){o.value=[];o.value=p1;}if(q1.length>0){o.valueItems=[];o.valueItems=q1;}}if(o.values.data.path&&o.values.data.path!=="/"){delete m[z];B.set(z,o1,m);}else{m=[];m=o1;}}var t1=a.getConfiguration();if(o.type==="string[]"){var u1=o.values.data.path;if(u1&&u1!=="/"){if(u1.startsWith("/")){u1=u1.substring(1);}if(u1.endsWith("/")){u1=u1.substring(0,u1.length-1);}var z=u1.split("/");var v1=B.get(z,m);if(Array.isArray(v1)){for(var n in v1){var w1=a.getKeyFromItem(v1[n]);if(Array.isArray(t1.value)&&t1.value.length>0&&G(t1.value,w1)){v1[n].Selected=this._oResourceBundle.getText("EDITOR_ITEM_SELECTED");}else{v1[n].Selected=this._oResourceBundle.getText("EDITOR_ITEM_UNSELECTED");}}B.set(z,v1,m);}}else if(Array.isArray(m)){for(var n in m){var w1=a.getKeyFromItem(m[n]);if(Array.isArray(t1.value)&&t1.value.length>0&&G(t1.value,w1)){m[n].Selected=this._oResourceBundle.getText("EDITOR_ITEM_SELECTED");}else{m[n].Selected=this._oResourceBundle.getText("EDITOR_ITEM_UNSELECTED");}}}}o._values=m;var x1=a.getModel();x1.setData(m);x1.checkUpdate(true);x1.firePropertyChange();if(o.type==="object"||o.type==="object[]"){a.mergeValueWithRequestResult(k1);}this._settingsModel.setProperty(o._settingspath+"/_loading",false);a._hideValueState(true,true);}.bind(this)).catch(function(i){var s=this._oResourceBundle.getText("EDITOR_BAD_REQUEST");if(Array.isArray(i)&&i.length>0){s=i[0];var j=i[1];if(j){var k;if(j.responseJSON){k=j.responseJSON.error;}else if(j.responseText){if(U.isJson(j.responseText)){k=JSON.parse(j.responseText).error;}else{s=j.responseText;}}if(k){s=(k.code||k.errorCode||j.status)+": "+k.message;}}}else if(typeof(i)==="string"){s=i;}var l=a.getModel();l.firePropertyChange();if(o.type==="object"||o.type==="object[]"){a.mergeValueWithRequestResult();}this._settingsModel.setProperty(o._settingspath+"/_loading",false);a._showValueState("error",s,true);}.bind(this));};
j1.prototype._requestExtensionData=function(){var e=this.getAggregation("_extension");if(!e){u.info("Extension is not defined or created, do not load data of it.");return new Promise(function(k,l){k();});}var b=false;var o={};var a=this._oEditorManifest.get(this.getConfigurationPath()+"/data/extension");var s;if(a){b=true;s=this._oEditorManifest.get(this.getConfigurationPath()+"/data/path");o={"extension":a};if(s){o.path=s;}}else{a=this._oEditorManifest.get("/"+this.getSection()+"/data/extension");if(a){b=true;s=this._oEditorManifest.get("/"+this.getSection()+"/data/path");o={"extension":a};if(s){o.path=s;}}}if(!b){u.info("Extension data is not defined in manifest, do not load data of it.");return new Promise(function(k,l){k();});}var i=this._oDataProviderFactory.create(o);var j=i.getData();return j.then(function(k){var l=e.getModel();if(!l){l=new J(k||{});e.setModel(l,undefined);}else{l.setData(k);}l.checkUpdate(true);}).catch(function(k){var l=this._oResourceBundle.getText("EDITOR_BAD_REQUEST");if(Array.isArray(k)&&k.length>0){l=k[0];var m=k[1];if(m){var n;if(m.responseJSON){n=m.responseJSON.error;}else if(m.responseText){if(U.isJson(m.responseText)){n=JSON.parse(m.responseText).error;}else{l=m.responseText;}}if(n){l=(n.code||n.errorCode||m.status)+": "+n.message;}}}else if(typeof(k)==="string"){l=k;}u.error("Request extension data failed, "+l);}.bind(this));};
j1.prototype._addValueListModel=function(o,a,n){if(o.values){var b;if(o.values.data){if(this._oDataProviderFactory){b=a.getModel();if(!b){b=new J({});a.setModel(b,undefined);}this._settingsModel.setProperty(o._settingspath+"/_loading",true);if(!n){this._requestData(o,a);}else{setTimeout(function(){this._requestData(o,a);}.bind(this),n);}}a.bindObject({path:o.values.data.path||"/"});}else if(this.getAggregation("_extension")){b=this.getAggregation("_extension").getModel();if(b&&this.getMode()==="content"&&o.pageAdminValues&&o.pageAdminValues.length>0){this.prepareFieldsInKey(o);var e=o.values.path;if(e.length>1){e=e.substring(1);}var i=B.get([e],b.getData()),k=o.pageAdminValues,l=[];for(var m=0;m<k.length;m++){for(var j=0;j<i.length;j++){var s=this.getKeyFromItem(i[j]);if(k[m]===s){l.push(i[j]);}}}delete i[e];B.set(e,l,i);b.setData(i);}a.bindObject({path:o.values.path||"/"});a.setModel(b,undefined);}}};
j1.prototype._addMetadataModel=function(o,a){if(o.values&&o.values.metadata){var b={"synchronizationMode":"None"};b=g(b,o.values.metadata.request);var e={url:b.serviceUrl};var i=Promise.resolve(e);if(this._oDestinations){i=this._oDestinations.process(e);}i.then(function(j){if(!j.url.endsWith("/")){j.url=j.url+"/";}b.serviceUrl=j.url;var m=new O(b);m.oMetaModel.fetchData().then(function(k){a.setModel(new J(k),"meta");});});}};
j1.prototype._createDependentFields=function(o,a){if(o.values){var s=JSON.stringify(o.values.data);if(s){var b=/parameters\.([^\}\}]+)|destinations\.([^\}\}]+)|\{items\>[\/?\w+]+\}/g,e=s.match(b);if(e){for(var i=0;i<e.length;i++){var j="/value";var k=this.getConfigurationPath();if(e[i].indexOf("destinations.")===0||e[i].indexOf("parameters.")===0){if(e[i].indexOf("destinations.")===0){j="/name";}k=k+"/"+e[i].replace(".","/")+j;}else if(e[i].indexOf("{items>")===0){k=k+"/parameters/"+e[i].slice(7,-1);}var l=this._mItemsByPaths[k];if(l){if(l._settingspath===o._settingspath){o=g({},o);}l._dependentFields=l._dependentFields||[];l._dependentFields.push({field:a,config:o});}}}}}};
j1.prototype.getBeforeLayerChange=function(m){if(!this._beforeLayerManifestChanges){this._beforeLayerManifestChanges={};}return this._beforeLayerManifestChanges[m];};
j1.prototype.getTranslationValueInTexts=function(l,m){var s="/texts/"+l;var o=this._settingsModel.getProperty(s)||{};return o[m];};
j1.prototype.deleteAllTranslationValuesInTexts=function(m){var a=this;var o=a._settingsModel.getData();if(!o||!o.texts){return;}var s="/texts";var b=d(o.texts,500);for(var n in b){if(b[n][m]){delete b[n][m];}}this._settingsModel.setProperty(s,b);};
j1.prototype._handleITBValidation=function(e,i,s){var g1=e._oResourceBundle;if(i.getItems().length>0&&i._oExpandButton){var a=i._oExpandButton;var b=null;if(s==="Error"){b=g1.getText("EDITOR_GROUP_ERRORS");a.setIcon("sap-icon://message-error");a.addStyleClass("errorBTNImage");}else if(s==="Warning"){b=g1.getText("EDITOR_GROUP_WARNINGS");a.setIcon("sap-icon://message-warning");a.addStyleClass("warningBTNImage");}a.setTooltip(null);a.addEventDelegate({onAfterRendering:function(o){var k=document.getElementById(a.getId());k.setAttribute("aria-label","With validation errors");k.setAttribute("title","");}});a.setEnabled(false);a.addStyleClass("errorBTN").addStyleClass("errorBTNDisabled");var j=a.getParent().getParent().getParent();var m=c.byId(j.getId()+"_strip");a.addEventDelegate({onmouseover:function(){m.setVisible(true);m.setType(s);m.setText(b);},onmouseout:function(){m.setVisible(false);}},e);}};
j1.prototype._delayHandleITBValidation=function(e,i,s){var a=setInterval(function(){if(i._oExpandButton){e._handleITBValidation(e,i,s);clearInterval(a);}},50);};
j1.prototype._addItem=function(o){var m=this.getMode(),a=this;if(this.getAllowDynamicValues()===false||!o.allowDynamicValues){o.allowDynamicValues=false;}if(this.getAllowSettings()===false){o.allowSettings=false;}o.__cols=o.cols||2;if(o.visible===false||(!o.translatable&&m==="translation"&&o.type!=="group")){return;}if(o.type==="group"){o.expanded=o.expanded!==false;if(o.visualization&&o.visualization.type==="Tab"){var b=new _({expandable:o.expandable!==false,visible:o.visible,expanded:"{currentSettings>expanded}",objectBindings:{currentSettings:{path:"currentSettings>"+o._settingspath},items:{path:"items>/form/items"},context:{path:"context>/"}},select:function(v1){var w1=v1.getSource(),x1=w1.getSelectedKey(),y1=w1.getItems(),z1=w1.getExpanded(),A1=false;for(var n=0;n<y1.length;n++){if(!z1){A1=true;}else if(y1[n].getId()!==x1){A1=true;}else if(y1[n].getId()===x1){A1=false;}if(A1){var B1=false,C1="None";if(y1[n]._subItems&&y1[n]._subItems.length>0){var D1=y1[n].getModel("currentSettings");for(var i=0;i<y1[n]._subItems.length;i++){var E1=y1[n]._subItems[i].settingspath;var F1=c.byId(y1[n]._subItems[i].itemId);if(D1.getProperty(E1+"/hasError")===true&&F1.getVisible()){B1=true;var G1=D1.getProperty(E1+"/errorType");if(G1==="Error"){C1="Error";break;}else if(G1==="Warning"&&C1!=="Error"){C1="Warning";}}}D1.setProperty("hasError",B1,w1.getBindingContext("currentSettings"));D1.setProperty("errorType",C1,w1.getBindingContext("currentSettings"));}if(B1){var H1=new a1(),I1=y1[n];if(I1.getItems().length>0){I1.removeAllItems();}I1.addItem(H1);a._handleITBValidation(a,I1,C1);if(I1._oExpandButton===undefined){a._delayHandleITBValidation(a,I1,C1);}else{a._handleITBValidation(a,I1,C1);}}}else if(y1[n].getItems().length>0){y1[n].removeItem(y1[n].getItems()[0]);if(y1[n]._oExpandButton){y1[n]._oExpandButton.visible=false;}var J1=w1.getParent().getParent().getAggregation("_messageStrip");if(J1===null){J1=c.byId(h1);}y1[n].addContent(J1);}}}});var e=new a1({text:o.label,visible:o.visible,objectBindings:{currentSettings:{path:"currentSettings>"+o._settingspath},items:{path:"items>/form/items"},context:{path:"context>/"}}});b.addItem(e);b.setBackgroundDesign("Transparent");b.setHeaderBackgroundDesign("Transparent");b.addStyleClass("sapUiIntegrationEditorSubGroup");if(m!=="translation"){var j=new M({id:b.getId()+"_strip",showIcon:false,visible:false});j.addStyleClass("sapUiIntegrationEditorTabMessageStrip");b._messageStrip=j;}this.addAggregation("_formContent",b);e._level=o.level||0;if(o.hint){this._addHint(o.hint);}return;}else{var k=new P({headerText:o.label,visible:o.visible,expandable:o.expandable!==false,expanded:"{currentSettings>expanded}",width:"auto",backgroundDesign:"Transparent",objectBindings:{currentSettings:{path:"currentSettings>"+o._settingspath},items:{path:"items>/form/items"},context:{path:"context>/"}},expand:function(n){var v1=n.getSource();var w1=n.getParameter("expand");var x1=v1._level==="1"?v1.getParent().getParent().getAggregation("_messageStrip"):v1.getParent().getAggregation("_messageStrip");if(x1===null){x1=c.byId(h1);}if(!w1&&v1._level==="1"){v1.getParent().addContent(x1);v1.getParent().focus();}else{v1.addContent(x1);v1.focus();}if(!w1&&v1._subItems&&v1._subItems.length>0){var y1=v1.getModel("currentSettings");var z1=false;var A1="None";for(var i=0;i<v1._subItems.length;i++){var B1=v1._subItems[i].settingspath;var C1=c.byId(v1._subItems[i].itemId);if(y1.getProperty(B1+"/hasError")===true&&C1.getVisible()){z1=true;var D1=y1.getProperty(B1+"/errorType");if(D1==="Error"){A1="Error";break;}else if(D1==="Warning"&&A1!=="Error"){A1="Warning";}}}y1.setProperty("hasError",z1,v1.getBindingContext("currentSettings"));y1.setProperty("errorType",A1,v1.getBindingContext("currentSettings"));}}});if(m!=="translation"){var g1=this._oResourceBundle;var l=new M({showIcon:false,visible:"{= !${currentSettings>expanded} && ${currentSettings>hasError} === true}",text:{path:'currentSettings>errorType',formatter:function(i){var n="";switch(i){case"Error":n=g1.getText("EDITOR_GROUP_ERRORS");break;case"Warning":n=g1.getText("EDITOR_GROUP_WARNINGS");break;default:}return n;}},type:"{currentSettings>errorType}",objectBindings:{currentSettings:{path:"currentSettings>"+o._settingspath}}});if(o.level!=="1"){l.setModel(this._settingsModel,"currentSettings");}l.addStyleClass("sapUiIntegrationEditorPanelMessageStrip");k._messageStrip=l;}this.addAggregation("_formContent",k);k._cols=o.cols||2;k._level=o.level||0;if(o.hint){this._addHint(o.hint);}var s={onAfterRendering:function(i){var n=document.getElementById(k.getId());n.setAttribute("aria-label",o.label);var v1=i.srcControl;var w1=v1._messageStrip;if(v1._level!=="1"&&w1){w1.rerender();}}};k.addEventDelegate(s);return;}}if(o.type==="separator"){var z=new S();this.addAggregation("_formContent",z);return;}var k1=null;var l1=c.getConfiguration().getLanguage().replaceAll('_','-');if(m==="translation"){if(o.type!=="string"){return;}if((typeof o.value==="string"&&o.value.indexOf("{")===0)||typeof o.values!=="undefined"){return;}o._language={value:o.value};o.cols=1;delete o.values;var m1=d(o,500);m1._settingspath+="/_language";m1.editable=false;m1.required=false;if(!j1._languages[l1]&&l1.indexOf("-")>-1){l1=l1.substring(0,l1.indexOf("-"));}if(j1._languages[l1]){var n1=this.getTranslationValueInTexts(l1,o.manifestpath);if(n1){m1.value=n1;}}if(!m1.value){m1.value="-";}var o1=this._createLabel(m1);this.addAggregation("_formContent",o1);var p1=this._createField(m1);p1.isOrigLangField=true;this.addAggregation("_formContent",p1);o.editable=o.visible=o.translatable;l1=this._language;if(!this.getBeforeLayerChange(o.manifestpath)){o.value=o._translatedValue||"";}var n1=this.getTranslationValueInTexts(l1,o.manifestpath);if(n1){o.value=n1;}o.label=o._translatedLabel||"";o.required=false;var q1=this._createField(o);var r1={onAfterRendering:function(i){var n=document.getElementById(q1.getId());n.setAttribute("aria-label",o1);}};q1.addEventDelegate(r1);this.addAggregation("_formContent",q1);}else{k1=this._createLabel(o);this.addAggregation("_formContent",k1);var s1=this.getBeforeLayerChange(o.manifestpath);if(s1){o._beforeLayerChange=s1;}if(this._currentLayerManifestChanges&&this._currentLayerManifestChanges[o.manifestpath]){o.value=this._currentLayerManifestChanges[o.manifestpath];o._beforeLayerChange=o.value;}if(o.type==="string"){l1=this._language;var n1=this.getTranslationValueInTexts(l1,o.manifestpath);if(n1){o.value=n1;}}var t1=this._createField(o);var u1={onAfterRendering:function(i){var n=document.getElementById(t1.getId());n.setAttribute("aria-label",k1);}};t1.addEventDelegate(u1);this.addAggregation("_formContent",t1);}if(o.hint&&(!o.cols||o.cols===2)){this._addHint(o.hint);}o.cols=o.__cols;delete o.__cols;};
j1.prototype._createHint=function(s){s=s.replace(/<a href/g,"<a target='blank' href");var o=new F({htmlText:s});return o;};
j1.prototype._addHint=function(s){var o=this._createHint(s);this.addAggregation("_formContent",o);};
j1.prototype._getCurrentLanguageSpecificText=function(k){var l=this._language;if(this._oTranslationBundle){var s=this._oTranslationBundle.getText(k,[],true);if(s===undefined){return"";}return s;}if(!l){return"";}var i=this._oEditorManifest.get("/sap.app/i18n");if(!i){return"";}if(typeof i==="string"){var a=[l];if(l.indexOf("-")>-1){a.push(l.substring(0,l.indexOf("-")));}if(!G(a,"en")){a.push("en");}this._oTranslationBundle=w.create({url:this.getBaseUrl()+i,async:false,locale:l,supportedLocales:a,fallbackLocale:"en"});return this._getCurrentLanguageSpecificText(k);}};
j1.prototype._startEditor=function(){var o=this.getAggregation("_formContent");if(o&&o.length>0){this.destroyAggregation("_formContent");}var s=this._settingsModel.getData();var i;if(s.form&&s.form.items){i=s.form.items;var a=false;for(var m in i){var b=i[m];if(b.type==="group"&&b.level!=="1"){break;}else if(b.visible){a=true;break;}}if(a){i=g({generalPanel:{type:"group",translatable:true,expanded:true,label:this._oResourceBundle.getText("EDITOR_PARAMETERS_GENERALSETTINGS"),_settingspath:"/form/items/generalPanel"}},i);s.form.items=i;this._settingsModel.setData(s);}}var e=this._settingsModel.getProperty("/");this._mItemsByPaths={};if(e.form&&e.form.items){i=e.form.items;var l=this._language||this.getLanguage()||c.getConfiguration().getLanguage().replaceAll('_','-');if(this.getMode()==="translation"){this._addItem({type:"group",translatable:true,expandable:false,expanded:true,label:this._oResourceBundle.getText("EDITOR_ORIGINALLANG")+": "+j1._languages[l]});}for(var n in i){var b=i[n];if(b){b.label=b.label||n;var j;if(b.manifestpath){this._mItemsByPaths[b.manifestpath]=b;if(this.getMode()!=="translation"){j=this._currentLayerManifestChanges[b.manifestpath];}}b._changed=j!==undefined&&this.getMode()!=="translation";if(b.values){b.translatable=false;}b._beforeValue=this._getManifestBeforelValue(b.manifestpath);if(b.type==="string"){b._translatedDefaultPlaceholder=this._getManifestDefaultValue(b.manifestpath);var k=null,z=b._translatedDefaultPlaceholder;if(z){if(this._isValueWithParameterSyntax(z)){b.translatable=false;}if(this._isValueWithHandlebarsTranslation(z)){k=z.substring(2,z.length-2);}else if(z.startsWith("{i18n>")){k=z.substring(6,z.length-1);}if(k){b.translatable=true;}else if(b.translatable&&this.getMode()==="translation"&&!this.getBeforeLayerChange(b.manifestpath)){b._translatedValue=b._translatedDefaultPlaceholder;b.value=b._translatedValue;}}b._translatedPlaceholder=b._beforeValue;z=b._translatedPlaceholder;if(z){if(this._isValueWithParameterSyntax(z)){b.translatable=false;}if(this._isValueWithHandlebarsTranslation(z)){k=z.substring(2,z.length-2);}else if(z.startsWith("{i18n>")){k=z.substring(6,z.length-1);}}if(b.value&&(b.value.indexOf("{context>")===0||b.value.indexOf("{{parameters")===0)){this.deleteAllTranslationValuesInTexts(b.manifestpath);k=null;}var k1=this.getTranslationValueInTexts(l,b.manifestpath);if(k){b._translatedValue=this.getModel("i18n").getResourceBundle().getText(k);if(b._changed){b.value=j;}else if(b.value===b._translatedDefaultPlaceholder){b.value=b._translatedValue;}if(this.getMode()==="translation"){var l1=this._getCurrentLanguageSpecificText(k);if(l1!==""){b._translatedValue=l1;}}else if(k1){b.value=k1;}}else if(this.getMode()!=="translation"&&b.translatable&&k1){b.value=k1;}if(this.getMode()==="translation"){if(this._isValueWithHandlebarsTranslation(b.label)){b._translatedLabel=this._getCurrentLanguageSpecificText(b.label.substring(2,b.label.length-2),true);}else if(b.label&&b.label.startsWith("{i18n>")){b._translatedLabel=this._getCurrentLanguageSpecificText(b.label.substring(6,b.label.length-1),true);}}}else if(b.type==="string[]"){var m1=b.manifestpath.substring(0,b.manifestpath.lastIndexOf("/"))+"/valueItems";var n1=this._manifestModel.getProperty(m1);if(n1){b.valueItems=n1;}var o1=b.manifestpath.substring(0,b.manifestpath.lastIndexOf("/"))+"/valueTokens";var p1=this._manifestModel.getProperty(o1);if(p1){b.valueTokens=p1;}}else if(typeof b.value==="object"&&b.type==="object"){if(typeof b.value._editable==="boolean"){b.value._dt={"_editable":b.value._editable};delete b.value._editable;}}else if(Array.isArray(b.value)&&b.value.length>0&&b.type==="object[]"){b.value.forEach(function(t1){if(typeof t1._editable==="boolean"){t1._dt={"_editable":t1._editable};delete t1._editable;}});}if(b.label&&this._isValueWithHandlebarsTranslation(b.label)){var q1=b.label.substring(2,b.label.length-2);if(q1){b.label=this.getModel("i18n").getResourceBundle().getText(q1);}}}}}for(var n in i){var b=i[n];this._addItem(b);}var r1=this._settingsModel.getProperty("/form/height")!==undefined?this._settingsModel.getProperty("/form/height"):"350px",s1=this._settingsModel.getProperty("/form/width")!==undefined?this._settingsModel.getProperty("/form/width"):"100%";if(this.getProperty("height")===""){this.setProperty("height",r1);document.body.style.setProperty("--sapUiIntegrationEditorFormHeight",r1);}if(this.getProperty("width")===""){this.setProperty("width",s1);document.body.style.setProperty("--sapUiIntegrationEditorFormWidth",s1);}if(this.getMode()!=="translation"){this._initPreview().then(function(){Promise.all(this._aFieldReadyPromise).then(function(){this.setPreviewPositionForFields();this._ready=true;this.fireReady();}.bind(this));}.bind(this));}else{Promise.all(this._aFieldReadyPromise).then(function(){this.setPreviewPositionForFields();this._ready=true;this.fireReady();}.bind(this));}};
j1.prototype.setHeight=function(s){if(s){this.setProperty("height",s);document.body.style.setProperty("--sapUiIntegrationEditorFormHeight",s);}};
j1.prototype.setWidth=function(s){if(s){this.setProperty("width",s);document.body.style.setProperty("--sapUiIntegrationEditorFormWidth",s);}};
j1.prototype.setPreviewPositionForFields=function(){var s=this.hasPreview()?this.getPreviewPosition():"";var o=this._settingsModel.getData();o.preview=o.preview||{};o.preview.position=s;this._settingsModel.setData(o);};
j1.prototype.destroy=function(){if(this._oPopover){this._oPopover.destroy();}if(this._oDesigntimeInstance){this._oDesigntimeInstance.destroy();}var o=this.getAggregation("_preview");if(o&&o.destroy){o.destroy();}var m=c.byId(h1);if(m){m.destroy();}this._manifestModel=null;this._beforeManifestModel=null;this._oInitialManifestModel=null;this._settingsModel=null;C.prototype.destroy.apply(this,arguments);};
j1.prototype._initPreview=function(){return new Promise(function(a,b){a();});};
j1.prototype._applyDesigntimeDefaults=function(s){s=s||{};s.form=s.form||{};s.form.items=s.form.items||{};var i=s.form.items||s.form.items;for(var n in i){var o=i[n];if(o.manifestpath){o.value=this._manifestModel.getProperty(o.manifestpath);}if(o.visible===undefined||o.visible===null){o.visible=true;}if(o.editable===undefined||o.editable===null){o.editable=true;}if(this.getMode()!=="admin"){if(o.visibleToUser!==undefined){o.visible=o.visibleToUser;}if(o.editableToUser!==undefined){o.editable=o.editableToUser;}}if(typeof o.translatable!=="boolean"){o.translatable=false;}if(!o.label){o.label=n;}if(!o.type||o.type==="enum"){o.type="string";}if(o.value===undefined||o.value===null){switch(o.type){case"boolean":o.value=false;break;case"integer":case"number":o.value=0;break;case"string[]":o.value=[];break;case"object":o.value=undefined;break;case"object[]":o.value=undefined;break;default:o.value="";}}if(o.type==="group"){if(o.visible===undefined||o.value===null){o.visible=true;}}o._settingspath="/form/items/"+n;}};
j1.prototype._applyDesigntimeLayers=function(s){var o={};var a={};if(this._appliedLayerManifestChanges&&Array.isArray(this._appliedLayerManifestChanges)){for(var i=0;i<this._appliedLayerManifestChanges.length;i++){var b=this._appliedLayerManifestChanges[i][":designtime"];if(b){var k=Object.keys(b);for(var j=0;j<k.length;j++){var e=b[k[j]];if(typeof e==="object"){a[k[j]]=g(a[k[j]],e);continue;}this._settingsModel.setProperty(k[j],e);}}var l=this._appliedLayerManifestChanges[i]["texts"];if(l){o=g(o,l);}}}if(this._currentLayerManifestChanges){var b=this._currentLayerManifestChanges[":designtime"];if(b){var k=Object.keys(b);for(var j=0;j<k.length;j++){var m=k[j],e=b[m];n=m.substring(0,m.lastIndexOf("/")+1)+"_next";if(typeof e==="object"){a[m]=g(a[m],e);continue;}if(!this._settingsModel.getProperty(n)){this._settingsModel.setProperty(n,{});}var n=m.substring(0,m.lastIndexOf("/")+1)+"_next",z=m.substring(m.lastIndexOf("/")+1);this._settingsModel.setProperty(n+"/"+z,e);}}var k1=this._currentLayerManifestChanges["texts"];if(k1){o=g(o,k1);}}if(!f(o,{})){this._settingsModel.setProperty("/texts",o);}if(!f(a,{})){this._settingsModel.setProperty("/:designtime",a);}};
j1.prototype._createParameterDesigntime=function(o){var s={},b=this.getConfigurationPath()+"/parameters",m=this.getMode();if(o&&o.parameters){s.form=s.form||{};s.form.items=s.form.items||{};var i=s.form.items;Object.keys(o.parameters).forEach(function(n){i[n]=g({manifestpath:b+"/"+n+"/value",editable:(m!=="translation"),_settingspath:"/form/items/"+n},o.parameters[n]);var a=i[n];if(!a.type){a.type="string";}if(!a.hasOwnProperty("visible")){a.visible=true;}});}return new D(s);};
j1.prototype._addDestinationSettings=function(o){var s=this._oDesigntimeInstance.getSettings(),i=this.getConfigurationPath()+"/destinations";s.form=s.form||{};s.form.items=s.form.items||{};if(s&&o&&o.destinations){if(!s.form.items["destination.group"]){s.form.items["destination.group"]={label:this._oResourceBundle.getText("EDITOR_DESTINATIONS")||"Destinations",type:"group",expanded:true,visible:true,_settingspath:"/form/items/destination.group"};}var j=s.form.items,k=this.getHostInstance();Object.keys(o.destinations).forEach(function(n){j[n+".destination"]=g({manifestpath:i+"/"+n+"/name",visible:true,type:"destination",editable:true,allowDynamicValues:false,allowSettings:false,value:o.destinations[n].name,defaultValue:o.destinations[n].defaultUrl,_settingspath:"/form/items/"+[n+".destination"],_values:[],_destinationName:n},o.destinations[n]);if(typeof j[n+".destination"].label==="undefined"){j[n+".destination"].label=n;}if(k){j[n+".destination"]._loading=true;}});var l=false;if(k){this.getHostInstance().getDestinations().then(function(a){l=true;Object.keys(o.destinations).forEach(function(n){j[n+".destination"]._values=a;j[n+".destination"]._loading=false;this._settingsModel.checkUpdate(true);}.bind(this));}.bind(this)).catch(function(){return this.getHostInstance().getDestinations();}.bind(this)).then(function(b){if(l){return;}Object.keys(o.destinations).forEach(function(n){j[n+".destination"]._values=b;j[n+".destination"]._loading=false;this._settingsModel.checkUpdate(true);}.bind(this));}.bind(this)).catch(function(e){Object.keys(o.destinations).forEach(function(n){j[n+".destination"]._loading=false;this._settingsModel.checkUpdate(true);}.bind(this));u.error("Can not get destinations list from '"+k.getId()+"'.");}.bind(this));}}};
j1.prototype._getManifestDefaultValue=function(s){return this._oInitialManifestModel.getProperty(s);};
j1.prototype._getManifestBeforelValue=function(s){return this._beforeManifestModel.getProperty(s);};
j1.prototype._isValueWithHandlebarsTranslation=function(a){if(typeof a==="string"){return!!a.match(d1);}return false;};
j1.prototype._isValueWithParameterSyntax=function(a){if(typeof a==="string"){return!!a.match(e1);}return false;};
j1.prototype.prepareFieldsInKey=function(o){this._sKeySeparator=o.values.keySeparator;if(!this._sKeySeparator){this._sKeySeparator="#";}var k=o.values.item.key;this._aFields=k.split(this._sKeySeparator);for(var n in this._aFields){if(this._aFields[n].startsWith("{")){this._aFields[n]=this._aFields[n].substring(1);}if(this._aFields[n].endsWith("}")){this._aFields[n]=this._aFields[n].substring(0,this._aFields[n].length-1);}}};
j1.prototype.getKeyFromItem=function(i){var s="";this._aFields.forEach(function(a){s+=i[a].toString()+this._sKeySeparator;}.bind(this));if(s.endsWith(this._sKeySeparator)){s=s.substring(0,s.length-this._sKeySeparator.length);}return s;};
j1._contextEntries={empty:{label:g1.getText("EDITOR_CONTEXT_EMPTY_VAL"),type:"string",description:g1.getText("EDITOR_CONTEXT_EMPTY_DESC"),placeholder:"",value:""},"editor.internal":{label:g1.getText("EDITOR_CONTEXT_EDITOR_INTERNAL_VAL"),todayIso:{type:"string",label:g1.getText("EDITOR_CONTEXT_EDITOR_TODAY_VAL"),description:g1.getText("EDITOR_CONTEXT_EDITOR_TODAY_DESC"),tags:[],placeholder:g1.getText("EDITOR_CONTEXT_EDITOR_TODAY_VAL"),customize:["format.dataTime"],value:"{{parameters.TODAY_ISO}}"},nowIso:{type:"string",label:g1.getText("EDITOR_CONTEXT_EDITOR_NOW_VAL"),description:g1.getText("EDITOR_CONTEXT_EDITOR_NOW_DESC"),tags:[],placeholder:g1.getText("EDITOR_CONTEXT_EDITOR_NOW_VAL"),customize:["dateFormatters"],value:"{{parameters.NOW_ISO}}"},currentLanguage:{type:"string",label:g1.getText("EDITOR_CONTEXT_EDITOR_LANG_VAL"),description:g1.getText("EDITOR_CONTEXT_EDITOR_LANG_VAL"),tags:["technical"],customize:["languageFormatters"],placeholder:g1.getText("EDITOR_CONTEXT_EDITOR_LANG_VAL"),value:"{{parameters.LOCALE}}"}}};j1._languages={};
j1._appendThemeVars=function(){var a=["sapUiButtonHoverBackground","sapUiBaseBG","sapUiContentLabelColor","sapUiTileSeparatorColor","sapUiHighlight","sapUiListSelectionBackgroundColor","sapUiNegativeText","sapUiCriticalText","sapUiPositiveText","sapUiChartScrollbarBorderColor"];var m=A.get({name:a,callback:function(b){}});if(m){for(var n in m){document.body.style.setProperty("--"+n,m[n]);}}};
j1.init=function(){this.init=function(){};j1._appendThemeVars();c.attachThemeChanged(function(){j1._appendThemeVars();});var s=sap.ui.require.toUrl("sap.ui.integration.editor.css.Editor".replace(/\./g,"/")+".css");x(s);y.loadResource("sap/ui/integration/editor/languages.json",{dataType:"json",failOnError:false,async:true}).then(function(o){j1._languages=o;});};
j1.init();return j1;});
sap.ui.predefine('sap/ui/integration/editor/EditorResourceBundles',["sap/base/util/LoaderExtensions","sap/base/i18n/ResourceBundle","sap/base/util/includes"],function(L,R,i){"use strict";var E=(function(){var _,a,b;L.loadResource("sap/ui/integration/editor/languages.json",{dataType:"json",failOnError:false,async:true}).then(function(o){a=o;});function c(){_=[];for(var p in a){var r;if(b){var f=[p];if(p.indexOf("-")>-1){f.push(p.substring(0,p.indexOf("-")));}if(!i(f,"en")){f.push("en");}r=R.create({url:b,async:false,locale:p,supportedLocales:f});}_[p]={"language":a[p],"resourceBundle":r};}return _;}return{getResourceBundleURL:function(){return b;},setResourceBundleURL:function(r){b=r;},getInstance:function(){if(!_){_=c();}return _;}};})();return E;});
sap.ui.predefine('sap/ui/integration/editor/Extension',["sap/ui/integration/Extension","sap/base/Log"],function(B,L){"use strict";
var E=B.extend("sap.ui.integration.editor.Extension");
E.prototype.init=function(){B.prototype.init.apply(this,arguments);this._oEditorInterface=null;this._oEditor=null;};
E.prototype.exit=function(){B.prototype.exit.apply(this,arguments);this._oEditorInterface=null;this._oEditor=null;};
E.prototype.setFormatters=function(f){B.prototype.setFormatters.apply(this,arguments);if(!this._oEditor){return;}if(this._oEditor.getAggregation("_extension")!==this){L.error("Extension formatters must be set before the initialization of the editor. Do this inside Extension#init().");}};
E.prototype.onEditorReady=function(){};
E.prototype.getEditor=function(){return this._oEditorInterface;};
E.prototype._setEditor=function(e,o){this._oEditor=e;this._oEditorInterface=o;};
return E;});
sap.ui.predefine('sap/ui/integration/editor/Manifest',["sap/ui/integration/util/Manifest","./Merger"],function(B,M){"use strict";
var a=B.extend("sap.ui.integration.editor.Manifest");
a.prototype.mergeDeltaChanges=function(m){return M.mergeDelta(m,this._aChanges,this._sSection);};
return a;});
sap.ui.predefine('sap/ui/integration/editor/Merger',["sap/base/util/merge","sap/ui/model/json/JSONModel","sap/ui/core/Core"],function(m,J,C){"use strict";var M={layers:{"admin":0,"content":5,"translation":10,"all":20},mergeManifestPathChanges:function(o,c){Object.keys(c).forEach(function(s){if(s.charAt(0)==="/"){var v=c[s];o.setProperty(s,v);}});},mergeDelta:function(o,c,s){var i=m({},o);if(typeof s==="undefined"){s="sap.card";}if(Array.isArray(c)&&c.length>0){var a;c.forEach(function(b){if(b.content){m(i[s],b.content);}else{a=a||new J(i);M.mergeManifestPathChanges(a,b);}});}return i;},mergeDesigntimeMetadata:function(d,c){var i=m({},d);c.forEach(function(o){var I=o.content.entityPropertyChange||[];I.forEach(function(a){var p=a.propertyPath;switch(a.operation){case"UPDATE":if(i.hasOwnProperty(p)){i[p]=a.propertyValue;}break;case"DELETE":delete i[p];break;case"INSERT":if(!i.hasOwnProperty(p)){i[p]=a.propertyValue;}break;default:break;}});});return i;}};return M;});
sap.ui.predefine('sap/ui/integration/editor/Settings',["sap/ui/core/Control","sap/m/Popover","sap/ui/model/json/JSONModel","sap/m/Button","sap/m/SegmentedButton","sap/m/SegmentedButtonItem","sap/m/OverflowToolbar","sap/m/ToolbarSpacer","sap/m/VBox","sap/m/HBox","sap/m/Select","sap/ui/core/ListItem","sap/m/Label","sap/m/Text","sap/m/Title","sap/m/CheckBox","sap/m/Menu","sap/m/MenuItem","sap/m/Input","sap/ui/integration/util/ParameterMap","sap/base/util/merge","sap/ui/core/Core","sap/m/Table","sap/m/Column","sap/m/ColumnListItem","sap/m/ScrollContainer","sap/base/util/ObjectPath","sap/ui/integration/util/BindingHelper"],function(C,P,J,B,S,b,O,T,V,H,c,L,d,e,f,g,M,h,I,k,m,l,p,q,r,s,t,u){"use strict";
var w=C.extend("sap.ui.integration.editor.Settings",{
metadata:{library:"sap.ui.integration"},
renderer:null
});
var R=l.getLibraryResourceBundle("sap.ui.integration"),x,y,z=null,D,A,E,F,G,K,N,Q,U,W,X,Y;
w.prototype.setConfiguration=function(o){this._originalConfig=o;o=m({},o);var a=new J(o);this.setModel(a,"currentSettings");this.bindElement({path:"currentSettings>/"});};
w.prototype.open=function(o,a,i,j,n,v,q1){var r1=this.getModel("currentSettings").getData();if(r1.values){this.prepareFieldsInKey(r1);}z=this;Y=Z(r1,n);this.addDependent(Y);this.oHost=j;this.fnApply=v;this.fnCancel=q1;this._oOpener=n;y=true;o.addDependent(this);if(!r1.allowDynamicValues&&r1.values){l.byId("settings_scroll_container").setHeight("155px");}this.getModel("currentSettings").checkUpdate(true,true);n1(R.getText("EDITOR_SELECT_FROM_LIST"),[]);if(a){var s1=(!i||i.getDomRef()===null||i.getDomRef().offsetWidth===0)?270:i.getDomRef().offsetWidth;var t1=(!i||i.getDomRef()===null||i.getDomRef().offsetHeight===0)?350:i.getDomRef().offsetHeight;Y.setContentWidth(s1+"px");Y.setContentHeight((t1-50)+"px");if(n.getPreviewPosition()==="right"){Y.setPlacement("Right");}else{Y.setPlacement("Left");}F.setValue(o._label);Y.openBy(o);}else{Y.open();}x=this.getModel("currentSettings");if(x.getProperty("/_hasDynamicValue")){d1();}else if(x.getProperty("/_hasSettings")){c1();}else if(x.getProperty("/allowDynamicValues")){d1();}else if(x.getProperty("/allowSettings")){c1();}};
w.prototype._applyCurrentSettings=function(){this.fnApply(x.getData());};
w.prototype._cancelCurrentSettings=function(){this.fnCancel(this._originalConfig);};
w.prototype.destroy=function(){this.removeDependent(Y);return C.prototype.destroy.apply(this,arguments);};
function Z(o,a){var n=a1(),X=b1(o),D=h1(),v=i1(),A=j1(o,a),Y=new P({id:"settings_popover",showArrow:true,contentWidth:"400px",showHeader:false,horizontalScrolling:false,verticalScrolling:false,modal:false,footer:new O({content:[X,new T(),new B({text:R.getText("EDITOR_MORE_OK"),type:"Emphasized",press:function(){if(o.values){var j=l.byId("settings_pav_table"),q1=j.getSelectedContexts(),r1=[];if(x.getProperty("/selectedValues")==="Partion"){for(var i=0;i<q1.length;i++){var s1=z.getKeyFromItem(q1[i].getObject());r1.push(s1);}e1("pageAdminValues",r1);}else{e1("pageAdminValues",[]);}}z._applyCurrentSettings();y=false;Y.close();}}),new B({text:R.getText("EDITOR_MORE_CANCEL"),press:function(){Y.close();}})]}),afterClose:function(){if(y){z._cancelCurrentSettings();}y=true;Y.destroy();},afterOpen:function(){window.requestAnimationFrame(function(){Y.getDomRef()&&(Y.getDomRef().style.opacity="1");});if(o.values){var q1=l.byId("settings_pav_table"),r1=x.getProperty("/_next/pageAdminValues");if(r1!==undefined&&r1.length>0){q1.removeSelections();x.setProperty("/selectedValues","None");var s1=x.getProperty("/_next/pageAdminValues"),t1=q1.getItems();for(var i=0;i<s1.length;i++){for(var j=0;j<t1.length;j++){var u1=z.getKeyFromItem(t1[j].getBindingContext().getObject());if(s1[i]===u1){q1.setSelectedItem(t1[j]);}}}x.setProperty("/selectedValues","Partion");}else{q1.selectAll();x.setProperty("/selectedValues","All");}}}});Y.setCustomHeader(n);Y.addContent(D);Y.addContent(v);Y.addContent(A);Y.addStyleClass("sapUiIntegrationFieldSettings");return Y;}
function $(){U=new b({text:R.getText("EDITOR_MORE_SETTINGS"),tooltip:R.getText("EDITOR_MORE_SETTINGS"),key:"settings",icon:"sap-icon://action-settings",width:"50%",press:c1}).addStyleClass("setbtn");return U;}
function _(){U=$();W=new S("settings_Segment_btn",{width:"100%",visible:"{= ${currentSettings>allowDynamicValues} && ${currentSettings>allowSettings}}",items:[new b({text:R.getText("EDITOR_MORE_DYNAMICVALUES"),tooltip:R.getText("EDITOR_MORE_DYNAMICVALUES"),key:"dynamic",icon:"{= ${currentSettings>_hasDynamicValue} ? 'sap-icon://display-more' : 'sap-icon://enter-more'}",width:"50%",press:d1}).addStyleClass("dynbtn sel"),U]});return W;}
function a1(){W=_();var o=new e({text:R.getText("EDITOR_MORE_DYNAMICVALUES"),tooltip:R.getText("EDITOR_MORE_DYNAMICVALUES"),visible:"{= ${currentSettings>allowDynamicValues} && !${currentSettings>allowSettings}}"}).addStyleClass("sapUiTinyMagin");var a=new e({text:R.getText("EDITOR_MORE_SETTINGS"),visible:"{= !${currentSettings>allowDynamicValues} && ${currentSettings>allowSettings}}"}).addStyleClass("sapUiTinyMagin");var i=new O({content:[W,o,a]}).addStyleClass("headertitle");return i;}
function b1(o){X=new B("settings_reset_to_default_btn",{type:"Transparent",text:R.getText("EDITOR_MORE_RESET"),enabled:"{= ${currentSettings>_next/visible} === (typeof(${currentSettings>visibleToUser}) === 'undefined' ? false : !${currentSettings>visibleToUser}) || ${currentSettings>_next/editable} === (typeof(${currentSettings>editableToUser}) === 'undefined' ? false : !${currentSettings>editableToUser}) || ${currentSettings>_next/allowDynamicValues} === (typeof(${currentSettings>allowDynamicValues}) === 'undefined' ? false : !${currentSettings>allowDynamicValues}) || ${currentSettings>_beforeValue} !== ${currentSettings>value}}",tooltip:R.getText("EDITOR_MORE_SETTINGS_P_ADMIN_RESET"),press:function(){var v=typeof(x.getProperty("/visibleToUser"))==='undefined'?true:x.getProperty("/visibleToUser");var a=typeof(x.getProperty("/editableToUser"))==='undefined'?true:x.getProperty("/editableToUser");var n=typeof(x.getProperty("/allowDynamicValues"))==='undefined'?true:x.getProperty("/allowDynamicValues");var Y=l.byId("settings_popover");e1("visible",v);e1("editable",a);e1("allowDynamicValues",n);if(x.getProperty("/translatable")){if(x.getProperty("/_translatedDefaultValue")&&x.getProperty("/_translatedDefaultValue")!==""){x.setProperty("/value",x.getProperty("/_translatedDefaultValue"));}else if(x.getProperty("/_translatedDefaultPlaceholder")&&x.getProperty("/_translatedDefaultPlaceholder")!==""){x.setProperty("/value",x.getProperty("/_translatedDefaultPlaceholder"));}x.setProperty("/_changed",false);}else{x.setProperty("/value",x.getProperty("/_beforeValue"));}if(o.values){var q1=l.byId("settings_pav_table"),r1=x.getProperty("/_next/pageAdminValues"),s1=q1.getItems();if(r1!==undefined&&r1.length>0&&r1.length<s1.length){q1.removeSelections();for(var i=0;i<r1.length;i++){for(var j=0;j<s1.length;j++){var t1=z.getKeyFromItem(s1[j].getBindingContext().getObject());if(r1[i]===t1){q1.setSelectedItem(s1[j]);}}}x.setProperty("/selectedValues","Partion");}else{q1.selectAll();x.setProperty("/selectedValues","All");}}Y.getFooter().getContent()[2].firePress();}}).addStyleClass("resetbutton");return X;}
function c1(){A.setVisible(true);D.setVisible(false);l.byId("settings_Segment_btn").setSelectedKey("settings");var o=l.byId("settings_current_value");o.setVisible(false);}
function d1(){A.setVisible(false);D.setVisible(true);l.byId("settings_Segment_btn").setSelectedKey("dynamic");var a=z.getModel("contextflat"),o=a._getValueObject(x.getProperty("/value"));if(o&&o.object.label){F.setValue(o.object.label);n1(o.object.description,o.object.tags);if(o.path==="empty"){F.setValue(o.object.label);}p1(o);}var i=l.byId("settings_current_value");i.setVisible(true);}
function e1(a,v){if(!x.getProperty("/_next")){x.setProperty("/_next",{});}x.setProperty("/_next/"+a,v);}
function f1(o,j){var a=[];for(var n in o){if(o[n]&&o[n].label){var v=new h({text:o[n].label});v.__data=o[n];o[n].pathvalue=(j+"/"+n).substring(1);a.push(v);var q1=f1(o[n],j+"/"+n);for(var i=0;i<q1.length;i++){v.addItem(q1[i]);}}}return a;}
var g1=[{formatMethod:"format.DateTime",sourceTypes:["datetime","date"],label:"Relative date/datetime text of the value",description:"Should be applied to dynamic values of type date or datetime or string values that represent a datetime in the format 'yyyy-MM-ddZhh:mm:ss'",example:"4 weeks ago",syntax:"handlebars",binding:"{= format.dateTime('__|VALUE|__',{relative:true})}"},{formatMethod:"format.DateTime",sourceTypes:["datetime","date"],label:"Short date/datetime text of the value",description:"Should be applied to dynamic values of type date, date-time or text values that represent a datetime in the format 'yyyy-MM-ddZhh:mm:ss.sss'",example:"9/18/20, 2:09 PM",binding:"{= format.dateTime('__|VALUE|__',{style:'short'})}"},{formatMethod:"format.DateTime",sourceTypes:["datetime","date"],label:"Medium date/datetime text of the value",description:"Should be applied to dynamic values of type date, date-time or text values that represent a datetime in the format 'yyyy-MM-ddThh:mm:ss.sssZ'",example:"Sep 18, 2020, 2:09:04 PM",binding:"{= format.dateTime('__|VALUE|__',{style:'medium'})}"},{formatMethod:"format.DateTime",sourceTypes:["datetime","date"],label:"Long date, date-time text of the value",description:"Should be applied to dynamic values of type date or date-time or string values that represent a datetime in the format 'yyyy-MM-ddThh:mm:ss.sssZ'",example:"Sep 18, 2020, 2:09:04 PM",binding:"{= format.dateTime('__|VALUE|__',{style:'long'})}"}];
function h1(){D=new V({visible:true});D.addStyleClass("sapUiSmallMargin");F=new I({width:"100%",showValueHelp:true,valueHelpOnly:true,valueHelpRequest:function(){if(G){G.destroy();}G=new M({});K=f1(D.getModel("context").getData(),"");for(var i=0;i<K.length;i++){G.addItem(K[i]);}G.attachItemSelected(function(o){var j=o.getParameter("item").__data;n1(j.description||"",j.tags||[]);F.setValue(j.placeholder||j.label);var n=z.getModel("contextflat");p1(n._getPathObject(j.pathvalue));});F.addDependent(G);G.addStyleClass("sapUiIntegrationFieldSettingsMenu");G.openBy(F,false,null,null,"1 0");}});F.addStyleClass("selectvariable");var a=new d({text:"Select a dynamic value"});F.addAriaLabelledBy(a);var v=new V({items:[a,F]});D.addItem(v);E=new e({text:"",maxLines:6,renderWhitespace:true});v=new V({width:"100%",items:[E]});E.addStyleClass("description");D.addItem(v);if(g1.length===-1){N=new c({width:"100%",enabled:true,change:function(){Q.setText(N.getSelectedItem()._data.description);}});v=new V({visible:false,items:[new d({text:"Customize the value..."}),N]});D.addItem(v);Q=new e({text:"",maxLines:4,renderWhitespace:true});Q.addStyleClass("description");v=new V({width:"100%",items:[Q]});D.addItem(v);D.getItems()[2].getItems()[0].addStyleClass("sapUiTinyMarginTop");}D.getItems()[0].getItems()[0].addStyleClass("sapUiTinyMarginTop");return D;}
function i1(){var a=new e({text:R.getText("EDITOR_ACTUAL_VALUE")});var i=new I({value:{path:"currentSettings>_currentContextValue"},editable:false});i.addAriaLabelledBy(a);var o=new V("settings_current_value",{width:"100%",items:[a,i]});o.addStyleClass("currentval");return o;}
function j1(o,a){A=new V({visible:false});var j=new V().addStyleClass("commonSettings");A.addItem(j);j.addItem(new f({text:R.getText("EDITOR_MORE_SETTINGS_P_ADMIN"),wrapping:true}).addStyleClass("stitle"));var n=new d({text:R.getText("EDITOR_MORE_SETTINGS_P_ADMIN_VISIBLE"),wrapping:true});var v=new g({selected:"{= ${currentSettings>_next/visible} !== false}",select:function(D1){e1("visible",D1.getParameter("selected"));}});v.addAriaLabelledBy(n);j.addItem(new H({items:[n,v]}).addStyleClass("cbrow"));var q1=new d({text:R.getText("EDITOR_MORE_SETTINGS_P_ADMIN_EDIT"),wrapping:true});var r1=new g({selected:"{= ${currentSettings>_next/editable} !== false}",enabled:"{= ${currentSettings>_next/visible} !== false}",select:function(D1){e1("editable",D1.getParameter("selected"));}});r1.addAriaLabelledBy(q1);j.addItem(new H({items:[q1,r1]}).addStyleClass("cbrow"));var s1=new d({text:R.getText("EDITOR_MORE_SETTINGS_P_ADMIN_DYN"),wrapping:true});var t1=new g({selected:"{= ${currentSettings>_next/allowDynamicValues} !== false}",enabled:"{= ${currentSettings>_next/visible} !== false && ${currentSettings>_next/editable} !== false}",select:function(D1){e1("allowDynamicValues",D1.getParameter("selected"));}});t1.addAriaLabelledBy(s1);j.addItem(new H({visible:"{= ${currentSettings>allowDynamicValues}!== false}",items:[s1,t1]}).addStyleClass("cbrow"));if(o.values){var u1;if(o.values.data){var v1=o.values.data.path,w1;if(v1&&v1!=="/"){if(v1.startsWith("/")){v1=v1.substring(1);}if(v1.endsWith("/")){v1=v1.substring(0,v1.length-1);}w1=v1.split("/");u1=t.get(["_values",w1],o);}else{u1=t.get(["_values"],o);}}else if(a.getParent().getParent().getAggregation("_extension")){var x1=o.values.path;if(x1.length>1){x1=x1.substring(1);}u1=t.get([x1],a.getModel().getData());}j.addItem(new H({visible:"{= ${currentSettings>_next/visible} !== false && ${currentSettings>_next/editable} !== false}",items:[new d({text:R.getText("EDITOR_MORE_SETTINGS_P_ADMIN_VALUES_LIST"),tooltip:R.getText("EDITOR_MORE_SETTINGS_P_ADMIN_VALUES_LIST_TOOLTIPS"),wrapping:false}),new B({type:"Transparent",enabled:u1!==undefined,icon:{path:"currentSettings>selectedValues",formatter:function(D1){if(D1==="All"){return"sap-icon://multiselect-all";}else if(D1==="Partion"){return"sap-icon://multi-select";}else if(D1==="None"){return"sap-icon://multiselect-none";}}},tooltip:{path:"currentSettings>selectedValues",formatter:function(D1){if(D1==="All"){return R.getText("EDITOR_MORE_SETTINGS_P_ADMIN_DESELECT_ALL");}else{return R.getText("EDITOR_MORE_SETTINGS_P_ADMIN_SELECT_ALL");}}},press:k1})]}).addStyleClass("cbrow"));var y1=new p({id:"settings_pav_table",mode:"MultiSelect",width:"84%",select:l1,columns:[new q()]}).addStyleClass("tableHdr");var z1=o.values.item.text,A1=new J(u1);y1.setModel(A1);var B1=new r().addStyleClass("pavlistItem");if(u1){for(var i=0;i<u1.length;i++){B1.addCell(new H({items:[new e({text:u.createBindingInfos(z1)}).addStyleClass("pavTblCellText")]})).addStyleClass("pavlistItem");}}y1.bindItems("/",B1);var C1=new s({id:"settings_scroll_container",height:"125px",width:"94%",vertical:true,horizontal:false,visible:"{= ${currentSettings>_next/visible} !== false && ${currentSettings>_next/editable} !== false}",content:[y1]}).addStyleClass("SettingsPAVTable");A.addItem(C1);}return A;}
function k1(){var o=l.byId("settings_pav_table"),a=l.byId("settings_reset_to_default_btn"),i=x.getProperty("/selectedValues");if(i==="All"){o.removeSelections();x.setProperty("/selectedValues","None");}else{o.selectAll();x.setProperty("/selectedValues","All");}if(!a.getEnabled()){a.setEnabled(true);}}
function l1(o){var a=o.getSource(),i=a.getSelectedItems(),j=a.getItems(),n=l.byId("settings_reset_to_default_btn");if(i.length===j.length){x.setProperty("/selectedValues","All");}else if(i.length<j.length&&i.length>0){x.setProperty("/selectedValues","Partion");}else{x.setProperty("/selectedValues","None");}if(!n.getEnabled()){n.setEnabled(true);}}
function m1(a,j){a=a||[];N.removeAllItems();var n=[];N.addItem(new L({text:"No customizing needed",key:""}));for(var i=0;i<g1.length;i++){var o=g1[i],v=new L({text:o.label,key:"key"+i});v._data=o;if(o.sourceTypes.indexOf(j)>-1||a.indexOf(o.formatMethod)>-1){N.addItem(v);}else{n.push(v);}}for(var i=0;i<n.length;i++){N.addItem(n[i]);}}
function n1(a,i){i=i||[];if(i.indexOf("technical")>-1){a=a+"\n"+R.getText("EDITOR_MORE_DYNAMICVALUES_TECHHINT");}E.setText(a);}
function o1(o){if(g1.length===-1){if(!o){N.removeAllItems();N.addItem(new L({text:"No customizing available for this value"}));Q.setText("");N.setEnabled(false);}else{m1(o.customize,o.type);N.setEnabled(true);}}}
function p1(o){if(o){x.setProperty("/_hasDynamicValue",true);var a=o.value;x.setProperty("/value",a);x.setProperty("/_contextpath",o.path);if(o.object&&o.object.value&&o.object.value.indexOf("{{")===0){x.setProperty("/_currentContextValue",k.processPredefinedParameter(o.object.value));o1(o.object);}else{if(o.path==="empty"){x.setProperty("/value","");x.setProperty("/_currentContextValue","");x.setProperty("/_hasDynamicValue",false);o1();}else{o1(o.object);if(o.object&&o.object.hasOwnProperty("value")){x.setProperty("/_currentContextValue",o.object.value);}else{z.oHost.getContextValue(o.path+"/value").then(function(v){if(v===null){x.setProperty("/_currentContextValue","(not available)");}else{x.setProperty("/_currentContextValue",v);}o.object&&(o.object.value=v);});}}}}}
w._private=function(){return{oPopover:Y,oSegmentedButton:W,oSettingsButton:U,oDynamicPanel:D,oSettingsPanel:A,oCurrentModel:x,updateCurrentValue:p1,oCurrentInstance:z,oDynamicValueField:F,oResetToDefaultButton:X,getMenuItems:function(){return K;},getMenu:function(){return G;}};};
w.prototype.prepareFieldsInKey=function(o){this._sKeySeparator=o.values.keySeparator;if(!this._sKeySeparator){this._sKeySeparator="#";}var a=o.values.item.key;this._aFields=a.split(this._sKeySeparator);for(var n in this._aFields){if(this._aFields[n].startsWith("{")){this._aFields[n]=this._aFields[n].substring(1);}if(this._aFields[n].endsWith("}")){this._aFields[n]=this._aFields[n].substring(0,this._aFields[n].length-1);}}};
w.prototype.getKeyFromItem=function(i){var a="";this._aFields.forEach(function(j){a+=i[j].toString()+this._sKeySeparator;}.bind(this));if(a.endsWith(this._sKeySeparator)){a=a.substring(0,a.length-this._sKeySeparator.length);}return a;};
return w;});
sap.ui.predefine('sap/ui/integration/editor/fields/BaseField',["sap/ui/core/Control","sap/m/MultiInput","sap/m/Token","sap/ui/core/Core","sap/ui/integration/util/BindingHelper","sap/ui/core/ListItem","sap/base/util/ObjectPath","sap/base/util/deepEqual","sap/base/util/deepClone","sap/ui/core/Fragment"],function(C,M,T,a,B,L,O,d,c,F){"use strict";var s="sap/ui/integration/editor/fields/viz";
var e=C.extend("sap.ui.integration.editor.fields.BaseField",{
metadata:{library:"sap.ui.integration",properties:{configuration:{type:"object"},specialButton:{type:"object"},mode:{type:"string"},host:{type:"object"},visible:{type:"boolean",defaultValue:true}},aggregations:{_field:{type:"sap.ui.core.Control",multiple:false,visibility:"hidden"},_dynamicField:{type:"sap.ui.core.Control",multiple:false,visibility:"hidden"}},associations:{_messageIcon:{type:"sap.ui.core.Icon",multiple:false,visibility:"hidden"},_messageStrip:{type:"sap.m.MessageStrip",multiple:false,visibility:"hidden"}},events:{afterInit:{},validateFailed:{}}},
renderer:function(r,o){var f=o.getAggregation("_field"),D=o._getDynamicField();r.openStart("div");r.addClass("sapUiIntegrationEditorItemField");if(f&&f.getWidth){}if(!o.getVisible()){r.addStyle("display","none");}r.writeElementData(o);r.openEnd();if(o.getVisible()){r.openStart("span");r.openEnd();r.openStart("span");r.addClass("sapUiIntegrationEditorEditor");if(o._hasDynamicValue()){r.addStyle("width","1px");r.addStyle("opacity","0");}else{r.addStyle("width","100%");}r.openEnd();r.renderControl(f);r.close("span");r.close("span");if(o._hasDynamicValue()){r.openStart("span");r.addClass("sapUiIntegrationEditorSettings");r.openEnd();r.openStart("span");r.addClass("sapUiIntegrationEditorSettingsField");r.addStyle("width","100%");r.addStyle("opacity","1");r.openEnd();r.renderControl(D);r.close("span");}r.openStart("div");r.writeAttribute("id",o.getId()+"-ms");r.addStyle("height","0");r.openEnd();r.close("div");}r.close("div");}
});
e.prototype.init=function(){this._readyPromise=new Promise(function(r){this._fieldResolver=r;}.bind(this));};
e.prototype.getMessagestrip=function(){var m=this.getAssociation("_messageStrip");return a.byId(m);};
e.prototype.getMessageIcon=function(){var m=this.getAssociation("_messageIcon");return a.byId(m);};
e.prototype._removeValidationMessage=function(){var f=this.control,m=f.getParent().getMessageIcon();if(m){m.setVisible(false);}if(f.getEnabled()){f.setEnabled(false);}};
e.prototype.getResourceBundle=function(){return this.getModel("i18n").getResourceBundle();};
e.prototype.setConfiguration=function(o,S){if(o!==this.getConfiguration()){this._sanitizeValidationSettings(o);this.setProperty("configuration",o,S);if(o){Promise.resolve().then(function(){this.initEditor(o);}.bind(this));}}return this;};
e.prototype._sanitizeValidationSettings=function(o){o.validations=o.validations||[];if(o.validation&&o.validations&&Array.isArray(o.validations)){o.validations.push(o.validation);delete o.validation;}if(o.validation&&!o.validations){o.validations=[o.validation];delete o.validation;}if(o.required){o.validations.unshift({"required":true,"type":"error"});}};
e.prototype.deleteTranslationValuesInTexts=function(l){var t=this;var o=t.getConfiguration();var b="/texts";var D=this._settingsModel.getData();if(!D||!D.texts){return;}var f=c(D.texts,500);if(l){if(f[l]){delete f[l][o.manifestpath];if(d(f[l],{})){delete f[l];}if(d(f,{})){delete D.texts;this._settingsModel.setData(D);}else{this._settingsModel.setProperty(b,f);}}}else{for(var n in f){t.deleteTranslationValuesInTexts(n);}}};
e.prototype._triggerValidation=function(v){if(d(v,this._preChangedValue)&&this._messageFrom==="validation"){return;}this._preChangedValue=v;var o=this.getConfiguration();var b=false;if(o.required){b=true;}else if(o.type==="string"&&v){b=true;}else if((o.type==="integer"||o.type==="number")&&!isNaN(v)){if(v!==""){b=true;}}else if(o.type==="boolean"){b=true;}else if(o.type==="string[]"&&Array.isArray(v)){b=true;}if(o.validations&&Array.isArray(o.validations)&&b){for(var i=0;i<o.validations.length;i++){var V=this._handleValidation(o.validations[i],v);if(typeof V==="boolean"&&!V){this.fireValidateFailed();return false;}else if(typeof V.then==="function"){V.then(function(r){if(!r){this.fireValidateFailed();return false;}}.bind(this));}}this._hideValueState();}return true;};
e.validations={string:{maxLength:function(v,m){return v.length<=m;},maxLengthTxt:"EDITOR_VAL_MAXLENGTH",minLength:function(v,m){return v.length>=m;},minLengthTxt:"EDITOR_VAL_MINLENGTH",pattern:function(v,b){var p=new RegExp(b);return p.test(v);},patternTxt:"EDITOR_VAL_NOMATCH",required:function(v,b){return b&&!!v;},requiredTxt:"EDITOR_VAL_TEXTREQ",validateTxt:"EDITOR_VAL_NOMATCH"},"string[]":{maxLength:function(v,m){return Array.isArray(v)&&v.length<=m;},maxLengthTxt:"EDITOR_VAL_LISTMAXLENGTH",minLength:function(v,m){return Array.isArray(v)&&v.length>=m;},minLengthTxt:"EDITOR_VAL_LISTMINLENGTH",required:function(v,b){return Array.isArray(v)&&v.length>0;},requiredTxt:"EDITOR_VAL_LISTREQ"},integer:{maximum:function(v,b,f){if(f.exclusiveMaximum){f._txt="maximumExclusiveTxt";return v<b;}return v<=b;},maximumTxt:"EDITOR_VAL_MAX",maximumExclusiveTxt:"EDITOR_VAL_MAX_E",minimum:function(v,b,f){if(f.exclusiveMinimum){f._txt="minimumExclusiveTxt";return v>b;}return v>=b;},minimumTxt:"EDITOR_VAL_MIN",minimumExclusiveTxt:"EDITOR_VAL_MIN_E",multipleOf:function(v,b){return(v%b)===0;},multipleOfTxt:"EDITOR_VAL_MULTIPLE",required:function(v,b){return!isNaN(v)&&v!=="";},requiredTxt:"EDITOR_VAL_NUMBERREQ",validateTxt:"EDITOR_VAL_NOMATCH"},number:{maximum:function(v,b,f){if(f.exclusiveMaximum){f._txt="maximumExclusiveTxt";return v<b;}return v<=b;},maximumTxt:"EDITOR_VAL_MAX",maximumExclusiveTxt:"EDITOR_VAL_MAX_E",minimum:function(v,b,f){if(f.exclusiveMinimum){f._txt="minimumExclusiveTxt";return v>b;}return v>=b;},minimumTxt:"EDITOR_VAL_MIN",minimumExclusiveTxt:"EDITOR_VAL_MAX_E",multipleOf:function(v,b){return(v%b)===0;},multipleOfTxt:"EDITOR_VAL_MULTIPLE",required:function(v,b){return!isNaN(v)&&v!=="";},requiredTxt:"EDITOR_VAL_NUMBERREQ",validateTxt:"EDITOR_VAL_NOMATCH"}};
e.prototype._requestData=function(r){var f=this.control.getParent();var o=f.getConfiguration();var D=f._oDataProviderFactory.create(r.data);f.getModel("currentSettings").setProperty(o._settingspath+"/_loading",true);var p=D.getData();return p.then(function(b){f.getModel("currentSettings").setProperty(o._settingspath+"/_loading",false);var P=r.data.path||"/";if(P.startsWith("/")){P=P.substring(1);}if(P.endsWith("/")){P=P.substring(0,P.length-1);}var g=P.split("/");var R=O.get(g,b);return R;});};
e.prototype._handleValidation=function(S,v){var o=this.getConfiguration(),V=e.validations[o.type];var f=function(n,D){var E;if(typeof S.message==="function"){E=S.message(v,o,D);}else{E=S.message;}if(!E){if(S._txt){E=this.getResourceBundle().getText(V[S._txt],[S[n]]);}else{E=this.getResourceBundle().getText(V[n+"Txt"],[S[n]]);}}this._showValueState(S.type||"error",E);}.bind(this);if(S["validate"]){var b={control:this.getAggregation("_field"),requestData:this._requestData,removeValidationMessage:this._removeValidationMessage};var g=S["validate"];return Promise.resolve(g(v,o,b)).then(function(r){var i=r.isValid;if(typeof i==="undefined"){i=r;}var D=r.data?r.data:undefined;if(!i){f("validate",D);return false;}else{this._hideValueState(true,false);return true;}}.bind(this));}else{for(var n in S){if(V){var h=V[n];S._txt="";if(h){if(!h(v,S[n],S)){f(n);return false;}}}}}return true;};
e.prototype.onAfterRendering=function(){this._applyMessage();var m=this.getMessagestrip();if(m&&m.getDomRef()){m.getDomRef().style.opacity="0";}};
e.prototype._applyMessage=function(){var i=a.byId(this.getAssociation("_messageIcon"));if(this.getAssociation("_messageIcon")&&i){var I=i.getDomRef();if(I){I.classList.remove("error");I.classList.remove("warning");I.classList.remove("success");if(this._message){I.classList.add(this._message.type);}}}if(this._message&&(this._message.type==="error"||this._message.type==="warning")){var E=this._message.type==="error"?"Error":"Warning";this._setCurrentProperty("hasError",true);this._setCurrentProperty("errorType",E);}else{this._setCurrentProperty("hasError",false);this._setCurrentProperty("errorType","None");}};
e.prototype._showValueState=function(t,m,f){var o=this.getAggregation("_field"),E=t.substring(0,1).toUpperCase()+t.substring(1);this._message={"enum":E,"type":t,"message":m,"atControl":false};this._messageFrom="validation";if(f){this._messageFrom="request";}var b=this.getMessagestrip();if(o&&o.setValueState){this._message.atControl=true;if(o.setShowValueStateMessage){o.setShowValueStateMessage(false);}o.setValueState(E);o.setValueStateText(m);}else if(b&&b.getVisible()&&o.getMetadata().getName()!=="sap.m.Switch"){this._showMessage();}this._applyMessage();};
e.prototype._hideValueState=function(f,t){if(!this.getParent()){return;}var m=this.getMessagestrip();if(this._message){if((f&&this._messageFrom==="request")||(!f&&this._messageFrom==="validation")){var o=this.getAggregation("_field");this._message={"enum":"Success","type":"success","message":"Corrected","atControl":this._message.atControl};this._messageFrom="validation";if(f){this._messageFrom="request";}if(this._messageto){clearTimeout(this._messageto);}this._messageto=setTimeout(function(){this._messageto=null;this._applyMessage();if(!this._message&&o.setValueState){o.setValueState("None");}}.bind(this),1500);this._applyMessage();if(m){if(m.getDomRef()){m.getDomRef().style.opacity="0";}m.onAfterRendering=null;}if(o.setValueState){o.setValueState("Success");}if(o.setValueStateText){o.setValueStateText("");}this._message=null;}if(!this._message&&f&&t){this._triggerValidation(this.getConfiguration().value);}}};
e.prototype.onfocusin=function(E){if(E&&E.target.classList.contains("sapMBtn")){return;}this._showMessage();};
e.prototype.onfocusout=function(E){this._hideMessage();};
e.prototype._showMessage=function(){if(!this.getParent()){return;}var m=this.getMessagestrip();if(this._message&&m){m.applySettings({type:this._message.enum,text:this._message.message});var t=this;m.onAfterRendering=function(){m.getDomRef().style.zIndex="1";m.getDomRef().style.opacity="1";t.getDomRef("ms")&&t.getDomRef("ms").appendChild(m.getDomRef());var f=t.getAggregation("_field");if(t._message&&!t._message.atControl){m.getDomRef().style.marginTop="0";m.getDomRef().style.marginLeft="0";}var w=f.getDomRef()?f.getDomRef().offsetWidth-5:100;if(w<=100){w=f.getParent().getDomRef()?f.getParent().getDomRef().offsetWidth-35:100;}m.getDomRef().style.width=w+"px";};m.rerender();}};
e.prototype._hideMessage=function(){var m=this.getMessagestrip();var f=this.getAggregation("_field"),b=f.getDomRef()&&f.getDomRef().contains(window.document.activeElement);if(m){if(!b&&m.getDomRef()){m.getDomRef().style.opacity="0";m.getDomRef().style.zIndex="-1";}m.onAfterRendering=null;}};
e.prototype.initEditor=function(o){var b;this._settingsModel=this.getModel("currentSettings");this.initVisualization&&this.initVisualization(o);if(this._visualization.editor){b=this._visualization.editor;}else if(this._visualization.type){if(typeof this._visualization.type==="string"){if(this._visualization.type.indexOf("/")===-1){this._visualization.type=s+"/"+this._visualization.type;this._visualization.settings=this._visualization.settings||{value:"{currentSettings>value}",editable:o.editable};}sap.ui.require([this._visualization.type],function(f){this._visualization.type=f;this.initEditor(o);}.bind(this));return;}b=new this._visualization.type(this._visualization.settings||{});}else if(this._visualization.fragment){if(typeof this._visualization.fragment==="string"){if(!this._visualization.controller){this._visualization.controller=this._visualization.fragment+".controller";}if(typeof this._visualization.controller==="string"){sap.ui.require([this._visualization.controller],function(f){this._visualization.controller=new f();this._visualization.controller.init();this._visualization.controller.setField(this);this.initEditor(o);}.bind(this));}else if(typeof this._visualization.controller==="object"){F.load({name:this._visualization.fragment,controller:this._visualization.controller}).then(function(f){this._visualization.fragment=f;this.initEditor(o);}.bind(this));}else{F.load({name:this._visualization.fragment}).then(function(f){this._visualization.fragment=f;this.initEditor(o);}.bind(this));}return;}b=this._visualization.fragment;}if(b instanceof C){this.setAggregation("_field",b);if(b.attachChange){b.attachChange(function(E){if(E.mParameters.value===""){var o=this.getConfiguration();if(o.type==="string[]"){this._triggerValidation(o.value);}else{this._triggerValidation(E.getParameter("value"));}}}.bind(this));}var g=this._settingsModel.bindProperty("value",this.getBindingContext("currentSettings"));g.attachChange(function(){this._triggerValidation(o.value);}.bind(this));this._triggerValidation(o.value);}var m=this.getMode();o.allowSettings=o.allowSettings||o.allowSettings!==false&&m==="admin";o.allowDynamicValues=o.allowDynamicValues||o.allowDynamicValues!==false;o._changeDynamicValues=o.visible&&o.editable&&(o.allowDynamicValues||o.allowSettings)&&m!=="translation";if(o._changeDynamicValues){this._getDynamicField();}this._applySettings(o);this.fireAfterInit();};
e.prototype.initVisualization=function(){};
e.prototype._hasDynamicValue=function(){var v=this._getCurrentProperty("value");var D=typeof v==="string"&&(v.indexOf("{context>")===0||v.indexOf("{{parameters")===0);this._setCurrentProperty("_hasDynamicValue",D);return D;};
e.prototype._hasSettings=function(){var o=this.getConfiguration();if(o._next){var v=o.hasOwnProperty("visibleToUser")?o.visibleToUser:true;var E=o.hasOwnProperty("editableToUser")?o.editableToUser:true;var b=o._next.visible===false?false:o._next.editable;var A=o.hasOwnProperty("allowDynamicValues")?o.allowDynamicValues:true;o._hasSettings=(o._next.visible===!v||b===!E||o._next.allowDynamicValues===!A);}else{o._hasSettings=false;if(o.hasOwnProperty("editableToUser")||o.hasOwnProperty("visibleToUser")){o._next={};}if(o.hasOwnProperty("editableToUser")){o._next.editable=o.editableToUser;}if(o.hasOwnProperty("visibleToUser")){o._next.visible=o.visibleToUser;}}return o._hasSettings;};
e.prototype._getDynamicField=function(){var f=this.getAggregation("_dynamicField");if(!f){var f=new M({showValueHelp:false});this.setAggregation("_dynamicField",f);}return f;};
e.prototype._hideDynamicField=function(){var D=this._getDynamicField(),f=this.getAggregation("_field");if(D.getDomRef()){var S=D.getDomRef().parentNode.style;S.width="1px";S.opacity=0;S=f.getDomRef().parentNode.style;f.getDomRef().style.visibility="visible";S.width="100%";S.opacity=1;}};
e.prototype._showDynamicField=function(){var D=this._getDynamicField(),f=this.getAggregation("_field");if(D.getDomRef()){var S=D.getDomRef().parentNode.style;S.width="100%";S.opacity=1;S=f.getDomRef().parentNode.style;f.getDomRef().style.visibility="hidden";S.width="1px";S.opacity=0;}};
e.prototype._setCurrentProperty=function(p,v){if(this._getCurrentProperty(p)!==v){this._settingsModel.setProperty(p,v,this.getBindingContext("currentSettings"));}};
e.prototype._getCurrentProperty=function(p){return this._settingsModel.getProperty(p,this.getBindingContext("currentSettings"));};
e.prototype._applySettings=function(D){var b=this._getDynamicField(),o=this.getModel("contextflat")._getValueObject(D.value);b.removeAllTokens();if(!this._getCurrentProperty("_changeDynamicValues")){b.setEnabled(false);}if(o&&o.path!=="empty"){if(o.object.value&&o.object.value.indexOf("{{")==0){this._setCurrentProperty("value",o.object.value);}else{this._setCurrentProperty("value",o.value);}b.addToken(new T({text:o.object.label,"delete":function(){this._setCurrentProperty("value","");var i=this.getAggregation("_field");i.setValue("");i.fireChange();if(!this._hasDynamicValue()){this._hideDynamicField();}this._applyButtonStyles();window.setTimeout(function(){this.getAggregation("_field").focus();}.bind(this),100);}.bind(this)}));var f=this.getConfiguration();if(f.type==="string"&&f.translatable){this.deleteTranslationValuesInTexts();}}else{this._setCurrentProperty("value",D.value);this._setCurrentProperty("_changed",D._changed);this._hideDynamicField();}this._setCurrentProperty("_next",D._next);this._applyButtonStyles();if(!this._hasDynamicValue()){this._hideDynamicField();}else{this._showDynamicField();}this._fieldResolver&&this._fieldResolver();this._fieldResolver=null;};
e.prototype._cancelSettings=function(){this._applyButtonStyles();if(!this._hasDynamicValue()){this._hideDynamicField();}};
e.prototype._applyButtonStyles=function(){if(!this._settingsButton){return;}if(!this._hasDynamicValue()){this._settingsButton.removeStyleClass("dynamicvalue");}else{this._settingsButton.addStyleClass("dynamicvalue");}if(!this._hasSettings()){this._settingsButton.removeStyleClass("settings");}else{this._settingsButton.addStyleClass("settings");}};
e.prototype.isFilterBackend=function(){var o=this.getConfiguration();var i=false;if(o&&o.values&&o.values.data){if(o.values.data.request&&o.values.data.request.parameters&&o.values.data.request.parameters.$filter&&o.values.data.request.parameters.$filter.indexOf("{currentSettings>suggestValue}")>-1){i=true;}else if(o.values.data.request&&o.values.data.request.url&&o.values.data.request.url.indexOf("{currentSettings>suggestValue}")>-1){i=true;}}return i;};
e.prototype.formatListItem=function(i){var I=new L();for(var k in i){I.bindProperty(k,B.createBindingInfos(i[k]));}return I;};
e.prototype.getPreviewPosition=function(){return this._settingsModel.getProperty("/preview/position");};
return e;});
sap.ui.predefine('sap/ui/integration/editor/fields/BooleanField',["sap/ui/integration/editor/fields/BaseField","sap/m/CheckBox"],function(B,C){"use strict";
var a=B.extend("sap.ui.integration.editor.fields.BooleanField",{
metadata:{library:"sap.ui.integration"},
renderer:B.getMetadata().getRenderer()
});
a.prototype.initVisualization=function(c){var v=c.visualization;if(!v){v={type:C,settings:{selected:{path:'currentSettings>value'},editable:c.editable}};c.withLabel=true;}else if(v.type==="Switch"){v.type="sap/m/Switch";}this._visualization=v;};
return a;});
sap.ui.predefine('sap/ui/integration/editor/fields/DateField',["sap/ui/integration/editor/fields/BaseField","sap/m/DatePicker"],function(B,D){"use strict";
var a=B.extend("sap.ui.integration.editor.fields.DateField",{
metadata:{library:"sap.ui.integration"},
renderer:B.getMetadata().getRenderer()
});
a.prototype.initVisualization=function(c){var v=c.visualization;var o=c.formatter;if(c.value!==""){c.value=new Date(c.value);}if(!v){v={type:D,settings:{value:{path:"currentSettings>value",type:'sap.ui.model.type.Date',formatOptions:o},editable:c.editable,width:"100%",change:function(e){if(e.getParameters().valid){var s=e.getSource();s.getBinding("value").setValue(s.getDateValue());s.getBinding("value").checkUpdate();}else{var s=e.getSource();s.getBinding("value").setValue("");}}}};}this._visualization=v;};
return a;});
sap.ui.predefine('sap/ui/integration/editor/fields/DateTimeField',["sap/ui/integration/editor/fields/BaseField","sap/m/DateTimePicker"],function(B,D){"use strict";
var a=B.extend("sap.ui.integration.editor.fields.DateTimeField",{
metadata:{library:"sap.ui.integration"},
renderer:B.getMetadata().getRenderer()
});
a.prototype.initVisualization=function(c){var v=c.visualization;var o=c.formatter;if(c.value!==""){c.value=new Date(c.value);}if(!v){v={type:D,settings:{value:{path:"currentSettings>value",type:'sap.ui.model.type.DateTime',formatOptions:o},editable:c.editable,width:"100%",change:function(e){if(e.getParameters().valid){var s=e.getSource();s.getBinding("value").setValue(s.getDateValue().toISOString());s.getBinding("value").checkUpdate();}else{var s=e.getSource();s.getBinding("value").setValue("");s.getBinding("value").checkUpdate(true);}}}};}this._visualization=v;};
return a;});
sap.ui.predefine('sap/ui/integration/editor/fields/DestinationField',["sap/ui/integration/editor/fields/BaseField","sap/m/Select","sap/ui/core/ListItem"],function(B,S,L){"use strict";
var D=B.extend("sap.ui.integration.editor.fields.DestinationField",{
metadata:{library:"sap.ui.integration"},
renderer:B.getMetadata().getRenderer()
});
D.prototype.initVisualization=function(c){var v=c.visualization;if(!v){v={type:S,settings:{busy:{path:'currentSettings>_loading'},selectedKey:{path:'currentSettings>value'},forceSelection:false,width:"100%",items:{path:"currentSettings>_values",template:new L({text:"{currentSettings>name}",key:"{currentSettings>name}"})}}};}this._visualization=v;};
return D;});
sap.ui.predefine('sap/ui/integration/editor/fields/IntegerField',["sap/ui/integration/editor/fields/BaseField","sap/m/Input"],function(B,I){"use strict";
var a=B.extend("sap.ui.integration.editor.fields.IntegerField",{
metadata:{library:"sap.ui.integration"},
renderer:B.getMetadata().getRenderer()
});
a.prototype.initVisualization=function(c){var v=c.visualization;var f=c.formatter;if(!v){v={type:I,settings:{value:{path:'currentSettings>value',type:'sap.ui.model.type.Integer',formatOptions:f},editable:c.editable,type:"Number",parseError:function(e){var C=e.getSource(),b=null;if(C.getValue()!==""){if(e.getParameters()&&e.getParameters().exception&&e.getParameters().exception.message){b=e.getParameters().exception.message;}else{b=e.getId();}C.getParent()._showValueState("error",b);}else{C.getParent()._showValueState("none","");}}}};}else if(v.type==="Slider"){v.type="sap/m/Slider";}this._visualization=v;};
return a;});
sap.ui.predefine('sap/ui/integration/editor/fields/NumberField',["sap/ui/integration/editor/fields/BaseField","sap/m/Input"],function(B,I){"use strict";
var N=B.extend("sap.ui.integration.editor.fields.NumberField",{
metadata:{library:"sap.ui.integration"},
renderer:B.getMetadata().getRenderer()
});
N.prototype.initVisualization=function(c){var v=c.visualization;var f=c.formatter;if(!v){v={type:I,settings:{value:{path:'currentSettings>value',type:'sap.ui.model.type.Float',formatOptions:f},editable:c.editable,type:"Number"}};}this._visualization=v;};
return N;});
sap.ui.predefine('sap/ui/integration/editor/fields/ObjectField',["sap/ui/integration/editor/fields/BaseField","sap/m/Text","sap/m/TextArea","sap/m/Input","sap/m/NavContainer","sap/m/Page","sap/m/Popover","sap/m/OverflowToolbar","sap/m/ToolbarSpacer","sap/m/Button","sap/ui/model/json/JSONModel","sap/ui/table/Table","sap/ui/table/Column","sap/m/Label","sap/m/VBox","sap/ui/model/Filter","sap/ui/model/FilterOperator","sap/base/util/deepEqual","sap/ui/core/Icon","sap/m/Switch","sap/m/CheckBox","sap/m/MessageBox","sap/m/MessageToast","sap/base/util/deepClone","sap/m/Link","sap/ui/layout/form/SimpleForm","sap/base/util/merge","sap/m/List","sap/m/CustomListItem","sap/ui/model/Sorter","sap/ui/core/CustomData","sap/ui/integration/editor/EditorResourceBundles","sap/base/util/includes","sap/ui/integration/util/Utils"],function(B,T,a,I,N,P,b,O,c,d,J,f,C,L,V,F,g,h,j,S,k,M,l,o,q,r,t,u,v,w,x,E,y,U){"use strict";var R=/\{\{(?!parameters.)(?!destinations.)([^\}\}]+)\}\}/g;
var z=B.extend("sap.ui.integration.editor.fields.ObjectField",{
metadata:{library:"sap.ui.integration",events:{tableUpdated:{}}},
renderer:B.getMetadata().getRenderer()
});
z.prototype.initVisualization=function(e){var i=this;i._newObjectTemplate={"_dt":{"_selected":true,"_uuid":""}};var m=e.visualization;if(!m){if(e.value&&!e.properties&&(!e.values||(e.values&&!e.values.metadata))){i.parseValueProperties();}if(e.values){m=i.createTableVisualization(e);}else if(e.properties){m=i.createSimpleFormVisualization(e);}else{m=i.createTextAreaVisualization(e);}e.withLabel=true;}this._visualization=m;this.attachAfterInit(this._afterInit);};
z.prototype._afterInit=function(){var e=this;var i=this.getAggregation("_field");if(i instanceof r){i.addStyleClass("sapUiIntegrationEditorItemObjectFieldForm");var m=o(e.getConfiguration().value,500)||{};i.setModel(new J({value:m,editMode:"Properties"}));}else if(i instanceof f){i.addStyleClass("sapUiIntegrationEditorItemObjectFieldTable");}};
z.prototype.parseValueProperties=function(){var e=this;var i=e.getConfiguration();if(typeof i.value==="object"&&!h(i.value,{})&&!Array.isArray(i.value)&&!i.properties){var p={};for(var n in i.value){if(n!=="_dt"){var s=typeof i.value[n];var m=s==="string"?{}:{"type":s};p[n]=m;}}if(!h(p,{})){i.properties=p;i._propertiesParsedFromValue=true;}}};
z.prototype.createTableVisualization=function(e){var i=this;var m=i.createTableToolbar(e);var n=[];var p=e.values?e.values.data.path||"/":"/value";if(e.values&&e.values.metadata){n={path:'meta>/'+e.values.metadata.namespace+'.'+e.values.metadata.entityTypeName,filters:new F({path:"$kind",operator:g.EQ,value1:"Property"}),factory:i.columnFactory.bind(i)};}else{n=i.buildTableColumns();}var s={type:f,settings:{visibleRowCount:5,busy:"{currentSettings>_loading}",busyIndicatorDelay:200,columns:n,selectionBehavior:"RowOnly",rowSelectionChange:i.onTableSelectionChange.bind(i),toolbar:m,filter:i.onFilter.bind(i)}};if(e.type==="object"){s.settings.rows="{"+p+"}";}else{s.settings.rows="{path: '"+p+"', sorter: {path: '_dt/_position', descending: false}}";}return s;};
z.prototype.createSimpleFormVisualization=function(e){var i=this;var m=i.getResourceBundle();var n=function(){var G=this.getAggregation("_field").getModel();G.checkUpdate(true);var H=G.getProperty("/value");if(!H._dt){H._dt={_uuid:U.generateUuidV4()};}else if(!H._dt._uuid){H._dt._uuid=U.generateUuidV4();}H=o(H,500);this.setValue(H);}.bind(i);var p=i.createFormContents(n,"/value/",false,i.openTranslationPopup);var s=new d({icon:{path:'/editMode',formatter:function(G){if(G==="Properties"){return"sap-icon://syntax";}else{return"sap-icon://form";}}},tooltip:{path:'/editMode',formatter:function(G){if(G==="Properties"){return m.getText("EDITOR_FIELD_OBJECT_FORM_EDITMODE_JSON");}else{return m.getText("EDITOR_FIELD_OBJECT_FORM_EDITMODE_PROPERTIES");}}},press:function(){var G=i.getAggregation("_field").getModel();var H=G.getProperty("/editMode");if(H==="Properties"){G.setProperty("/editMode","Json");}else{G.setProperty("/editMode","Properties");}}});var D=new d({icon:"sap-icon://delete",tooltip:m.getText("EDITOR_FIELD_OBJECT_DELETE"),visible:e.enabled,enabled:{path:'currentSettings>value',formatter:function(G){if(!G||G===""){return false;}return true;}},press:function(G){i.setValue(undefined);var H=i.getAggregation("_field").getModel();var K=H.getProperty("/value");if(K&&K._dt&&K._dt._uuid){i.deleteTranslationValueInTexts(undefined,K._dt._uuid);}H.setProperty("/value",{});H.checkUpdate(true);}});var A={type:r,settings:{layout:"ResponsiveGridLayout",visible:e.visible,labelSpanXL:2,labelSpanL:2,labelSpanM:2,labelSpanS:12,emptySpanXL:1,emptySpanL:1,emptySpanM:1,emptySpanS:0,columnsXL:1,columnsL:1,columnsM:1,toolbar:new O({content:[new c(),s,D]}).addStyleClass("sapMTB"),content:p}};return A;};
z.prototype.createTextAreaVisualization=function(e){var i=this;var m={type:a,settings:{value:{path:'currentSettings>value',formatter:function(n){if(!n||n===""){return undefined;}n=JSON.stringify(n,null,"\t");if(typeof n==="object"&&!n.length){n=n.replace(/\"\$\$([a-zA-Z]*)\$\$\"/g,function(s){return s.substring(3,s.length-3);});}return n;}},editable:"{config/editable}",width:"100%",enabled:"{config/enabled}",placeholder:"{config/placeholder}",visible:e.visible,change:this.onChangeOfTextArea.bind(i),rows:7}};return m;};
z.prototype.buildSelectionColumnLables=function(){var e=this;var i=e.getConfiguration();var m=e.getResourceBundle();return new d({icon:"sap-icon://clear-all",type:"Transparent",enabled:typeof i.values==="undefined"?false:"{/_hasSelected}",tooltip:m.getText("EDITOR_FIELD_OBJECT_TABLE_COLUMN_SELECTION_TOOLTIP_REMOVE"),press:e.onUnSelectAll.bind(e)});};
z.prototype.buildTableColumns=function(){var e=this;var i=e.getConfiguration();var m=[];var K=Object.keys(i.properties);if(K.length>0){var p=e.getResourceBundle();var s=e.buildSelectionColumnLables();var A=new C({width:"3.2rem",hAlign:"Center",visible:typeof i.values==="undefined"?false:true,multiLabels:[s],template:new k({selected:"{_dt/_selected}",enabled:typeof i.values==="undefined"?false:true,tooltip:{path:'_dt/_selected',formatter:function(c1){if(c1){if(i.type==="object"){return p.getText("EDITOR_FIELD_OBJECT_TABLE_COLUMN_SELECTION_CELL_TOOLTIP_UNSELECT");}else{return p.getText("EDITOR_FIELD_OBJECT_LIST_TABLE_COLUMN_SELECTION_CELL_TOOLTIP_REMOVE");}}else if(i.type==="object"){return p.getText("EDITOR_FIELD_OBJECT_TABLE_COLUMN_SELECTION_CELL_TOOLTIP_SELECT");}else{return p.getText("EDITOR_FIELD_OBJECT_LIST_TABLE_COLUMN_SELECTION_CELL_TOOLTIP_ADD");}}},select:e.onSelectionChange.bind(e)})});m.push(A);for(var n in i.properties){var D=i.properties[n];var G=D.label||n;var H="{"+n+"}";if(D.defaultValue){e._newObjectTemplate[n]=D.defaultValue;}var Q={"width":"7rem","label":G};if(D.column){Q=t(Q,D.column);}if(Q.label.match(R)){Q.label="{i18n>"+Q.label.substring(2,Q.label.length-1);}Q.tooltip=Q.label;var W=D.cell&&D.cell.type?D.cell.type:D.type||"Text";var X;var Y;var Z=o(D.cell)||{};delete Z.type;switch(W){case"int":case"number":Y={text:H,wrapping:false};Y=t(Y,Z);X=new T(Y);break;case"string":case"Text":Y={text:H,wrapping:false};Y=t(Y,Z);var $=Y.text;var _=new J({translatable:D.translatable||false,property:n});if(typeof $==="string"){var a1=e.getTranslationKey($);if(a1){Y.text=p.getText(a1);}else if($.startsWith('{')&&$.endsWith('}')){Y.text={path:$.substring(1,$.length-1),formatter:function(c1){var d1=this.getBindingContext(),e1,f1=this.getModel("settings").getData(),g1=e.getTranslationKey(c1);if(f1.translatable||g1){if(d1&&d1.getObject()&&d1.getObject()._dt){e1=e.getTranslationValueInTexts(p.sLocale.replaceAll('_','-'),d1.getObject()._dt._uuid,f1.property);if(e1){return e1;}}if(g1){c1=p.getText(g1);return c1;}}return c1;}};}}Y.tooltip=Z.tooltip||Y.text;X=new T(Y);X.setModel(_,"settings");break;case"Icon":Y={src:H};Y=t(Y,Z);X=new j(Y);break;case"boolean":Y={selected:H,enabled:false};Y=t(Y,Z);X=new k(Y);break;case"Switch":Y={state:H,enabled:false};Y=t(Y,Z);X=new S(Y);break;case"Link":Y={text:H,target:"_blank",href:H};Y=t(Y,Z);X=new q(Y);break;default:X=new T({text:H,wrapping:false});break;}Q.template=X;var b1=new C(Q);m.push(b1);}}return m;};
z.prototype.checkHasFilterDefined=function(e){var H=true;if(e._propertiesParsedFromValue===true){H=false;}else{var p=JSON.stringify(e.properties,null,"\t");H=p.indexOf("filterProperty")>-1?true:false;}return H;};
z.prototype.createTableToolbar=function(e){var i=this;var m=i.getResourceBundle();var H=i.checkHasFilterDefined(e);var A=e.enabled!==false;var s=e.addButtonText||m.getText("EDITOR_FIELD_OBJECT_TABLE_BUTTON_ADD_TOOLTIP");if(A&&e.values){A=e.values.allowAdd===true;}var n=[new c(),new d({icon:"sap-icon://add",visible:A,tooltip:s,press:i.addNewObject.bind(i)}),new d({icon:"sap-icon://edit",tooltip:m.getText("EDITOR_FIELD_OBJECT_TABLE_BUTTON_EDIT_TOOLTIP"),enabled:"{= !!${/_hasTableSelected}}",press:i.onEditOrViewDetail.bind(i)}),new d({icon:"sap-icon://delete",tooltip:m.getText("EDITOR_FIELD_OBJECT_DELETE"),enabled:"{= !!${/_canDelete}}",press:i.onDelete.bind(i)}),new d({icon:"sap-icon://clear-filter",visible:H,enabled:"{= !!${/_hasFilter}}",tooltip:m.getText("EDITOR_FIELD_OBJECT_TABLE_BUTTON_CLEAR_ALL_FILTERS_TOOLTIP"),press:i.clearAllFilters.bind(i)}),new d({icon:"sap-icon://multiselect-all",visible:false,enabled:"{= !${/_hasTableAllSelected}}",tooltip:m.getText("EDITOR_FIELD_OBJECT_TABLE_BUTTON_SELECT_ALL_SELETIONS_TOOLTIP"),press:i.selectAllTableSelections.bind(i)}),new d({icon:"sap-icon://multiselect-none",visible:false,enabled:"{= !!${/_hasTableSelected}}",tooltip:m.getText("EDITOR_FIELD_OBJECT_TABLE_BUTTON_CLEAR_ALL_SELETIONS_TOOLTIP"),press:i.clearAllTableSelections.bind(i)})];if(e.type==="object[]"){n=n.concat([new d({icon:"sap-icon://navigation-up-arrow",enabled:"{= !!${/_hasOnlyOneRowSelected}}",tooltip:m.getText("EDITOR_FIELD_OBJECT_TABLE_BUTTON_MOVE_UP_TOOLTIP"),press:i.moveRowUp.bind(i)}),new d({icon:"sap-icon://navigation-down-arrow",enabled:"{= !!${/_hasOnlyOneRowSelected}}",tooltip:m.getText("EDITOR_FIELD_OBJECT_TABLE_BUTTON_MOVE_DOWN_TOOLTIP"),press:i.moveRowDown.bind(i)})]);}return new O({content:n});};
z.prototype.onUnSelectAll=function(e){var i=this;var m=i.getAggregation("_field");var p=m.getBindingContext().getPath();var n=m.getModel();var D=n.getProperty(p);D.forEach(function(s){s._dt=s._dt||{};s._dt._selected=false;});n.setProperty("/_hasSelected",false);n.checkUpdate(true);i.setValue(undefined);};
z.prototype.onEditOrViewDetail=function(e){var i=this;var m=i.getAggregation("_field");var s=m.getSelectedIndex();var n=m.getBinding("rows").getContexts();var p=n[s].getObject();var A=m.getFirstVisibleRow();var D=m.getRows()[s-A];var G=D.getCells()[0];i.openObjectDetailsPopover(p,G,!p._dt||p._dt._editable!==false?"update":"view");};
z.prototype.onFilter=function(e){var i=this;var m=i.getAggregation("_field");m.detachEvent("rowsUpdated",i.updateTable,i);m.attachEventOnce("rowsUpdated",i.updateTable,i);};
z.prototype.updateTable=function(e){var i=this;i.updateSelectionColumn();i.updateToolbar();i.fireTableUpdated();};
z.prototype.updateSelectionColumn=function(){var e=this;var m=e.getAggregation("_field");var n=m.getBinding("rows").getContexts();var H=false;for(var i=0;i<n.length;i++){var p=n[i].getObject();if(p._dt&&p._dt._selected){H=true;break;}}m.getModel().setProperty("/_hasSelected",H);};
z.prototype.updateToolbar=function(){var e=this;var m=e.getAggregation("_field");var n=m.getColumns();var H=false;for(var i=0;i<n.length;i++){var p=n[i].getMenu();var s=p.getItems();if(s.length>0){var A=s[0];var D=A.getValue();if(D&&D!==""){H=true;break;}}}m.getModel().setProperty("/_hasFilter",H);};
z.prototype.columnFactory=function(i,e){var p=e.getPath();var n=p.substring(e.getPath().lastIndexOf("/")+1);var s=e.getProperty("$Type");var m=e.getProperty("$MaxLength");var A="7rem";m=m?parseInt(m):10;m=m<7?7:m;if(m>50){A="15rem";}else if(m>9){A="10rem";}return new C(i,{visible:true,filterProperty:s&&s.indexOf("String")>=0?n:null,width:A,label:new L({text:n}),hAlign:s&&s.indexOf("Decimal")>=0?"End":"Begin",template:new T({text:{path:n},wrapping:false})});};
z.prototype.onTableSelectionChange=function(e){var i=this;var m=i.getAggregation("_field");var n=m.getModel();var s=m.getSelectedIndices();if(s.length>0){n.setProperty("/_hasTableSelected",true);if(s.length===1){n.setProperty("/_hasOnlyOneRowSelected",true);}else{n.setProperty("/_hasOnlyOneRowSelected",false);}}else{n.setProperty("/_hasTableSelected",false);n.setProperty("/_hasOnlyOneRowSelected",false);n.setProperty("/_canDelete",false);return;}if(s.length===m.getBinding("rows").getContexts().length){n.setProperty("/_hasTableAllSelected",true);}else{n.setProperty("/_hasTableAllSelected",false);}var p=[];var A=m.getBinding("rows").getContexts();s.forEach(function(D){var G=A[D].getObject();if(G._dt&&G._dt._editable!==false){var H=A[D].getPath();p.push(H);}});if(p.length===0){n.setProperty("/_canDelete",false);}else{n.setProperty("/_canDelete",true);}};
z.prototype.selectAllTableSelections=function(e){var i=this;var m=i.getAggregation("_field");m.selectAll();m.getModel().setProperty("/_hasTableAllSelected",true);};
z.prototype.clearAllTableSelections=function(e){var i=this;var m=i.getAggregation("_field");var n=m.getModel();m.clearSelection();n.setProperty("/_hasTableSelected",false);n.setProperty("/_hasOnlyOneRowSelected",false);n.setProperty("/_canDelete",false);n.setProperty("/_hasTableAllSelected",false);};
z.prototype.moveRowUp=function(e){this.moveSelectedRow("Up");};
z.prototype.moveRowDown=function(e){this.moveSelectedRow("Down");};
z.prototype.moveSelectedRow=function(D){var e=this;var i=e.getAggregation("_field");var m=i.getModel();var s=i.getSelectedIndex();var n=i.getContextByIndex(s);var p=s+(D==="Up"?-1:1);var A=i.getContextByIndex(p);if(!A){return;}var G=A.getProperty("_dt/_position");var H=n.getProperty("_dt/_position");m.setProperty("_dt/_position",G,n);m.setProperty("_dt/_position",H,A);m.refresh(true);i.setSelectedIndex(p);e.refreshValue();};
z.prototype.onSelectionChange=function(e){var i=this;var m=e.getSource();var s=e.getParameter("selected");var n=i.getAggregation("_field");var p=n.getBindingContext().getPath();var A=n.getModel();if(s){var D=A.getProperty(p);D.forEach(function(K){K._dt=K._dt||{};K._dt._selected=false;});var G=m.getBindingContext().getObject();G._dt._selected=true;var H=o(G);A.setProperty("/_hasSelected",true);i.setValue(H);}else{A.setProperty("/_hasSelected",false);i.setValue(undefined);}};
z.prototype.addNewObject=function(e){var i=this;var m=e.getSource();i._newObjectTemplate._dt._uuid=U.generateUuidV4();i.openObjectDetailsPopover(i._newObjectTemplate,m,"add");};
z.prototype.mergeValueWithRequestResult=function(e){var i=this;var m=i.getConfiguration();var n=i.getAggregation("_field");var p=n.getModel();if(m.value&&(typeof m.value==="object")&&!h(m.value,{})){var s=o(m.value,500),A=n.getBinding("rows").getPath();if(Array.isArray(e)&&e.length>0){if(s._dt&&s._dt._editable===false){var D=s._dt._uuid||U.generateUuidV4();delete s._dt._uuid;e.forEach(function(G){if(h(G,s)){G._dt._selected=true;G._dt._uuid=D;}else{G._dt._uuid=U.generateUuidV4();}});}else{e.forEach(function(G){G._dt._uuid=U.generateUuidV4();});s._dt=s._dt||{};s._dt._selected=true;s._dt._uuid=s._dt._uuid||U.generateUuidV4();e.unshift(s);}}else{s._dt=s._dt||{};s._dt._selected=true;s._dt._uuid=s._dt._uuid||U.generateUuidV4();e=[s];}p.setProperty("/_hasSelected",true);p.setProperty(A,e);}else{if(Array.isArray(e)&&e.length>0){e.forEach(function(G){G._dt._uuid=U.generateUuidV4();});}p.setProperty("/_hasSelected",false);}p.checkUpdate();i.updateTable();};
z.prototype.onChangeOfTextArea=function(i){var m=this;var n=m.getResourceBundle();var p=i.getSource();var s=p.getValue();if(!s||s===""){m.saveValue(undefined,p);}else{try{var A=JSON.parse(s);if(A instanceof Array){p.setValueState("Error");p.setValueStateText(n.getText("EDITOR_VAL_NOT_A_SINGLE_JSONOBJECT"));return;}m.saveValue(A,p);}catch(e){p.setValueState("Error");p.setValueStateText(n.getText("EDITOR_VAL_NOT_A_JSONOBJECT"));}}};
z.prototype.onChangeOfTextAreaInPopover=function(i){var m=this;var n=m.getResourceBundle();var p=i.getSource();var s=p.getValue();if(!s||s===""){m.saveValue(undefined,p,true);}else{try{var A=JSON.parse(s);if(A instanceof Array){p.setValueState("Error");p.setValueStateText(n.getText("EDITOR_VAL_NOT_A_SINGLE_JSONOBJECT"));return;}m.saveValue(A,p,true);}catch(e){p.setValueState("Error");p.setValueStateText(n.getText("EDITOR_VAL_NOT_A_JSONOBJECT"));}}};
z.prototype.createFormContents=function(e,p,i,n){var m=this;var A=m.getConfiguration();var D=m.createPropertyContents(e,p,n);D.push(new L({visible:false}).addStyleClass("sapFormLabel"));D.push(new a({value:{path:p,formatter:function(G){if(!G||G===""){return undefined;}if(h(G,{})&&!i&&!m._getCurrentProperty("value")){return undefined;}G=JSON.stringify(G,null,"\t");if(typeof G==="object"&&!G.length){G=G.replace(/\"\$\$([a-zA-Z]*)\$\$\"/g,function(s){return s.substring(3,s.length-3);});}return G;}},editable:A.editable===false?false:"{= ${"+p+"_dt/_editable} !== false}",width:"100%",placeholder:"{config/placeholder}",visible:"{= ${/editMode} === 'Json'}",change:i===true?this.onChangeOfTextAreaInPopover.bind(m):this.onChangeOfTextArea.bind(m),rows:i===true?11:7}));return D;};
z.prototype.createPropertyContents=function(e,p,i){var A=this;var D=A.getConfiguration();var G=[];if(!p){p="currentSettings>value/";}var H={};if(D.values&&D.values.metadata){var K=A.getModel("meta");var Q="/"+D.values.metadata.namespace+'.'+D.values.metadata.entityTypeName;var W=K.getProperty(Q);for(var m in W){var X=W[m];var Y=X['$Type'];if(X['$kind']==="Property"&&Y){if(Y.indexOf("Int")>=0){H[m]={type:"int"};}else if(Y.indexOf("Boolean")>=0){H[m]={type:"boolean"};}else if(Y.indexOf("Decimal")>=0){H[m]={type:"number"};}else{H[m]={type:"string"};}}}}if(h(H,{})){H=D.properties;}for(var n in H){var Z=H[n];var $=Z.label||n;if($.match(R)){var _=$.substring(2,$.length-2);$="{i18n>"+_+"}";}var a1=new L({text:$,visible:"{= ${/editMode} === 'Properties'}",required:Z.required||false});G.push(a1);var b1;var c1=o(Z,500);delete c1.type;delete c1.label;delete c1.translatable;delete c1.defaultValue;delete c1.formatter;delete c1.column;delete c1.cell;var d1;switch(Z.type){case"boolean":if(Z.cell&&Z.cell.type==="Switch"){d1={state:"{"+p+n+"}",visible:"{= ${/editMode} === 'Properties'}",enabled:D.editable===false?false:"{= ${"+p+"_dt/_editable} !== false}",change:e};if(Z.cell.customTextOn){d1.customTextOn=Z.cell.customTextOn;}if(Z.cell.customTextOff){d1.customTextOff=Z.cell.customTextOff;}d1=t(d1,c1);b1=new S(d1);}else{d1={selected:"{"+p+n+"}",visible:"{= ${/editMode} === 'Properties'}",enabled:D.editable===false?false:"{= ${"+p+"_dt/_editable} !== false}",select:e};d1=t(d1,c1);b1=new k(d1);}break;case"int":case"integer":d1={value:{path:p+n,type:"sap.ui.model.type.Integer",formatOptions:Z.formatter},visible:"{= ${/editMode} === 'Properties'}",editable:D.editable===false?false:"{= ${"+p+"_dt/_editable} !== false}",type:"Number",change:e};d1=t(d1,c1);b1=new I(d1);break;case"number":d1={value:{path:p+n,type:"sap.ui.model.type.Float",formatOptions:Z.formatter},visible:"{= ${/editMode} === 'Properties'}",editable:D.editable===false?false:"{= ${"+p+"_dt/_editable} !== false}",type:"Number",change:e};d1=t(d1,c1);b1=new I(d1);break;case"object":d1={value:{path:p+n,formatter:function(f1){if(!f1||f1===""){return undefined;}f1=JSON.stringify(f1,null,"\t");if(typeof f1==="object"&&!f1.length){f1=f1.replace(/\"\$\$([a-zA-Z]*)\$\$\"/g,function(s){return s.substring(3,s.length-3);});}return f1;}},visible:"{= ${/editMode} === 'Properties'}",editable:D.editable===false?false:"{= ${"+p+"_dt/_editable} !== false}",change:e,rows:3};d1=t(d1,c1);b1=new a(d1);break;default:var e1=new J({translatable:Z.translatable||false,uuidPath:p+"_dt/_uuid",property:n});d1={value:"{"+p+n+"}",visible:"{= ${/editMode} === 'Properties'}",editable:D.editable===false?false:"{= ${"+p+"_dt/_editable} !== false}",change:function(s){var f1=s.getSource();var g1=s.getParameter("value");if(g1&&g1.match(R)){var h1=g1.substring(2,g1.length-2);g1="{i18n>"+h1+"}";f1.setValue(g1);f1.fireChange();}else if(e){e(s);}}};d1=t(d1,c1);if(i){d1.valueHelpIconSrc="sap-icon://translate";d1.valueHelpRequest=i.bind(A,n);if(Z.translatable){d1.showValueHelp=true;}else{d1.showValueHelp={path:p+n,formatter:function(s){var d1=this.getModel("settings").getData();var f1=this.getModel().getProperty(d1.uuidPath);var g1="translatable";if(A.getTranslationKey(s)){if(!this.getShowValueHelp()&&A.getObjectPropertyConfigValueInDesigntime(f1,d1.property,g1)===false){A.setObjectPropertyConfigValueInDesigntime(f1,d1.property,g1,true);}return true;}if(this.getShowValueHelp()){A.deleteTranslationValueInTexts(undefined,f1,d1.property);A.setObjectPropertyConfigValueInDesigntime(f1,d1.property,g1,false);A._oUpdatedTranslations={};}return false;}};}}b1=new I(d1);b1.setModel(e1,"settings");}G.push(b1);}return G;};
z.prototype.saveValue=function(e,i,m){var n=this;var p;if(!m){n.setValue(e);p=n.getAggregation("_field").getModel();if(p){e=o(e,500);p.setProperty("/value",e||{});}i.setValueState("None");i.setValueStateText("");if(n.getConfiguration()._propertiesParsedFromValue){n.refreshSimpleForm();}}else{p=i.getModel();p.setProperty("/value",e);i.setValueState("None");i.setValueStateText("");}};
z.prototype.refreshSimpleForm=function(){var e=this;var i=e.getConfiguration();var m=e.getAggregation("_field");var n=m.removeAllContent().slice(-2);delete i.properties;e.parseValueProperties();var p=function(){var A=m.getModel();A.checkUpdate(true);var D=A.getProperty("/value");D=o(D,500);e.setValue(D);};var s=e.createPropertyContents(p,"/value/");s=s.concat(n);s.forEach(function(A){m.addContent(A);});};
z.prototype.getOriginTranslatedValues=function(K){var e=[];var i=E.getInstance();for(var p in i){var m=i[p];var s="";var n="";if(K&&m){var A=m.resourceBundle&&m.resourceBundle.getText(K);s=A;n=A;}else{s="";n="";}var D={"key":p,"desription":m.language,"value":s,"originValue":n,"editable":true};e.push(D);}return e;};
z.prototype.buildPropertyTranslationValues=function(K){var e=[];var i=E.getInstance();for(var p in i){e.push({"key":p,"desription":i[p].language,"value":K,"originValue":K,"editable":true});}return e;};
z.prototype.openObjectDetailsPopover=function(i,e,m){var n=this;var p=n.getResourceBundle();var s=o(i,500);var A;var D=m==="add"&&n.getPreviewPosition()!=="right"?"Left":"Right";if(!n._oObjectDetailsPopover){var G=new d({text:p.getText("EDITOR_FIELD_OBJECT_DETAILS_POPOVER_BUTTON_ADD"),visible:m==="add",enabled:{path:'/value',formatter:function(c1){if(typeof c1!=="object"||h(c1,{})){return false;}else{var d1=o(c1);delete d1._dt;if(h(d1,{})){return false;}}return true;}},press:n.onAdd.bind(n)});var H=new d({text:p.getText("EDITOR_FIELD_OBJECT_DETAILS_POPOVER_BUTTON_UPDATE"),visible:m==="update",enabled:{path:'/value',formatter:function(c1){if(!c1||c1===""||h(c1,{})){return false;}return true;}},press:n.onUpdate.bind(n)});var K=new d({text:p.getText("EDITOR_FIELD_OBJECT_DETAILS_POPOVER_BUTTON_CANCEL"),visible:m!=="view",press:function(){if(m==="add"){var c1=n._oObjectDetailsPopover.getModel().getProperty("/value");n.deleteTranslationValueInTexts(undefined,c1._dt._uuid);}n._oObjectDetailsPopover.close();}});var Q=new d({text:p.getText("EDITOR_FIELD_OBJECT_DETAILS_POPOVER_BUTTON_CLOSE"),visible:m==="view",press:function(){n._oObjectDetailsPopover.close();}});var W=new d({icon:{path:'/editMode',formatter:function(c1){if(c1==="Properties"){return"sap-icon://syntax";}else{return"sap-icon://form";}}},tooltip:{path:'/editMode',formatter:function(c1){if(c1==="Properties"){return p.getText("EDITOR_FIELD_OBJECT_FORM_EDITMODE_JSON");}else{return p.getText("EDITOR_FIELD_OBJECT_FORM_EDITMODE_PROPERTIES");}}},press:function(c1){var e=c1.getSource();var A=e.getModel();var d1=A.getProperty("/editMode");if(d1==="Properties"){A.setProperty("/editMode","Json");}else{A.setProperty("/editMode","Properties");}}});var X;n._oNavContainer=new N();n._oObjectDetailsPage=new P({title:p.getText("EDITOR_FIELD_OBJECT_DETAILS_POPOVER_TITLE"),headerContent:W,footer:new O({content:[new c(),G,H,K,Q]})});var Y=function(c1){n._oNavContainer.back();n._oObjectDetailsPage.focus();};var Z=n.buildTranslationsList();var $=n.buildTranslationsFooter(Z,false);n._oTranslationListPage=new P({title:p.getText("EDITOR_FIELD_OBJECT_TRANSLATION_LIST_TITLE","{languages>/property}"),showNavButton:true,navButtonPress:Y,content:Z,footer:$});var _=function(c1){var A=n._oObjectDetailsPopover.getModel();A.checkUpdate(true);var d1=A.getProperty("/value");if(d1&&d1!==""&&typeof d1==="object"&&!h(d1,{})){G.setEnabled(true);}else{G.setEnabled(false);}};var a1=function(){};if(i._dt&&i._dt._editable===false){X=n.createFormContents(a1,"/value/",true,n.navToTranslationPage);}else{X=n.createFormContents(_,"/value/",true,n.navToTranslationPage);}var b1=new r({layout:"ResponsiveGridLayout",labelSpanXL:4,labelSpanL:4,labelSpanM:4,labelSpanS:12,emptySpanXL:1,emptySpanL:1,emptySpanM:1,emptySpanS:0,columnsXL:1,columnsL:1,columnsM:1,content:X});n._oObjectDetailsPage.addContent(b1);n._oNavContainer.addPage(n._oObjectDetailsPage);n._oNavContainer.addPage(n._oTranslationListPage);n._oObjectDetailsPopover=new b({placement:D,showHeader:false,contentWidth:"300px",contentHeight:"345px",modal:true,content:n._oNavContainer}).addStyleClass("sapUiIntegrationEditorItemObjectFieldDetailsPopover");A=new J({"value":s,"editMode":"Properties"});n._oObjectDetailsPopover.setModel(A);n._oObjectDetailsPopover.setModel(n.getModel("i18n"),"i18n");n._oObjectDetailsPopover._oAddButton=G;n._oObjectDetailsPopover._oUpdateButton=H;n._oObjectDetailsPopover._oCancelButton=K;n._oObjectDetailsPopover._oCloseButton=Q;n._oObjectDetailsPopover._openBy=e;}else{A=n._oObjectDetailsPopover.getModel();A.setProperty("/value",s);A.checkUpdate(true);if(m==="add"){n._oObjectDetailsPopover._oAddButton.setVisible(true);n._oObjectDetailsPopover._oUpdateButton.setVisible(false);n._oObjectDetailsPopover._oCancelButton.setVisible(true);n._oObjectDetailsPopover._oCloseButton.setVisible(false);}else if(m==="update"){n._oObjectDetailsPopover._oAddButton.setVisible(false);n._oObjectDetailsPopover._oUpdateButton.setVisible(true);n._oObjectDetailsPopover._oCancelButton.setVisible(true);n._oObjectDetailsPopover._oCloseButton.setVisible(false);}else{n._oObjectDetailsPopover._oAddButton.setVisible(false);n._oObjectDetailsPopover._oUpdateButton.setVisible(false);n._oObjectDetailsPopover._oCancelButton.setVisible(false);n._oObjectDetailsPopover._oCloseButton.setVisible(true);}n._oObjectDetailsPopover._openBy=e;n._oObjectDetailsPopover.setPlacement(D);n._oNavContainer.back();}n._oObjectDetailsPopover.openBy(e);};
z.prototype.buildTranslationsData=function(K,s,e,p){var i=this;var m=i.getResourceBundle();i._oOriginTranslatedValues=i._oOriginTranslatedValues||{};i._oUpdatedTranslations=i._oUpdatedTranslations||{};var n=e+"_"+p;var A=K;if(s==="key"){if(!i._oOriginTranslatedValues[K]){i._oOriginTranslatedValues[K]=i.getOriginTranslatedValues(K);}}else if(s==="property"){A=n;i._oOriginTranslatedValues[A]=i.buildPropertyTranslationValues(K);}var D=[];i._oOriginTranslatedValues[A].forEach(function(H){var Q=o(H,500);Q.status=m.getText("EDITOR_FIELD_TRANSLATION_LIST_POPOVER_LISTITEM_GROUP_NOTUPDATED");var W=i.getTranslationValueInTexts(Q.key,e,p);if(W){Q.value=W;if(y(i._oUpdatedTranslations[A],Q.key)){Q.value=i.getTranslationValueInTexts(Q.key,e,p);Q.status=m.getText("EDITOR_FIELD_TRANSLATION_LIST_POPOVER_LISTITEM_GROUP_UPDATED");}else{Q.originValue=Q.value;}}if(Q.key===m.sLocale.replaceAll('_','-')){Q.desription+=" ("+m.getText("EDITOR_FIELD_TRANSLATION_LIST_POPOVER_CURRENTLANGUAGE")+")";D.unshift(Q);}else{D.push(Q);}});var G={"isUpdated":false,"key":K,"translationKey":A,"translationType":s,"uuid":e,"property":p,"translatedLanguages":D};return G;};
z.prototype.getTranslationKey=function(s){var K;if(s&&s.match(R)){K=s.substring(2,s.length-2);}else if(s&&s.startsWith("{i18n>")&&s.endsWith('}')){K=s.substring(6,s.length-1);}return K;};
z.prototype.buildTranslationsModel=function(e){var i=this;var m=i.getResourceBundle();var n=new J(e);n.attachPropertyChange(function(p){var D=n.getData();var s=m.getText("EDITOR_FIELD_TRANSLATION_LIST_POPOVER_LISTITEM_GROUP_UPDATED");var A=m.getText("EDITOR_FIELD_TRANSLATION_LIST_POPOVER_LISTITEM_GROUP_NOTUPDATED");var G=false;D.translatedLanguages.forEach(function(H){if(H.value!==H.originValue){H.status=s;G=true;}else{H.status=A;}});D.isUpdated=G;n.setData(D);n.checkUpdate(true);});return n;};
z.prototype.buildTranslationsList=function(){return new u({items:{path:"languages>/translatedLanguages",template:new v({content:[new V({items:[new T({text:"{languages>desription}"}),new I({value:"{languages>value}",editable:"{languages>editable}"})]})],customData:[new x({key:"{languages>key}",value:"{languages>desription}"})]}),sorter:[new w({path:'status',descending:true,group:true})]}});};
z.prototype.buildTranslationsFooter=function(e,i){var m=this;var n=m.getResourceBundle();var s=n.sLocale.replaceAll('_','-');var p=new d({type:"Emphasized",text:n.getText("EDITOR_FIELD_TRANSLATION_LIST_POPOVER_BUTTON_SAVE"),enabled:"{languages>/isUpdated}",press:function(){var G=e.getModel("languages");var H=G.getData();var K=[];var Q=H.key;var W=H.translationKey;var X=H.translationType;var Y=H.uuid;var Z=H.property;H.translatedLanguages.forEach(function(_){if(_.value!==_.originValue){m.setTranslationValueInTexts(_.key,Y,Z,_.value);K.push(_.key);}});var $=false;if(K.length>0){m._oUpdatedTranslations=m._oUpdatedTranslations||{};m._oUpdatedTranslations[W]=K;if(y(K,s)){$=true;}}H=m.buildTranslationsData(Q,X,Y,Z);G.setData(H);G.checkUpdate(true);if(m.getModel()){m.getModel().checkUpdate(true);}if($&&m._oValueBinding){m._oValueBinding.fireEvent("change");}}});var A=new d({text:n.getText("EDITOR_FIELD_OBJECT_DETAILS_POPOVER_BUTTON_RESET"),enabled:"{languages>/isUpdated}",press:function(G){var H=e.getModel("languages");var K=H.getData();K.translatedLanguages.forEach(function(Q){Q.value=Q.originValue;Q.status=n.getText("EDITOR_FIELD_TRANSLATION_LIST_POPOVER_LISTITEM_GROUP_NOTUPDATED");});K.isUpdated=false;H.setData(K);H.checkUpdate(true);}});var D=new d({text:n.getText("EDITOR_FIELD_TRANSLATION_LIST_POPOVER_BUTTON_CANCEL"),visible:i,press:function(){m._oTranslationPopover.close();}});return new O({content:[new c(),p,A,D]});};
z.prototype.openTranslationPopup=function(p,e){var i=this;var m=e.getSource();var n=i.getResourceBundle();var s=m.getModel().getProperty("/value");if(!s._dt){s._dt={_uuid:U.generateUuidV4()};}else if(!s._dt._uuid){s._dt._uuid=U.generateUuidV4();}var A=m.getValue();var K=i.getTranslationKey(A);var D="property";if(K&&K!==""){D="key";}else{K=A;}var G=i.buildTranslationsData(K,D,s._dt._uuid,p);var H;if(!i._oTranslationPopover){var Q=i.buildTranslationsList();var W=i.buildTranslationsFooter(Q,true);var X=i.getPreviewPosition()==="right"?"Right":"Left";i._oTranslationPopover=new b({placement:X,contentWidth:"300px",contentHeight:"345px",title:n.getText("EDITOR_FIELD_OBJECT_TRANSLATION_LIST_TITLE","{languages>/property}"),content:Q,footer:W}).addStyleClass("sapUiIntegrationFieldTranslation");H=i.buildTranslationsModel(G);i._oTranslationPopover.setModel(H,"languages");}else{H=i._oTranslationPopover.getModel("languages");H.setData(G);H.checkUpdate(true);}i._oTranslationPopover.openBy(m._oValueHelpIcon);};
z.prototype.navToTranslationPage=function(p,e){var i=this;var n=i._oObjectDetailsPopover.getModel().getProperty("/value");var s=n[p];var K=i.getTranslationKey(s);var m="property";if(K&&K!==""){m="key";}else{K=s;}var A=i.buildTranslationsData(K,m,n._dt._uuid,p);var D=i._oTranslationListPage.getModel("languages");if(!D){D=i.buildTranslationsModel(A);i._oTranslationListPage.setModel(D,"languages");}else{D.setData(A);}i._oNavContainer.to(i._oTranslationListPage);i._oTranslationListPage.focus();};
z.prototype.onAdd=function(e){var i=this;var m=i.getAggregation("_field");var n=m.getModel();var p=i._oObjectDetailsPopover.getModel().getProperty("/value");var s=m.getBinding("rows").getPath();var D=n.getProperty(s);D.forEach(function(A){if(A._dt._selected){A._dt._selected=false;}});D.push(p);n.setProperty("/_hasSelected",true);n.setProperty("/_hasTableAllSelected",false);n.setProperty("/_hasTableSelected",false);n.setProperty("/_hasOnlyOneRowSelected",false);n.checkUpdate();i.refreshValue();i.updateTable();i._oObjectDetailsPopover.close();};
z.prototype.onUpdate=function(e){var i=this;var m=i.getAggregation("_field");var n=i._oObjectDetailsPopover.getModel().getProperty("/value");var p=m.getModel();var s=i._oObjectDetailsPopover._openBy.getParent();var A=s.getIndex();var D=m.getBinding("rows").getContexts();var G=D[A].getPath();p.setProperty(G,o(n,500));p.checkUpdate();if(n._dt&&n._dt._selected){i.refreshValue();}i.updateTable();i._oObjectDetailsPopover.close();};
z.prototype.onDelete=function(e){var m=this;var n=m.getAggregation("_field");var p=m.getResourceBundle();var s=n.getSelectedIndices();var A=[];var D=n.getBinding("rows").getContexts();s.forEach(function(i){var G=D[i].getObject();if(G._dt&&G._dt._editable!==false){var H=D[i].getPath();var K=H.substring(H.lastIndexOf("/")+1);A.push(K);}});if(A.length===0){M.error(p.getText("EDITOR_FIELD_OBJECT_DELETE_ERROR_MSG"));return;}M.confirm(p.getText("EDITOR_FIELD_OBJECT_DELETE_CONFIRM_MSG"),{title:p.getText("EDITOR_FIELD_OBJECT_DELETE_CONFIRM_TITLE"),onClose:function(G){if(G===M.Action.OK){var H=n.getBindingContext().getPath();var K=n.getModel();var Q=K.getProperty(H);var W=[];for(var i=0;i<Q.length;i++){if(y(A,i+"")){m.deleteTranslationValueInTexts(undefined,Q[i]._dt._uuid);}else{W.push(Q[i]);}}K.setProperty(H,W);K.checkUpdate(true);m.refreshValue();m.updateTable();}else{l.show(p.getText("EDITOR_FIELD_OBJECT_DELETE_CONFIRM_CANCLE"));}}});};
z.prototype.refreshValue=function(){var e=this;var m=e.getAggregation("_field");var n=m.getModel();var p=m.getBinding("rows").getPath();var D=n.getProperty(p);var s;for(var i=0;i<D.length;i++){var A=D[i];if(A._dt._selected){s=o(A);break;}}e.setValue(s);};
z.prototype.clearAllFilters=function(e){var m=this;var n=m.getAggregation("_field");var p=n.getColumns();for(var i=0;i<p.length;i++){var s=p[i];if(i<p.length-1){s._applySelection=false;}n.filter(s,undefined);}};
z.prototype.setValue=function(e){var i=this;i.cleanDT(e);i._setCurrentProperty("value",e);};
z.prototype.cleanDT=function(e){if(e&&e._dt&&e._dt._selected){delete e._dt._selected;}if(e&&e._dt&&h(e._dt,{})){delete e._dt;}};
z.prototype.getTranslationValueInTexts=function(s,e,p){var i=this;var m=i.getConfiguration();var n="/texts/"+s;var A=this._settingsModel.getProperty(n)||{};var D=A[m.manifestpath];var G;if(D&&D[e]){G=D[e][p];}return G;};
z.prototype.setObjectPropertyConfigValueInDesigntime=function(s,p,e,i){var m=this;var n=m.getConfiguration();var D="/:designtime";var A=this._settingsModel.getData();if(!A){return;}var G;if(!A.hasOwnProperty(":designtime")){G={};}else{G=o(A[":designtime"],500);}if(!G.hasOwnProperty(n.manifestpath)){G[n.manifestpath]={};}if(!G[n.manifestpath].hasOwnProperty(s)){G[n.manifestpath][s]={};}if(!G[n.manifestpath][s].hasOwnProperty(p)){G[n.manifestpath][s][p]={};}G[n.manifestpath][s][p][e]=i;this._settingsModel.setProperty(D,G);};
z.prototype.getObjectPropertyConfigValueInDesigntime=function(s,p,e){var i=this;var m;var n=i.getConfiguration();var D=this._settingsModel.getData();if(D&&D[":designtime"]&&D[":designtime"][n.manifestpath]&&D[":designtime"][n.manifestpath][s]&&D[":designtime"][n.manifestpath][s][p]&&D[":designtime"][n.manifestpath][s][p].hasOwnProperty(e)){m=D[":designtime"][n.manifestpath][s][p][e];}return m;};
z.prototype.setTranslationValueInTexts=function(s,e,p,i){var m=this;var n=m.getConfiguration();var A="/texts";var D=this._settingsModel.getData();if(!D){return;}var G;if(!D.hasOwnProperty("texts")){G={};}else{G=o(D.texts,500);}if(!G.hasOwnProperty(s)){G[s]={};}if(!G[s].hasOwnProperty(n.manifestpath)){G[s][n.manifestpath]={};}if(!G[s][n.manifestpath].hasOwnProperty(e)){G[s][n.manifestpath][e]={};}G[s][n.manifestpath][e][p]=i;this._settingsModel.setProperty(A,G);};
z.prototype.deleteTranslationValueInTexts=function(s,e,p){var i=this;var D=i._settingsModel.getData();if(!D||!D.texts||!e){return;}var m=i.getConfiguration();var A="/texts";var G=o(D.texts,500);if(s){if(G[s]&&G[s][m.manifestpath]&&G[s][m.manifestpath][e]){if(p){if(G[s][m.manifestpath][e].hasOwnProperty(p)){delete G[s][m.manifestpath][e][p];if(h(G[s][m.manifestpath][e],{})){delete G[s][m.manifestpath][e];}this._settingsModel.setProperty(A,G);}}else{delete G[s][m.manifestpath][e];if(h(G[s][m.manifestpath],{})){delete G[s][m.manifestpath];if(h(G[s],{})){delete G[s];}}this._settingsModel.setProperty(A,G);}}}else{for(var n in G){i.deleteTranslationValueInTexts(n,e,p);}}};
return z;});
sap.ui.predefine('sap/ui/integration/editor/fields/ObjectListField',["sap/ui/integration/editor/fields/ObjectField","sap/ui/model/json/JSONModel","sap/ui/table/Table","sap/m/CheckBox","sap/base/util/deepEqual","sap/base/util/deepClone","sap/ui/integration/util/Utils"],function(O,J,T,C,d,a,U){"use strict";
var b=O.extend("sap.ui.integration.editor.fields.ObjectListField",{
metadata:{library:"sap.ui.integration"},
renderer:O.getMetadata().getRenderer()
});
b.prototype.initVisualization=function(c){var t=this;t._positionCount=1;t._newObjectTemplate={"_dt":{"_selected":true,"_uuid":""}};var v=c.visualization;if(!v){if(c.value&&!c.properties&&(!c.values||(c.values&&!c.values.metadata))){t.parseValueProperties();}if(c.values||c.properties){v=t.createTableVisualization(c);}else{v=t.createTextAreaVisualization(c);}c.withLabel=true;}this._visualization=v;this.attachAfterInit(this._afterInit);};
b.prototype._afterInit=function(){var t=this;var c=t.getAggregation("_field");if(c instanceof T){c.addStyleClass("sapUiIntegrationEditorItemObjectListFieldTable");var o=t.getConfiguration();if(!o.values){var v=[];if(Array.isArray(o.value)){v=a(o.value,500);v.forEach(function(i){i._dt=i._dt||{};i._dt._selected=true;i._dt._uuid=i._dt._uuid||U.generateUuidV4();i._dt._position=t._positionCount;t._positionCount++;});}t.setModel(new J({value:v,_allSelected:true}));t.bindObject({path:"/value"});}}};
b.prototype.parseValueProperties=function(){var t=this;var c=t.getConfiguration();if(Array.isArray(c.value)&&c.value.length>0&&!c.properties){var p={};c.value.forEach(function(o){for(var n in o){if(!p[n]&&n!=="_dt"){var s=typeof o[n];var P=s==="string"?{}:{"type":s};p[n]=P;}}});if(!d(p,{})){c.properties=p;c._propertiesParsedFromValue=true;}}};
b.prototype.buildSelectionColumnLables=function(){var t=this;var c=t.getConfiguration();var r=t.getResourceBundle();return new C({selected:"{/_allSelected}",visible:typeof c.values!=="undefined",tooltip:{path:'/_allSelected',formatter:function(A){if(!A){return r.getText("EDITOR_FIELD_OBJECT_LIST_TABLE_COLUMN_SELECTION_TOOLTIP_ADDALL");}else{return r.getText("EDITOR_FIELD_OBJECT_LIST_TABLE_COLUMN_SELECTION_TOOLTIP_REMOVEALL");}}},select:t.onSelectionColumnClick.bind(t)});};
b.prototype.addNewObject=function(e){var t=this;var c=e.getSource();t._newObjectTemplate._dt._uuid=U.generateUuidV4();t.openObjectDetailsPopover(t._newObjectTemplate,c,"add");};
b.prototype.onSelectionColumnClick=function(e){var t=this;var i=e.getParameter("selected");var o=t.getAggregation("_field");var r=o.getBinding("rows").getContexts();r.forEach(function(R){var I=R.getObject();I._dt=I._dt||{};I._dt._selected=i;});var m=o.getModel();var p=o.getBinding("rows").getPath();var D=m.getProperty(p);var v;D.forEach(function(c){if(c._dt&&c._dt._selected){var f=a(c,500);v=v||[];v.push(f);}});m.checkUpdate(true);t.setValue(v);};
b.prototype.updateSelectionColumn=function(){var t=this;var o=t.getAggregation("_field");var r=o.getBinding("rows").getContexts();var A=true;if(r.length===0){A=false;}else{for(var i=0;i<r.length;i++){var c=r[i].getObject();if(!c._dt||c._dt._selected!==true){A=false;break;}}}o.getModel().setProperty("/_allSelected",A);};
b.prototype.onAdd=function(e){var t=this;var c=t.getAggregation("_field");var n=t._oObjectDetailsPopover.getModel().getProperty("/value");n._dt._position=t._positionCount;var p=c.getBinding("rows").getPath();var m=c.getModel();var D=m.getProperty(p);D.push(n);m.setProperty("/_hasTableAllSelected",false);m.setProperty("/_hasTableSelected",false);m.checkUpdate();t.refreshValue();t._oObjectDetailsPopover.close();t._positionCount++;};
b.prototype.refreshValue=function(){var t=this;var o=t.getAggregation("_field");var m=o.getModel();var p=o.getBinding("rows").getPath();var D=m.getProperty(p);var v=[];D.forEach(function(i){if(i._dt._selected){var c=a(i);v.push(c);}});t.setValue(v);};
b.prototype.onSelectionChange=function(e){var t=this;var s=e.getParameter("selected");var v=this._getCurrentProperty("value");var o=t.getAggregation("_field");var m=o.getModel();if(s||v.length>1){t.refreshValue();t.updateSelectionColumn();}else{m.setProperty("/_allSelected",false);t.setValue(undefined);}};
b.prototype.mergeValueWithRequestResult=function(t){var c=this;var o=c.getConfiguration();var e=c.getAggregation("_field");var m=e.getModel();if(Array.isArray(o.value)&&o.value.length>0){var v=a(o.value,500),p=e.getBinding("rows").getPath();if(Array.isArray(t)&&t.length>0){c._positionCount=o.value.length+1;var u=[];v.forEach(function(f){var s;if(!f._dt){s=U.generateUuidV4();}else{s=f._dt._uuid||U.generateUuidV4();delete f._dt._uuid;delete f._dt._position;}u.push(s);});var n=[];for(var i=0;i<t.length;i++){var r=t[i];var I=false;for(var j=0;j<v.length;j++){if(d(r,v[j])){I=true;break;}}if(!I){r._dt._uuid=U.generateUuidV4();r._dt._position=c._positionCount;c._positionCount++;n.push(r);}}for(var k=0;k<v.length;k++){var V=v[k];V._dt=V._dt||{};V._dt._selected=true;V._dt._uuid=u[k];V._dt._position=k+1;}if(n.length>0){m.setProperty("/_allSelected",false);v=v.concat(n);}else{m.setProperty("/_allSelected",true);}}else{v.forEach(function(f){f._dt=f._dt||{};f._dt._selected=true;f._dt._uuid=f._dt._uuid||U.generateUuidV4();f._dt._position=c._positionCount;c._positionCount++;});m.setProperty("/_allSelected",true);}m.setProperty(p,v);}else{if(Array.isArray(t)&&t.length>0){t.forEach(function(R){R._dt._uuid=U.generateUuidV4();R._dt._position=c._positionCount;c._positionCount++;});}m.setProperty("/_allSelected",false);}m.checkUpdate();c.updateTable();};
b.prototype.onChangeOfTextArea=function(E){var t=this;var r=t.getResourceBundle();var o=E.getSource();var v=o.getValue();if(!v||v===""){t.saveValue(undefined,o);}else{try{var V=JSON.parse(v);if(!(V instanceof Array)){o.setValueState("Error");o.setValueStateText(r.getText("EDITOR_VAL_NOT_AN_ARRAY_OF_JSONOBJECTS"));return;}t.saveValue(V,o);}catch(e){o.setValueState("Error");o.setValueStateText(r.getText("EDITOR_VAL_NOT_A_JSONOBJECT"));}}};
b.prototype.saveValue=function(v,t,i){var c=this;var V;if(!i){c.setValue(v);}else{V=t.getModel();V.setProperty("/value",v);}t.setValueState("None");t.setValueStateText("");};
b.prototype.cleanDT=function(v){if(v){v.forEach(function(i){if(i&&i._dt&&i._dt._selected){delete i._dt._selected;}if(i&&i._dt&&d(i._dt,{})){delete i._dt;}});}};
return b;});
sap.ui.predefine('sap/ui/integration/editor/fields/StringField',["sap/ui/integration/editor/fields/BaseField","sap/m/Input","sap/m/Text","sap/m/Title","sap/m/Select","sap/m/ComboBox","sap/m/Popover","sap/m/Button","sap/m/OverflowToolbar","sap/m/ToolbarSpacer","sap/ui/core/ListItem","sap/m/List","sap/m/CustomListItem","sap/m/VBox","sap/base/util/each","sap/base/util/restricted/_debounce","sap/ui/core/Core","sap/ui/model/json/JSONModel","sap/ui/integration/editor/EditorResourceBundles","sap/base/util/deepClone","sap/ui/model/Sorter",'sap/m/GroupHeaderListItem',"sap/base/util/includes","sap/ui/core/CustomData"],function(B,I,T,a,S,C,P,b,O,c,L,d,e,V,f,_,g,J,E,h,j,G,k,l){"use strict";var R=/parameters\.([^\}\}]+)/g;var s=["TODAY_ISO","NOW_ISO","LOCALE"];
var m=B.extend("sap.ui.integration.editor.fields.StringField",{
metadata:{library:"sap.ui.integration"},
renderer:B.getMetadata().getRenderer()
});
m.prototype.initVisualization=function(o){var v=o.visualization;if(!v){var r=o.value?o.value.match(R):undefined;var p,n,q;if(r&&r.length>0){r=r.filter(function(i){var u=i.substring(11);return!k(s,u);});}if(r&&r.length>0){p=r.map(function(i){if(this.isOrigLangField){return"items>"+i.substring(11)+"/_language/value";}return"items>"+i.substring(11)+"/value";}.bind(this));p.unshift("currentSettings>value");n={parts:p,formatter:function(u){var A=Array.prototype.slice.call(arguments,1);for(var i=0;i<A.length;i++){if(A[i]){u=u.replaceAll("{{"+r[i]+"}}",A[i]);}}return u;}};q=function(i){var u=i.getSource().getValue();var w=this.getBindingContext("currentSettings").sPath;this._settingsModel.setProperty(w+"/value",u);var x=this._settingsModel.getBindings();var y=w.substring(w.lastIndexOf("/")+1);f(x,function(z,A){if(A.sPath==="/form/items/"+y+"/value"){A.checkUpdate(true);}});}.bind(this);}if(this.getMode()==="translation"){if(o.editable){v={type:I,settings:{value:{path:'currentSettings>value'},tooltip:{path:'currentSettings>value'},editable:o.editable,visible:o.visible,placeholder:o.placeholder}};}else{v={type:T,settings:{text:{path:'currentSettings>value'},tooltip:{path:'currentSettings>value'},visible:o.visible,wrapping:false}};}}else if(o.enum){var t=new L({key:{path:"currentSettings>"},text:{path:"currentSettings>"}});v={type:S,settings:{selectedKey:{path:'currentSettings>value'},forceSelection:false,editable:o.editable,visible:o.visible,showSecondaryValues:false,width:"100%",items:{path:"currentSettings>enum",template:t}}};}else if(o.values){var t=this.formatListItem(o.values.item);if(!o.values.item.key){o.values.item.key=o.values.item.text;}v={type:C,settings:{busy:{path:'currentSettings>_loading'},selectedKey:{path:'currentSettings>value'},editable:o.editable,visible:o.visible,showSecondaryValues:true,width:"100%",items:{path:"",template:t}}};if(this.isFilterBackend()){v.settings.selectedKey={parts:['currentSettings>value','currentSettings>suggestValue'],formatter:function(i,u){if((!i||i==="")&&u){return u.replaceAll('\'\'',"'");}else{return i;}}};}}else if(this.getMode()!=="translation"&&o.translatable){v={type:I,settings:{value:{path:'currentSettings>value'},tooltip:{path:'currentSettings>value'},editable:o.editable,visible:o.visible,placeholder:o.placeholder,valueHelpIconSrc:"sap-icon://translate",showValueHelp:true,valueHelpRequest:this.openTranslationListPopup,change:function(i){var u=i.getSource();var w=u.getValue();var x=g.getConfiguration().getLanguage().replaceAll('_','-');u.getParent().setTranslationValueInTexts(x,o.manifestpath,w);}}};if(p){delete v.settings.tooltip;v.settings.value=n;v.settings.change=q;v.settings.showValueHelp=false;delete v.settings.valueHelpRequest;}}else{v={type:I,settings:{value:{path:'currentSettings>value'},tooltip:{path:'currentSettings>value'},editable:o.editable,visible:o.visible,placeholder:o.placeholder}};if(p){delete v.settings.tooltip;v.settings.value=n;v.settings.change=q;}}}else if(v.type==="TextArea"){v.type="sap/m/TextArea";}this._visualization=v;this.attachAfterInit(this._afterInit);};
m.prototype._afterInit=function(){var o=this.getAggregation("_field");if(o instanceof C){if(this.isFilterBackend()){this.onInput=_(this.onInput,500);o.oninput=this.onInput.bind(this);o.attachSelectionChange(this.onSelectionChange.bind(this));}}};
m.prototype.onSelectionChange=function(o){var i=o.getParameter("selectedItem")||{};var K=i.getKey();var n=this.getBindingContext("currentSettings").sPath;this._settingsModel.setProperty(n+"/value",K);};
m.prototype.onInput=function(o){var t=o.target.value;var i=this.getBindingContext("currentSettings").sPath;this._settingsModel.setProperty(i+"/suggestValue",t.replaceAll("'","\'\'"));this._settingsModel.setProperty(i+"/_loading",true);this._settingsModel.setProperty(i+"/value","");var n=this._settingsModel.getBindings();var p=i.substring(i.lastIndexOf("/")+1);f(n,function(r,u){if(u.sPath==="/form/items/"+p+"/value"){u.checkUpdate(true);}});var q=o.srcControl;q.open();q.setValue(t);q.setSelection(null);};
m.prototype.getOriginTranslatedValues=function(o){var i=[];var n=E.getInstance();var K;if(o._translatedDefaultPlaceholder&&o._translatedDefaultPlaceholder.startsWith("{i18n>")&&o._translatedDefaultPlaceholder.endsWith("}")){K=o._translatedDefaultPlaceholder.substring(6,o._translatedDefaultPlaceholder.length-1);}else if(o._translatedDefaultPlaceholder&&o._translatedDefaultPlaceholder.startsWith("{{")&&o._translatedDefaultPlaceholder.endsWith("}}")){K=o._translatedDefaultPlaceholder.substring(2,o._translatedDefaultPlaceholder.length-2);}for(var p in n){var r=n[p];var t="";var q="";if(K&&r){var u=r.resourceBundle&&r.resourceBundle.getText(K,[],true);if(u!==undefined){t=u;q=u;}else{t=o._translatedValue||"";q=o._translatedValue||"";}}else{t=o._translatedDefaultPlaceholder||"";q=o._translatedDefaultPlaceholder||"";}var v={"key":p,"desription":r.language,"value":t,"originValue":q,"editable":true};i.push(v);}return i;};
m.prototype.getTranslationValueInTexts=function(i,M){var t="/texts/"+i;var p=this._settingsModel.getProperty(t)||{};return p[M];};
m.prototype.setTranslationValueInTexts=function(i,M,v){var t="/texts";var D=this._settingsModel.getData();if(!D){return;}if(!D.hasOwnProperty("texts")){var o={};o[i]={};o[i][M]=v;this._settingsModel.setProperty(t,o);}else{t="/texts/"+i;var n;if(!D.texts.hasOwnProperty(i)){n={};}else{n=D.texts[i];}n[M]=v;this._settingsModel.setProperty(t,n);}};
m.prototype.openTranslationListPopup=function(o){var t=this;var i=o.getSource();var F=i.getParent();var n=F.getConfiguration();if(!t._aOriginTranslatedValues){t._aOriginTranslatedValues=F.getOriginTranslatedValues(n);}var p=h(t._aOriginTranslatedValues,500);var r=F.getResourceBundle();p.forEach(function(w){var x=F.getTranslationValueInTexts(w.key,n.manifestpath);if(x){w.value=x;if(!k(t._aUpdatedLanguages,w.key)){w.originValue=w.value;}}else if(n._beforeLayerChange){w.value=n._beforeLayerChange;if(!k(t._aUpdatedLanguages,w.key)){w.originValue=w.value;}}w.status=r.getText("EDITOR_FIELD_TRANSLATION_LIST_POPOVER_LISTITEM_GROUP_NOTUPDATED");if(w.key===r.sLocale.replaceAll('_','-')){w.editable=false;}});var q={"currentLanguage":{},"isUpdated":false,"translatedLanguages":[]};var M;if(p){p.forEach(function(w){if(k(t._aUpdatedLanguages,w.key)){w.value=F.getTranslationValueInTexts(w.key,n.manifestpath);w.status=r.getText("EDITOR_FIELD_TRANSLATION_LIST_POPOVER_LISTITEM_GROUP_UPDATED");}if(w.key===r.sLocale.replaceAll('_','-')){w.value=i.getValue();q.currentLanguage=w;}else{q.translatedLanguages.push(w);}});}if(!t._oTranslationPopover){var u=new d({items:{path:"languages>/translatedLanguages",template:new e({content:[new V({items:[new T({text:"{languages>desription}"}),new I({value:"{languages>value}",editable:"{languages>editable}"})]})],customData:[new l({key:"{languages>key}",value:"{languages>desription}"})]}),sorter:[new j({path:'status',descending:true,group:true})],groupHeaderFactory:F.getGroupHeader}});var v=F.getPreviewPosition()==="right"?"Right":"Left";t._oTranslationPopover=new P({placement:v,contentWidth:"300px",contentHeight:"345px",customHeader:new V({items:[new a({text:r.getText("EDITOR_FIELD_TRANSLATION_LIST_POPOVER_TITLE")}).addStyleClass("sapMPopoverTitle"),new a({text:r.getText("EDITOR_FIELD_TRANSLATION_LIST_POPOVER_CURRENTLANGUAGE")}).addStyleClass("sapMHeaderTitle"),new V({items:[new T({text:"{languages>/currentLanguage/desription}"}),new I({value:"{languages>/currentLanguage/value}",editable:false})]}).addStyleClass("sapMCurrentLanguageVBox"),new a({text:r.getText("EDITOR_FIELD_TRANSLATION_LIST_POPOVER_OTHERLANGUAGES")}).addStyleClass("sapMHeaderTitle")]}),content:u,footer:new O({content:[new c(),new b({type:"Emphasized",text:r.getText("EDITOR_FIELD_TRANSLATION_LIST_POPOVER_BUTTON_SAVE"),enabled:"{languages>/isUpdated}",press:function(){var w=t._oTranslationPopover.getModel("languages").getData();var U=[];w.translatedLanguages.forEach(function(x){if(x.value!==x.originValue){F.setTranslationValueInTexts(x.key,n.manifestpath,x.value);U.push(x.key);}});if(w.currentLanguage.value!=w.currentLanguage.originValue){F.setTranslationValueInTexts(w.currentLanguage.key,n.manifestpath,w.currentLanguage.value);U.push(w.currentLanguage.key);}if(U.length>0){t._aUpdatedLanguages=U;}t._oTranslationPopover.close();}}),new b({text:r.getText("EDITOR_FIELD_TRANSLATION_LIST_POPOVER_BUTTON_CANCEL"),press:function(){t._oTranslationPopover.close();}})]})}).addStyleClass("sapUiIntegrationFieldTranslation");M=new J(q);M.attachPropertyChange(function(o){var D=M.getData();var U=r.getText("EDITOR_FIELD_TRANSLATION_LIST_POPOVER_LISTITEM_GROUP_UPDATED");var N=r.getText("EDITOR_FIELD_TRANSLATION_LIST_POPOVER_LISTITEM_GROUP_NOTUPDATED");var w=false;D.translatedLanguages.forEach(function(x){if(x.value!==x.originValue){x.status=U;w=true;}else{x.status=N;}});D.isUpdated=w;M.setData(D);M.checkUpdate(true);});t._oTranslationPopover.setModel(M,"languages");}else{M=t._oTranslationPopover.getModel("languages");M.setData(q);M.checkUpdate(true);}t._oTranslationPopover.openBy(i._oValueHelpIcon);};
m.prototype.getGroupHeader=function(o){return new G({title:o.key,upperCase:false});};
return m;});
sap.ui.predefine('sap/ui/integration/editor/fields/StringListField',["sap/ui/integration/editor/fields/BaseField","sap/m/Input","sap/m/MultiComboBox","sap/m/MultiInput","sap/base/util/restricted/_debounce","sap/base/util/restricted/_isEqual","sap/base/util/ObjectPath","sap/base/util/includes","sap/base/util/merge","sap/ui/core/SeparatorItem","sap/ui/model/Sorter","sap/m/Token","sap/m/Tokenizer","sap/base/util/deepClone","sap/ui/model/json/JSONModel","sap/ui/integration/util/BindingResolver"],function(B,I,M,b,_,c,O,i,m,S,d,T,e,f,J,g){"use strict";
var h=B.extend("sap.ui.integration.editor.fields.StringListField",{
metadata:{library:"sap.ui.integration"},
renderer:B.getMetadata().getRenderer()
});
h.prototype.initVisualization=function(C){var t=this,o;var v=C.visualization;if(!v){if(C.values){o=this.formatListItem(C.values.item);v={type:M,settings:{selectedKeys:{path:'currentSettings>value'},busy:{path:'currentSettings>_loading'},editable:C.editable,visible:C.visible,showSecondaryValues:true,width:"100%",items:{path:"",template:o,sorter:[new d({path:'Selected',descending:false,group:true})],groupHeaderFactory:t.getGroupHeader}}};if(this.isFilterBackend()){v.settings.selectedKeys={parts:['currentSettings>value','currentSettings>suggestValue'],formatter:function(V,a){if(a){t.setSuggestValue();}return V;}};}}else{v={type:I,settings:{value:{path:'currentSettings>value',formatter:function(a){a=a||[];return a.join(",");}},change:function(E){var a=E.getSource();a.getBinding("value").setRawValue(a.getValue().split(","));},editable:C.editable,visible:C.visible,placeholder:C.placeholder}};}}else if(C.values&&this.isFilterBackend()&&v.type==="MultiInput"){o=this.formatListItem(C.values.item);var s={busy:{path:'currentSettings>_loading'},placeholder:C.placeholder,editable:C.editable,visible:C.visible,showSuggestion:true,autocomplete:false,showValueHelp:false,filterSuggests:false,width:"100%",suggestionItems:{path:"",template:o,sorter:[new d({path:'Selected',descending:false,group:true})],groupHeaderFactory:t.getGroupHeader}};if(v.settings){s=m(s,v.settings);}v={type:b,settings:s};}this._visualization=v;this.attachAfterInit(this._afterInit);};
h.prototype._afterInit=function(){var C=this.getAggregation("_field");var o=this.getModel();if(C instanceof M){if(this.isFilterBackend()){this.onInputForMultiComboBox=_(this.onInputForMultiComboBox,500);C.oninput=this.onInputForMultiComboBox;C.attachSelectionChange(this.onSelectionChangeForFilterBackend);C.attachSelectionFinish(this.onSelectionFinishForFilterBackend);o.attachPropertyChange(this.onPropertyChangeForFilterBackend,this);}else{C.attachSelectionChange(this.onSelectionChange);o.attachPropertyChange(this.onPropertyChange,this);}}else if(C instanceof b){this.initTokens();this.onInputForMultiInput=_(this.onInputForMultiInput,500);C.oninput=this.onInputForMultiInput;o.attachPropertyChange(this.onPropertyChangeForFilterBackend,this);o.attachPropertyChange(this.initTokens,this);C.attachTokenChange(this.onTokenChange);}};
h.prototype.initTokens=function(){var C=this.getAggregation("_field");var o=this.getConfiguration();var t=[];if(Array.isArray(o.valueTokens)&&o.valueTokens.length>0){o.valueTokens.forEach(function(v){var a=new T(v);t.push(a);});}else if(Array.isArray(o.value)&&o.value.length>0&&Array.isArray(o.valueItems)&&o.valueItems.length>0){o.valueTokens=[];o.valueItems.forEach(function(v){var a=new J();a.setData(v);var k=g.resolveValue(o.values.item.key,a);if(i(o.value,k)){var s=g.resolveValue(o.values.item.text,a);var j={key:k,text:s};var l=new T(j);t.push(l);o.valueTokens.push(j);}});}C.setTokens(t);};
h.prototype.getKeyFromItem=function(o){var C=this.getConfiguration();var a=new J();a.setData(o);return g.resolveValue(C.values.item.key,a);};
h.prototype.onPropertyChangeForFilterBackend=function(E){var C=this.getConfiguration();if(!C.valueItems){C.valueItems=[];}var p=C.values.data.path||"/";var v=this.getModel();var D=v.getData();if(p!=="/"){if(p.startsWith("/")){p=p.substring(1);}if(p.endsWith("/")){p=p.substring(0,p.length-1);}var P=p.split("/");var r=O.get(P,D);r=this.mergeSelectedItems(C,r);O.set(P,r,D);}else{D=this.mergeSelectedItems(C,D);}v.setData(D);this.setSuggestValue();};
h.prototype.onPropertyChange=function(E){var C=this.getAggregation("_field");var s=C.getSelectedItems().map(function(j){return j.getKey();});var a=this.getBindingContext("currentSettings").sPath;var o=this.getModel("currentSettings");o.setProperty(a+"/value",s);};
h.prototype.mergeSelectedItems=function(C,D){var t=this;var r=t.getResourceBundle();if(Array.isArray(D)){var s=C.valueItems.map(function(l){return this.getKeyFromItem(l);}.bind(this));var o=D.filter(function(l){var p=this.getKeyFromItem(l);return!i(s,p);}.bind(this));var a=o.filter(function(l){return l.Selected===r.getText("EDITOR_ITEM_SELECTED");});C.valueItems=C.valueItems.concat(a);var n=o.filter(function(l){return l.Selected!==r.getText("EDITOR_ITEM_SELECTED");});D=C.valueItems.concat(n);var j=this.getAggregation("_field");if(j.isOpen&&j.isOpen()){s=C.valueItems.map(function(l){return this.getKeyFromItem(l);}.bind(this));var k=j.getSelectedKeys();if(!c(s,k)){j.setSelectedKeys(s);}}}else{D=C.valueItems;}return D;};
h.prototype.setSuggestValue=function(){var C=this.getAggregation("_field");var s=this.getBindingContext("currentSettings").sPath;var o=this.getModel("currentSettings");var a=o.getProperty(s+"/suggestValue");if(a&&a!==""){C.setValue(a.replaceAll("\'\'","'"));}};
h.prototype.getSuggestValue=function(){var s=this.getBindingContext("currentSettings").sPath;var o=this.getModel("currentSettings");return o.getProperty(s+"/suggestValue");};
h.prototype.getGroupHeader=function(G){return new S({text:G.key});};
h.prototype.onSelectionChangeForFilterBackend=function(E){var F=E.getSource().getParent();var C=F.getConfiguration();var r=F.getResourceBundle();var l=E.getParameter("changedItem");var s=l.getKey();var a=E.getParameter("selected");var D=this.getModel().getData();var p=C.values.data.path||"/";var P,o;if(p!=="/"){if(p.startsWith("/")){p=p.substring(1);}if(p.endsWith("/")){p=p.substring(0,p.length-1);}P=p.split("/");o=O.get(P,D);}else{o=D;}if(o){if(!C.valueItems){C.valueItems=[];}var n=[];o.forEach(function(j){var N=f(j,500);var k=F.getKeyFromItem(N);if(k===s){if(a){N.Selected=r.getText("EDITOR_ITEM_SELECTED");C.valueItems=C.valueItems.concat([N]);}else{N.Selected=r.getText("EDITOR_ITEM_UNSELECTED");C.valueItems=C.valueItems.filter(function(q){var k=F.getKeyFromItem(q);return k!==s;});}}n.push(N);});if(P!==undefined){O.set(P,n,D);this.getModel().checkUpdate(true);}else{this.getModel().setData(n);}}};
h.prototype.onTokenChange=function(E){var F=this.getParent();var C=F.getConfiguration();var r=F.getResourceBundle();var s=F.getModel("currentSettings");var a=F.getBindingContext("currentSettings").sPath;var v=s.getProperty(a+"/value");var t=E.getParameter("token");if(t){var j=t.getKey();if(!C.valueTokens){C.valueTokens=[];}if(!v){v=[];}var k=E.getParameter("type");switch(k){case e.TokenChangeType.Removed:v=v.filter(function(n){return n!==j;});C.value=v;C.valueTokens=C.valueTokens.filter(function(n){return n.key!==j;});break;case e.TokenChangeType.Added:if(!i(v,j)){v=v.concat([j]);C.value=v;}var l=C.valueTokens.map(function(V){return V.key;});if(!i(l,j)){C.valueTokens=C.valueTokens.concat([{"key":j,"text":t.getText()}]);}break;case e.TokenChangeType.RemovedAll:C.value=[];C.valueItems=[];C.valueTokens=[];break;default:break;}var D=F.getModel().getData();var R;var p=C.values.data.path||"/";var P;if(p!=="/"){if(p.startsWith("/")){p=p.substring(1);}if(p.endsWith("/")){p=p.substring(0,p.length-1);}P=p.split("/");R=f(O.get(P,D),10);}else{R=f(D,10);}if(Array.isArray(R)){C.valueItems=[];R.forEach(function(o){var j=F.getKeyFromItem(o);if(i(C.value,j)){o.Selected=r.getText("EDITOR_ITEM_SELECTED");C.valueItems.push(o);}else{o.Selected=r.getText("EDITOR_ITEM_UNSELECTED");}});if(p!=="/"){O.set(P,R,D);}else{D=R;}F.getModel().setData(D);F.getModel().checkUpdate(true);}s.setProperty(a+"/value",C.value);s.setProperty(a+"/valueItems",C.valueItems);s.setProperty(a+"/valueTokens",C.valueTokens);}};
h.prototype.onSelectionChange=function(E){var F=E.oSource.getParent();var C=F.getConfiguration();var r=F.getResourceBundle();var l=E.getParameter("changedItem");var s=l.getKey();var a=E.getParameter("selected");var D=this.getModel().getData();var p=C.values.data.path||"/";if(p!=="/"){if(p.startsWith("/")){p=p.substring(1);}if(p.endsWith("/")){p=p.substring(0,p.length-1);}var P=p.split("/");var R=O.get(P,D);if(Array.isArray(R)){for(var n in R){var j=F.getKeyFromItem(R[n]);if(j===s){if(a){R[n].Selected=r.getText("EDITOR_ITEM_SELECTED");}else{R[n].Selected=r.getText("EDITOR_ITEM_UNSELECTED");}}}O.set(P,R,D);}}else if(Array.isArray(D)){for(var n in D){var j=F.getKeyFromItem(D[n]);if(j===s){if(a){D[n].Selected=r.getText("EDITOR_ITEM_SELECTED");}else{D[n].Selected=r.getText("EDITOR_ITEM_UNSELECTED");}}}}this.getModel().setData(D);this.getModel().checkUpdate(true);};
h.prototype.onSelectionFinishForFilterBackend=function(E){var F=this.getParent();var C=F.getConfiguration();var s=E.getParameter("selectedItems").map(function(k){return k.getKey();});var D=this.getModel().getData();var p=C.values.data.path||"/";if(p!=="/"){if(p.startsWith("/")){p=p.substring(1);}if(p.endsWith("/")){p=p.substring(0,p.length-1);}var P=p.split("/");D=O.get(P,D);}if(D){C.valueItems=D.filter(function(k){var l=F.getKeyFromItem(k);return i(s,l);});}var a=this.getBindingContext("currentSettings").sPath;var o=this.getModel("currentSettings");o.setProperty(a+"/value",s);var j=F.getSuggestValue();if(j&&j!==""){o.setProperty(a+"/suggestValue","");}};
h.prototype.onInputForMultiComboBox=function(E){var t=E.target.value;var s=this.getBindingContext("currentSettings").sPath;var o=this.getModel("currentSettings");o.setProperty(s+"/suggestValue",t.replaceAll("'","\'\'"));o.setProperty(s+"/_loading",true);E.srcControl.open();E.srcControl._getSuggestionsPopover()._sTypedInValue=t;};
h.prototype.onInputForMultiInput=function(E){var C=E.srcControl;b.prototype.oninput.apply(C,arguments);var t=E.target.value;if(t===""){return;}var s=this.getBindingContext("currentSettings").sPath;var o=this.getModel("currentSettings");var a=o.getProperty(s+"/suggestValue");if(a!==t.replaceAll("'","\'\'")){o.setProperty(s+"/suggestValue",t.replaceAll("'","\'\'"));o.setProperty(s+"/_loading",true);}};
return h;});
sap.ui.predefine('sap/ui/integration/editor/fields/fragment/Controller',["sap/ui/core/mvc/Controller","sap/ui/core/Core"],function(F,C){"use strict";
var a=F.extend("sap.ui.integration.editor.fields.fragment.Controller",{});
a.prototype.init=function(){};
a.prototype.setField=function(f){this._oField=f;};
a.prototype.saveValue=function(v){var l=C.getConfiguration().getLanguage().replaceAll('_','-');var c=this._oField.getConfiguration();if(c.type==="string"&&c.translatable){this._oField.setTranslationValueInTexts(l,c.manifestpath,v);}else{this._oField._settingsModel.setProperty(c.manifestpath,v);}};
return a;});
sap.ui.predefine('sap/ui/integration/editor/fields/viz/ColorSelect',["sap/ui/integration/editor/fields/viz/VizBase","sap/m/ColorPalettePopover","sap/m/Button","sap/ui/core/Core","sap/base/util/merge","sap/ui/core/theming/Parameters"],function(V,C,B,a,m,P){"use strict";
var b=V.extend("sap.ui.integration.editor.fields.viz.ColorSelect",{
metadata:{library:"sap.ui.integration",properties:{enumValue:{type:"string",defaultValue:""},colorValue:{type:"string",defaultValue:""},colorEnum:{type:"string",defaultValue:"sap.m.AvatarColor"},background:{type:"boolean",defaultValue:true},allowCustomColors:{type:"boolean",defaultValue:false}},aggregations:{_colorpalette:{type:"sap.m.ColorPalettePopover",multiple:false,visibility:"hidden"}}},
renderer:V.getMetadata().getRenderer()
});
var e={};
function s(){var v=["sapUiAccent1","sapUiAccent2","sapUiAccent3","sapUiAccent4","sapUiAccent5","sapUiAccent6","sapUiAccent7","sapUiAccent8","sapUiAccent9","sapUiAccent10","sapUiTileIconColor","sapUiContentImagePlaceholderBackground"];var p=P.get({name:v,callback:function(_){}});if(p){e={"sap.m.AvatarColor":{"Accent1":p["sapUiAccent1"],"Accent2":p["sapUiAccent2"],"Accent3":p["sapUiAccent3"],"Accent4":p["sapUiAccent4"],"Accent5":p["sapUiAccent5"],"Accent6":p["sapUiAccent6"],"Accent7":p["sapUiAccent7"],"Accent8":p["sapUiAccent8"],"Accent9":p["sapUiAccent9"],"Accent10":p["sapUiAccent10"],"TileIcon":p["sapUiTileIconColor"],"Transparent":"transparent","Placeholder":p["sapUiContentImagePlaceholderBackground"]}};}}
s();a.attachThemeChanged(s);var c,o=new C("oColorPalettePopoverFull",{colorSelect:function(E){var d=E.getParameter("value"),f=e[c.getColorEnum()],i=Object.values(f).indexOf(d);c.setEnumValue(Object.keys(f)[i]);c.setColorValue(d);c._colorValue=d;}});
b.prototype.onInit=function(){this._oControl=new B({icon:"sap-icon://color-fill",press:function(){this._openPalette();}.bind(this)});this._colorValue="transparent";};
b.prototype.applyStyle=function(r){r.addClass("sapUiIntegrationColorSelect");if(!this._colorValue||this._colorValue==="transparent"){r.addClass("noColorValueOrTransparentValue");}else{r.addClass("hasColorValue");}if(this._colorValue){r.addStyle("--colorValue",this._colorValue);}};
b.prototype._openPalette=function(){c=this;o.setShowDefaultColorButton(true);o.setShowMoreColorsButton(false);o.setDefaultColor("");var E=e[this.getColorEnum()];if(E){var d=[];for(var n in E){d.push(E[n]);}o.setColors(d);}o.openBy(this._oControl);};
b.prototype.setEnumValue=function(v){this.setProperty("enumValue",v,true);this._colorValue=e[this.getColorEnum()][v];this.rerender();};
b.prototype.bindPropertyToControl=function(p,d){if(p==="editable"){var f=m({},d);this._oControl.bindProperty("enabled",f);}};
return b;});
sap.ui.predefine('sap/ui/integration/editor/fields/viz/IconSelect',["sap/ui/integration/editor/fields/viz/VizBase","sap/m/Select","sap/ui/core/ListItem","sap/ui/model/json/JSONModel","sap/ui/core/IconPool","sap/base/util/merge","sap/ui/core/Core","sap/base/util/deepClone"],function(V,S,L,J,I,m,C,d){"use strict";var r=C.getLibraryResourceBundle("sap.ui.integration"),D;
var c=V.extend("sap.ui.integration.editor.fields.viz.IconSelect",{
metadata:{library:"sap.ui.integration",properties:{value:{type:"string",defaultValue:"sap-icon://accept"},allowFile:{type:"boolean",defaultValue:true},allowNone:{type:"boolean",defaultValue:true}}},
renderer:V.getMetadata().getRenderer()
});
c.prototype._initIconModel=function(){var i=I.getIconNames();i=i.sort(function(a,b){return a.toLowerCase().localeCompare(b.toLowerCase());});var e=[];if(!D){i.filter(function(s){var t=I.getIconInfo(s).text||("-"+s).replace(/-(.)/ig,function(M,a){return" "+a.toUpperCase();}).substring(1);e.push({icon:"sap-icon://"+s,key:"sap-icon://"+s,text:t,tooltip:t,enabled:true});});D=d(e,500);}else{e=d(D,500);}e=[{icon:"",text:r.getText("EDITOR_ICON_NONE"),tooltip:"",key:"",enabled:true},{icon:"sap-icon://upload",text:r.getText("EDITOR_ICON_CHOOSE"),tooltip:"",key:"file",enabled:true},{icon:"sap-icon://download",text:r.getText("EDITOR_ICON_SELECTED"),tooltip:"",key:"selected",enabled:false}].concat(e);this._oIconModel=new J(e);this._oIconModel.setSizeLimit(e.length);};
c.prototype.onInit=function(){if(r&&r.sLocale!==C.getConfiguration().getLanguage()){r=C.getLibraryResourceBundle("sap.ui.integration");}if(!this._oIconModel){this._initIconModel();}var i=new L({icon:"{iconlist>icon}",text:"{iconlist>text}",tooltip:"{iconlist>tooltip}",key:"{iconlist>key}",enabled:"{iconlist>enabled}"});this._oFileUpload=document.createElement("INPUT");this._oFileUpload.type="file";this._oFileUpload.accept=".png,.jpg,.jpeg,.svg";this._boundFileUploadChange=this._fileUploadChange.bind(this);this._oFileUpload.addEventListener("change",this._boundFileUploadChange);this._oControl=new S({width:"100%",items:{path:"iconlist>/",template:i},change:function(e){var s=e.getSource(),a=e.getSource().getSelectedKey();if(a==="file"){s._customImage=null;this._oFileUpload.click();this._boundFocusBack=this._focusBack.bind(this);s.getDomRef("hiddenSelect").addEventListener("focus",this._boundFocusBack);}else{this.setValue(a);}}.bind(this)});this._oControl.setModel(this._oIconModel,"iconlist");var o=this._oControl.open;this._oControl.open=function(){o&&o.apply(this,arguments);this.getPicker().addStyleClass("sapUiIntegrationIconSelectList");this.getPicker().setContentHeight("400px");};this._oControl.addDelegate({onAfterRendering:function(){var a=this._oControl.getDomRef("labelIcon");if(a){var s=this._oControl._customImage;if(s){a.style.backgroundImage="url('"+s+"')";a.classList.add("sapMSelectListItemIconCustom");}else{a.style.backgroundImage="unset";a.classList.remove("sapMSelectListItemIconCustom");}}}.bind(this)});this._oControl.addDelegate({onsappageup:function(){if(this._oControl.isOpen()){var s=this._oControl.getSelectedIndex();this._oControl.setSelectedIndex(s-50);}}.bind(this),onsappagedown:function(){if(this._oControl.isOpen()){var s=this._oControl.getSelectedIndex();if(s<3){this._oControl.setSelectedIndex(29);}else{this._oControl.setSelectedIndex(s+50);}}}.bind(this),onsapup:function(){if(this._oControl.isOpen()){var a=this.getAllowFile();var A=this.getAllowNone();var f=this._oIconModel.getProperty("/2/enabled");var s=this._oControl.getSelectedIndex();if(s>11+2){this._oControl.setSelectedIndex(s-11);}else if(s>=3){if(A&&!a){this._oControl.setSelectedIndex(0);}else if(f){this._oControl.setSelectedIndex(2);}else{this._oControl.setSelectedIndex(3);}}}}.bind(this),onsapdown:function(){if(this._oControl.isOpen()){var s=this._oControl.getSelectedIndex();if(s>1){this._oControl.setSelectedIndex(s+11);}}}.bind(this),onsapleft:function(){if(this._oControl.isOpen()){this._oControl.onsapup.apply(this._oControl,arguments);}}.bind(this),onsapright:function(){if(this._oControl.isOpen()){this._oControl.onsapdown.apply(this._oControl,arguments);}}.bind(this)},true);};
c.prototype.applyStyle=function(R){R.addClass("sapUiIntegrationIconSelect");if(this._oControl&&this._oControl.getWidth){R.addStyle("width",this._oControl.getWidth());}};
c.prototype._fileUploadChange=function(){var f=new window.FileReader();f.onload=function(){this.setValue(f.result);this._oControl.invalidate();}.bind(this);if(this._oFileUpload.files.length===1){f.readAsDataURL(this._oFileUpload.files[0]);}};
c.prototype._focusBack=function(){this._oControl.getDomRef("hiddenSelect").removeEventListener("focus",this._boundFocusBack);setTimeout(function(){this.setValue(this.getValue());}.bind(this),150);};
c.prototype.bindPropertyToControl=function(p,b){if(p==="editable"){var o=m({},b);this._oControl.bindProperty("editable",o);}};
c.prototype.setValue=function(v){this.setProperty("value",v,true);if(v&&v.indexOf("data:image/")===0){this._oControl._customImage=v;this._oIconModel.setProperty("/2/enabled",true);this._oControl.setSelectedKey("selected");}else{this._oControl._customImage=null;this._oIconModel.setProperty("/2/enabled",false);this._oControl.setSelectedKey(v);}this._oControl.invalidate();return this;};
c.prototype.setAllowFile=function(v){this.setProperty("allowFile",v,true);v=this.getAllowFile();this._oIconModel.setProperty("/1/enabled",v);return this;};
c.prototype.setAllowNone=function(v){this.setProperty("allowNone",v,true);v=this.getAllowNone();this._oIconModel.setProperty("/0/enabled",v);return this;};
return c;});
sap.ui.predefine('sap/ui/integration/editor/fields/viz/ShapeSelect',["sap/ui/integration/editor/fields/viz/VizBase","sap/m/SegmentedButton","sap/m/SegmentedButtonItem","sap/base/util/merge"],function(V,S,a,m){"use strict";
var b=V.extend("sap.ui.integration.editor.fields.viz.ShapeSelect",{
metadata:{library:"sap.ui.integration",properties:{value:{type:"string",defaultValue:"Circle"}}},
renderer:V.getMetadata().getRenderer()
});
b.prototype.onInit=function(){this._oControl=new S({items:[new a({icon:"sap-icon://circle-task",key:"Circle"}),new a({icon:"sap-icon://border",key:"Square"})]});};
b.prototype.applyStyle=function(r){r.addClass("sapUiIntegrationShapeSelect");};
b.prototype.bindPropertyToControl=function(p,B){if(p==="editable"){var c=m({},B);this._oControl.bindProperty("enabled",c);}if(p==="value"){var c=m({},B);this._oControl.bindProperty("selectedKey",c);}};
return b;});
sap.ui.predefine('sap/ui/integration/editor/fields/viz/VizBase',["sap/ui/core/Control","sap/m/SegmentedButton","sap/m/SegmentedButtonItem","sap/base/util/merge"],function(C,S,a,m){"use strict";
var V=C.extend("sap.ui.integration.editor.fields.viz.VizBase",{
metadata:{library:"sap.ui.integration",properties:{value:{type:"string",defaultValue:""},editable:{type:"boolean",defaultValue:true}},aggregations:{_control:{type:"sap.ui.core.Control",multiple:false,visibility:"hidden"}}},
renderer:function(r,v){var c=v.getAggregation("_control");r.openStart("div");v.applyStyle(r);r.writeElementData(v);r.openEnd();r.renderControl(c);r.close("div");}
});
V.prototype.init=function(){this.onInit();this.setAggregation("_control",this._oControl);};
V.prototype.bindProperty=function(p,b){C.prototype.bindProperty.apply(this,arguments);this.bindPropertyToControl(p,b);return this;};
V.prototype.onInit=function(){};
V.prototype.applyStyle=function(r){};
V.prototype.bindPropertyToControl=function(p,b){if(p==="value"){var c=m({},b);this._oControl.bindProperty("value",c);}if(p==="editable"){var c=m({},b);this._oControl.bindProperty("editable",c);}};
return V;});
sap.ui.predefine('sap/ui/integration/formatters/DateTimeFormatter',["sap/ui/core/format/DateFormat","sap/ui/core/date/UniversalDate","sap/ui/integration/util/Utils"],function(D,U,a){"use strict";var d={dateTime:function(v,f,l){var A=a.processFormatArguments(f,l),o=D.getDateTimeInstance(A.formatOptions,A.locale),p=a.parseJsonDateTime(v);var u=new U(p);var F=o.format(u);return F;},date:function(v,f,l){return d.dateTime.apply(this,arguments);}};return d;});
sap.ui.predefine('sap/ui/integration/formatters/IconFormatter',["sap/ui/base/ManagedObject","sap/ui/core/Core","sap/ui/core/IconPool"],function(M,C,I){"use strict";
var a=M.extend("sap.ui.integration.formatters.IconFormatter",{metadata:{library:"sap.ui.integration",associations:{card:{type:"sap.ui.integration.widgets.Card",multiple:false}}}});
a.prototype.formatSrc=function(u){if(!u){return u;}if(u.startsWith("data:")||I.isIconURI(u)){return u;}return this._format(u);};
a.prototype._format=function(u){return this._getCardInstance().getRuntimeUrl(u);};
a.prototype._getCardInstance=function(){return C.byId(this.getCard());};
return a;});
sap.ui.predefine('sap/ui/integration/formatters/InitialsFormatter',[],function(){"use strict";var i={initials:function(v,l){var V=v.split(' '),l=!l?2:l,I='';V.forEach(function(e){I+=e.substring(0,1);});I=l===2?I.charAt(0)+I.charAt(I.length-1):I.substring(0,l);return I.toUpperCase();}};return i;});
sap.ui.predefine('sap/ui/integration/formatters/NumberFormatter',["sap/ui/core/format/NumberFormat","sap/ui/integration/util/Utils"],function(N,U){"use strict";var n={currency:function(c,C,f,l){var s=U.processFormatArguments(f,l),o=N.getCurrencyInstance(s.formatOptions,s.locale);return o.format(c,C);},"float":function(f,F,l){var s=U.processFormatArguments(F,l),o=N.getFloatInstance(s.formatOptions,s.locale);return o.format(f);},integer:function(i,f,l){var s=U.processFormatArguments(f,l),I=N.getIntegerInstance(s.formatOptions,s.locale);return I.format(i);},percent:function(p,f,l){var s=U.processFormatArguments(f,l),P=N.getPercentInstance(s.formatOptions,s.locale);return P.format(p);},unit:function(u,s,f,l){var S=U.processFormatArguments(f,l),o=N.getUnitInstance(S.formatOptions,S.locale);return o.format(u,s);}};return n;});
sap.ui.predefine('sap/ui/integration/formatters/TextFormatter',["sap/base/strings/formatMessage"],function(f){"use strict";var t={text:function(p,v){return f(p,v);}};return t;});
sap.ui.predefine('sap/ui/integration/library',["sap/ui/base/DataType","sap/ui/Global","sap/ui/core/library","sap/m/library","sap/f/library","sap/ui/unified/library","sap/ui/layout/library"],function(D){"use strict";var t=sap.ui.getCore().initLibrary({name:"sap.ui.integration",version:"1.105.1",dependencies:["sap.ui.core","sap.f","sap.m","sap.ui.unified","sap.ui.layout"],types:["sap.ui.integration.CardActionType","sap.ui.integration.CardDataMode","sap.ui.integration.CardMenuAction"],controls:["sap.ui.integration.widgets.Card","sap.ui.integration.cards.filters.FilterBar","sap.ui.integration.cards.Header","sap.ui.integration.cards.NumericHeader","sap.ui.integration.controls.ListContentItem"],elements:["sap.ui.integration.ActionDefinition","sap.ui.integration.Host"],customElements:{"card":"sap/ui/integration/customElements/CustomElementCard"}});t.CardActionType={Navigation:"Navigation",Submit:"Submit",Custom:"Custom",DateChange:"DateChange",MonthChange:"MonthChange",ShowCard:"ShowCard",HideCard:"HideCard"};t.CardDataMode={Active:"Active",Inactive:"Inactive",Auto:"Auto"};t.CardActionArea={None:"None",Content:"Content",ContentItem:"ContentItem",ActionsStrip:"ActionsStrip",ContentItemDetail:"ContentItemDetail",Header:"Header"};t.CardArea={Header:"Header",Filters:"Filters",Content:"Content"};t.AttributesLayoutType={OneColumn:"OneColumn",TwoColumns:"TwoColumns"};t.CardMenuAction=D.createType("sap.ui.integration.CardMenuAction",{isValid:function(v){var p=["type","text","icon","tooltip","buttonType","enabled","visible","action","parameters","target","url"];return Object.keys(v).every(function(k){return p.indexOf(k)!==-1;});}},"object");return t;});
sap.ui.predefine('sap/ui/integration/model/ContextModel',["sap/ui/model/json/JSONModel","sap/base/Log","sap/ui/integration/util/Utils"],function(J,L,U){"use strict";
var C=J.extend("sap.ui.integration.model.ContextModel",{constructor:function(d,o){J.apply(this,arguments);this._aPendingPromises=[];}});
C.prototype.setHost=function(h){this._oHost=h;this.resetHostProperties();};
C.prototype.getProperty=function(p,c){if(p&&!p.startsWith("/")&&!c){p="/"+p;}var h=this._oHost,a=this.resolve(p,c),b,H=h&&h.getContextValue;if(H){this._mValues=this._mValues||{};if(this._mValues[a]!==undefined){return this._mValues[a];}b=U.timeoutPromise(h.getContextValue(a.substring(1)));b=b.then(function(v){this._mValues[a]=v;this.checkUpdate();}.bind(this)).catch(function(r){this._mValues[a]=null;this.checkUpdate();L.error("Path "+a+" could not be resolved. Reason: "+r);}.bind(this));this._aPendingPromises.push(b);return null;}else{return J.prototype.getProperty.apply(this,arguments);}};
C.prototype.resetHostProperties=function(){this._mValues={};};
C.prototype.waitForPendingProperties=function(){var p=Promise.all(this._aPendingPromises);this._aPendingPromises=[];return p;};
return C;});
sap.ui.predefine('sap/ui/integration/model/ObservableModel',["sap/ui/model/json/JSONModel","sap/ui/model/ClientPropertyBinding","./PagingModelListBinding"],function(J,C,P){"use strict";
var O=J.extend("sap.ui.integration.model.ObservableModel",{constructor:function(d,o){J.apply(this,arguments);this._observedBinding=new C(this,"/",this.getContext("/"));this._observedBinding.attachChange(this._handleChange.bind(this));this._fireChangeBound=this._fireChange.bind(this);}});
O.prototype.destroy=function(){this._observedBinding.destroy();this._observedBinding=null;clearTimeout(this._iFireChangeCallId);};
O.prototype._handleChange=function(){this._scheduleFireChange();};
O.prototype._scheduleFireChange=function(){if(this._iFireChangeCallId){clearTimeout(this._iFireChangeCallId);}this._iFireChangeCallId=setTimeout(this._fireChangeBound,0);};
O.prototype._fireChange=function(){this.fireEvent("change");};
O.prototype.bindList=function(p,c,s,f,m){var b=this._oListBinding=new P(this,p,c,s,f,m);return b;};
O.prototype.sliceData=function(s,e){this._oListBinding._iStartIndex=s;this._oListBinding._iEndIndex=e;this._oListBinding.checkUpdate(true);};
return O;});
sap.ui.predefine('sap/ui/integration/model/PagingModelListBinding',["sap/ui/model/json/JSONListBinding"],function(J){"use strict";
var P=J.extend("sap.ui.integration.model.PagingModelListBinding",{});
P.prototype.update=function(){J.prototype.update.call(this);if(this._iStartIndex!==undefined){this.aIndices=this.aIndices.slice(this._iStartIndex,this._iEndIndex);}};
return P;});
sap.ui.predefine('sap/ui/integration/services/Data',['./Service'],function(S){"use strict";var D=S.extend();
D.prototype.attachDataChanged=function(d,p){};
D.prototype.detachDataChanged=function(d){};
D.prototype.getData=function(i){return Promise.resolve(false);};
return D;});
sap.ui.predefine('sap/ui/integration/services/Navigation',['./Service'],function(S){"use strict";var N=S.extend();
N.prototype.navigate=function(c){};
N.prototype.enabled=function(c){return Promise.resolve(false);};
N.prototype.hidden=function(c){return Promise.resolve(false);};
return N;});
sap.ui.predefine('sap/ui/integration/services/Service',[],function(){"use strict";var S=function(){};
S.extend=function(C){if(!C){var t=this;C=function(){t.apply(this,arguments);};}C.prototype=Object.create(this.prototype);C.prototype.constructor=C;C.extend=this.extend.bind(C);return C;};
S.prototype.getInterface=function(){return this;};
return S;});
sap.ui.predefine('sap/ui/integration/util/BaseFactory',["./BindingHelper","sap/base/util/merge","sap/ui/base/Object"],function(B,m,a){"use strict";
var b=a.extend("sap.ui.integration.util.BaseFactory",{constructor:function(c){a.call(this);this._oCard=c;}});
b.prototype.createBindingInfos=function(M){var r=m({},M),d=r.data;delete r.data;r=B.createBindingInfos(r,this._oCard.getBindingNamespaces());if(d){r.data=d;}return r;};
return b;});
sap.ui.predefine('sap/ui/integration/util/BindingHelper',["sap/ui/base/BindingParser","sap/base/util/extend","sap/base/util/isPlainObject","sap/ui/integration/formatters/DateTimeFormatter","sap/ui/integration/formatters/NumberFormatter","sap/ui/integration/formatters/TextFormatter","sap/ui/integration/bindingFeatures/DateRange","sap/ui/integration/formatters/InitialsFormatter"],function(B,e,i,D,N,T,a,I){"use strict";var r=/\{\{([^}]+)\}\}/g,b=/\{\{(parameters\.[^}]+)\}\}/g,c=/\{\{(dataSources\.[^}]+)\}\}/g;var d={};var f={date:D.date,dateTime:D.dateTime,currency:N.currency,"float":N.float,integer:N.integer,percent:N.percent,text:T.text,unit:N.unit,initials:I.initials};d.mLocals={"format":f,"dateRange":a};
d.extractBindingInfo=function(v,l){v=d.escapeCardPlaceholders(v);return B.complexParser(v,undefined,true,undefined,undefined,undefined,e({},d.mLocals,l));};
d.createBindingInfos=function(v,l){if(!v){return v;}if(Array.isArray(v)){return v.map(function(v){return d.createBindingInfos(v,l);});}if(i(v)){var o={};for(var k in v){o[k]=d.createBindingInfos(v[k],l);}return o;}if(typeof v==="string"){var g=d.extractBindingInfo(v,l);return d.escapeParametersAndDataSources(g||v);}return v;};
d.formattedProperty=function(v,F){if(v===undefined){return v;}var o={};if(Array.isArray(v)){o.parts=v.map(function(h){return typeof h==="object"?e({},h):{value:h};});o.formatter=F;}else if(typeof v==="object"){o=e({},v);if(v.formatter){var g=o.formatter;o.formatter=function(){var s=g.apply(this,arguments);return F(s);};}else{o.formatter=F;}}else{o={value:v,formatter:F};}return o;};
d.escapeCardPlaceholders=function(v){if(typeof v!=="string"){return v;}return v.replace(r,"\\{\\{$1\\}\\}");};
d.escapeParametersAndDataSources=function(v){if(typeof v!=="string"){return v;}return v.replace(b,"\\{\\{$1\\}\\}").replace(c,"\\{\\{$1\\}\\}");};
d.isAbsolutePath=function(p){return p.startsWith("/");};
d.prependRelativePaths=function(v,p){if(typeof v!=="object"){return v;}var o=e({},v);if(o.path&&!this.isAbsolutePath(o.path)){o.path=p+"/"+o.path;}if(o.parts){o.parts=o.parts.map(function(g){return d.prependRelativePaths(g,p);});}return o;};
d.propagateModels=function(s,t){var S=e({},s.oPropagatedProperties.oModels,s.oModels),m=Object.keys(S),o=s.getModel();if(o){t.setModel(o);}m.forEach(function(M){if(M==="undefined"){return;}var g=s.getModel(M);if(g){t.setModel(g,M);}});};
d.reuse=function(v){if(typeof v==="object"){return e({},v);}return v;};
return d;});
sap.ui.predefine('sap/ui/integration/util/BindingResolver',["sap/ui/base/ManagedObject","sap/base/Log","sap/ui/model/Model","sap/ui/integration/util/BindingHelper","sap/base/util/extend","sap/base/util/isPlainObject"],function(M,L,a,B,e,i){"use strict";
var S=M.extend("sap.ui.integration.util.SimpleControl",{metadata:{library:"sap.ui.integration",properties:{resolved:{type:"any"}}}});
var s=new S();var b={};
function p(v,m,P,c,d){if(c===d){L.warning("BindingResolver maximum level processing reached. Please check for circular dependencies.");return v;}if(Array.isArray(v)){return v.map(function(I){return p(I,m,P,c+1,d);});}if(v&&i(v)&&!b.isBindingInfo(v)){var n={};for(var f in v){n[f]=p(v[f],m,P,c+1,d);}return n;}if(typeof v==="string"||(typeof v==="object"&&b.isBindingInfo(v))){return r(v,m,P);}return v;}
function r(v,m,P){if(!v){return v;}var o=typeof v==="string"?M.bindingParser(v):e({},v);if(!o){return v;}if(!P){P="/";}if(m instanceof a){s.setModel(m);}else{B.propagateModels(m,s);}s.bindObject(P);s.bindProperty("resolved",o);var V=s.getResolved();s.unbindProperty("resolved");s.unbindObject();s.setModel(null);return V;}
b.resolveValue=function(v,m,P){var c=0,d=30;if(m){return p(v,m,P,c,d);}else{return v;}};
b.isBindingInfo=function(o){if(!o){return false;}return o.hasOwnProperty("path")||(o.hasOwnProperty("parts")&&(o.hasOwnProperty("formatter")||o.hasOwnProperty("binding")));};
return b;});
sap.ui.predefine('sap/ui/integration/util/CacheAndRequestDataProvider',["sap/ui/integration/util/RequestDataProvider","sap/base/Log","sap/ui/core/Core","sap/base/util/merge"],function(R,L,C,m){"use strict";var S=31536000;
function g(r){var u=r.url,d=r.data,U,p;if(r.method!=="GET"){return r.url;}U=new URL(u,window.location.href);for(p in d){U.searchParams.set(p,d[p]);}return U.href;}
var a=R.extend("sap.ui.integration.util.CacheAndRequestDataProvider");
a.prototype.init=function(){R.prototype.init.apply(this,arguments);this._oRefreshWithoutCacheBound=this.refreshWithoutCache.bind(this);};
a.prototype.destroy=function(){this._unsubscribeFromHostMessages();this._detachTimestampPress();R.prototype.destroy.apply(this,arguments);};
a.prototype.getHostInstance=function(){return C.byId(this.getHost());};
a.prototype.getCardInstance=function(){return C.byId(this.getCard());};
a.prototype.getCardInstanceHeader=function(){var c=this.getCardInstance();if(!c){return null;}return c.getCardHeader();};
a.prototype.onDataRequestComplete=function(){var i;if(this._iUpdateIntervalTimeout){clearTimeout(this._iUpdateIntervalTimeout);this._iUpdateIntervalTimeout=null;}if(!this._oSettings||!this._oSettings.updateInterval){return;}i=parseInt(this._oSettings.updateInterval);if(isNaN(i)){return;}this._iUpdateIntervalTimeout=setTimeout(function(){this.refreshWithoutCache();}.bind(this),i*1000);};
a.prototype._request=function(r){var p,c=this.getCardInstanceHeader();this._sCurrentRequestFullUrl=g(r);this._subscribeToHostMessages();p=R.prototype._request.apply(this,arguments);p.then(function(v){var j=v[1],d=j.getResponseHeader("Date");if(d&&c){this._attachTimestampPress();c.setDataTimestamp((new Date(d)).toISOString());}}.bind(this));return p;};
a.prototype.refreshWithoutCache=function(){var c=this.getCardInstanceHeader();if(c){c.setDataTimestampUpdating(true);}setTimeout(function(){this._bCacheOnly=false;this._bNoCache=true;this._triggerDataUpdate();}.bind(this),200);};
a.prototype.refreshFromCache=function(){var c=this.getCardInstanceHeader();if(c){c.setDataTimestampUpdating(true);}setTimeout(function(){this._bCacheOnly=true;this._bNoCache=false;this._triggerDataUpdate();}.bind(this),200);};
a.prototype._prepareHeaders=function(h,s){var d={enabled:true,maxAge:0,staleWhileRevalidate:true},n=m({request:{cache:d}},s),c=n.request.cache;if(c.noStore){c.enabled=false;}if(c.enabled){if(this._bCacheOnly){c.maxAge=S;c.staleWhileRevalidate=false;}else if(this._bNoCache){c.maxAge=0;c.staleWhileRevalidate=false;}}n.request.cache=c;return R.prototype._prepareHeaders.call(this,h,n);};
a.prototype._subscribeToHostMessages=function(){var h=this.getHostInstance();if(this._bIsSubscribed){return;}if(!h){return;}h.attachMessage(this._handleHostMessage,this);this._bIsSubscribed=true;};
a.prototype._unsubscribeFromHostMessages=function(){var h=this.getHostInstance();if(!h){return;}h.detachMessage(this._handleHostMessage,this);this._bIsSubscribed=false;};
a.prototype._handleHostMessage=function(e){var d=e.getParameter("data");if(d.type!=="ui-integration-card-update"){return;}if(d.url!==this._sCurrentRequestFullUrl){return;}L.info("[CARDS CACHE] message ui-integration-card-update received for "+d.url);this.refreshFromCache();};
a.prototype._attachTimestampPress=function(e){var c=this.getCardInstance(),h=this.getCardInstanceHeader();if(this._oHeaderDelegate){return;}if(!h){return;}this._oHeaderDelegate={onBeforeRendering:function(){var $=c.$().find(".sapFCardDataTimestamp");$.off("click",this._oRefreshWithoutCacheBound);}.bind(this),onAfterRendering:function(){var $=c.$().find(".sapFCardDataTimestamp");$.on("click",this._oRefreshWithoutCacheBound);}.bind(this)};h.addEventDelegate(this._oHeaderDelegate);};
a.prototype._detachTimestampPress=function(e){var c=this.getCardInstance(),h=this.getCardInstanceHeader(),$=c&&c.$().find(".sapFCardDataTimestamp");if(!h){return;}$.off("click",this._oRefreshWithoutCacheBound);h.removeEventDelegate(this._oHeaderDelegate);this._oHeaderDelegate=null;};
return a;});
sap.ui.predefine('sap/ui/integration/util/CardMerger',["sap/base/util/merge","sap/ui/model/json/JSONModel","sap/ui/core/Core","sap/base/util/deepClone"],function(m,J,C,d){"use strict";var a={layers:{"admin":0,"content":5,"translation":10,"all":20},mergeManifestPathChanges:function(M,c){Object.keys(c).forEach(function(s){if(s.charAt(0)==="/"){var v=c[s];M.setProperty(s,v);}});},mergeTextsChanges:function(M,t,D){var l=C.getConfiguration().getLanguage().replaceAll('_','-');if(t&&t.hasOwnProperty(l)){var T=t[l];for(var s in T){var o=T[s];if(typeof o==="object"){a.translateObject(M,s,o,D);}else{var c=M.getProperty(s);var b=true;if(c&&typeof c==="string"&&(c.indexOf("{context>")===0||c.indexOf("{{parameters")===0)){b=false;}if(b){M.setProperty(s,o);}}}}},mergeCardDelta:function(M,c,S){var i=m({},M);if(typeof S==="undefined"){S="sap.card";}if(Array.isArray(c)&&c.length>0){var o,t,D;c.forEach(function(b){if(b.content){m(i[S],b.content);}else{var l=b.hasOwnProperty(":layer")?b[":layer"]:1000;if(l===a.layers["translation"]){var L=C.getConfiguration().getLanguage().replaceAll('_','-');var T={"texts":{}};T.texts[L]={};delete b.texts;Object.keys(b).forEach(function(s){if(s.charAt(0)==="/"){T.texts[L][s]=b[s];}else{T[s]=b[s];}});b=T;}t=m(t,b.texts);D=m(D,b[":designtime"]);o=o||new J(i);a.mergeManifestPathChanges(o,b);}});a.mergeTextsChanges(o,t,D);}return i;},mergeCardDesigntimeMetadata:function(D,c){var i=m({},D);c.forEach(function(o){var I=o.content.entityPropertyChange||[];I.forEach(function(b){var p=b.propertyPath;switch(b.operation){case"UPDATE":if(i.hasOwnProperty(p)){i[p]=b.propertyValue;}break;case"DELETE":delete i[p];break;case"INSERT":if(!i.hasOwnProperty(p)){i[p]=b.propertyValue;}break;default:break;}});});return i;},translateObject:function(M,s,t,D){var v=M.getProperty(s);if(!v||typeof v!=="object"){return;}v=d(v,500);if(!Array.isArray(v)){var u=(v._dt||{})._uuid;if(u&&t[u]){if(D&&D[s]&&D[s][u]){for(var n in D[s][u]){if(D[s][u][n].translatable===false){delete t[u][n];}}}m(v,t[u]);M.setProperty(s,v);}}else{v.forEach(function(o){var u=(o._dt||{})._uuid;if(u&&t[u]){if(D&&D[s]&&D[s][u]){for(var n in D[s][u]){if(D[s][u][n].translatable===false){delete t[u][n];}}}m(o,t[u]);}});M.setProperty(s,v);return;}}};return a;});
sap.ui.predefine('sap/ui/integration/util/CardObserver',["sap/ui/integration/library","sap/ui/base/Object"],function(l,B){"use strict";var C=l.CardDataMode;
var a=B.extend("sap.ui.integration.util.CardObserver",{constructor:function(c){B.call(this);this._oCard=c;}});
a.prototype.destroy=function(){B.prototype.destroy.apply(this,arguments);this._oCard=null;if(this.oObserver){this.oObserver.disconnect();this.oObserver=null;}};
a.prototype.createObserver=function(){if(!this.oObserver){this.oObserver=new window.IntersectionObserver(function(e){e.forEach(function(E){if(E.isIntersecting){this.loadManifest();}}.bind(this),{threshold:[0.1]});}.bind(this));}};
a.prototype.loadManifest=function(){var c=this._oCard.getDomRef();this._oCard.setDataMode(C.Active);this.oObserver.unobserve(c);};
return a;});
sap.ui.predefine('sap/ui/integration/util/ContentFactory',["./BaseFactory","sap/ui/integration/cards/actions/CardActions","sap/ui/integration/cards/AdaptiveContent","sap/ui/integration/cards/AnalyticalContent","sap/ui/integration/cards/AnalyticsCloudContent","sap/ui/integration/cards/CalendarContent","sap/ui/integration/cards/ComponentContent","sap/ui/integration/cards/ListContent","sap/ui/integration/cards/ObjectContent","sap/ui/integration/cards/TableContent","sap/ui/integration/cards/TimelineContent","sap/ui/integration/cards/WebPageContent"],function(B,C,A,a,b,c,d,L,O,T,e,W){"use strict";
var f=B.extend("sap.ui.integration.util.ContentFactory");
f.prototype.create=function(m){var o=this._oCard,t=m.cardType;return new Promise(function(r,g){var h=this.getClass(t);if(!h){g(t.toUpperCase()+" content type is not supported.");return;}var i=new h();i.setCard(o);if(i instanceof A){i.setCardDataProvider(o._oDataProvider);}i.loadDependencies(m.cardManifest).then(function(){if((m.cardManifest&&m.cardManifest.isDestroyed())||(m.dataProviderFactory&&m.dataProviderFactory.isDestroyed())){g();return;}var j=new C({card:o});i._sAppId=m.appId;i.setServiceManager(m.serviceManager);i.setDataProviderFactory(m.dataProviderFactory);i.setIconFormatter(m.iconFormatter);i.setActions(j);i.setConfiguration(m.contentManifest,t);r(i);}).catch(function(E){g(E);});}.bind(this));};
f.prototype.getClass=function(t){switch(t.toLowerCase()){case"adaptivecard":return A;case"analytical":return a;case"analyticscloud":return b;case"calendar":return c;case"component":return d;case"list":return L;case"object":return O;case"table":return T;case"timeline":return e;case"webpage":return W;default:return null;}};
return f;});
sap.ui.predefine('sap/ui/integration/util/CsrfTokenHandler',["sap/ui/base/Object","sap/base/util/isPlainObject","sap/base/util/merge","sap/ui/model/json/JSONModel"],function(B,i,m,J){"use strict";var r=/\{\{csrfTokens.([^\}]+)/;var T="X-CSRF-Token";
var C=B.extend("sap.ui.integration.util.CsrfTokenHandler",{
metadata:{library:"sap.ui.integration"},
constructor:function(s){B.call(this);s=s||{};this._oHost=s.host;this._oConfiguration=s.configuration;}
});
C._mTokens=new Map();
C.prototype.resolveToken=function(d){var c,o;d=m({},d);c=this._findCsrfPlaceholder(d);if(!c){return Promise.resolve(d);}o=this._getCsrfConfig(c.tokenName);if(this._oHost){return this._oHost.getCsrfToken(o).then(function(t){if(!t){return this._resolveTokenByUrl(d,c);}this._replaceCsrfPlaceholder(c,t);return d;}.bind(this)).catch(function(e){return Promise.reject(e);});}return this._resolveTokenByUrl(d,c);};
C.prototype._resolveTokenByUrl=function(d,c){var s=c.tokenName,a=this._getCsrfConfig(s).data.request.url;if(C._mTokens.has(a)){return C._mTokens.get(a).then(function(t){this._replaceCsrfPlaceholder(c,t);return d;}.bind(this));}if(s){return this._requestToken(d,c);}return Promise.resolve(d);};
C.prototype.setDataProviderFactory=function(d){this._oDataProviderFactory=d;};
C.prototype.setHost=function(h){this._oHost=h;};
C.prototype.isExpiredToken=function(j){if(!j){return false;}var x=j.getResponseHeader(T);return x&&x.toLowerCase()==="required"&&j.status===403;};
C.prototype._requestToken=function(d,c){var s=c.tokenName,o=this._getCsrfConfig(s);if(!s||!o){return Promise.reject("CSRF definition is incorrect");}var p=new Promise(function(a,b){var e=this._oDataProviderFactory.create(o.data);e.getData().then(function(D){var t,M;if(o.data.path){M=new J(D);t=M.getProperty(o.data.path);M.destroy();}else{t=e.getLastJQXHR().getResponseHeader(T);}a(t);}).catch(function(){b("CSRF token cannot be resolved");});}.bind(this));this._registerToken(o,p);return p.then(function(t){this._replaceCsrfPlaceholder(c,t);return d;}.bind(this));};
C.prototype.resetTokenByRequest=function(d){var c=this._findCsrfPlaceholder(d);if(!c){return;}this._deleteRegisteredToken(this._getCsrfConfig(c.tokenName));};
C.prototype._getCsrfConfig=function(c){return this._oConfiguration[c];};
C.prototype._replaceCsrfPlaceholder=function(c,t){var p=c.object[c.key];c.object[c.key]=p.replace("{{csrfTokens."+c.tokenName+"}}",t);};
C.prototype._findCsrfPlaceholder=function(c){var v,k,t;for(k in c){v=c[k];if(typeof v==="string"){t=this._getCsrfTokenName(v);if(t){return{object:c,key:k,tokenName:t};}}if(i(v)){v=this._findCsrfPlaceholder(v);if(v){return v;}}}return null;};
C.prototype._getCsrfTokenName=function(s){var M=s.match(r);if(!M){return"";}return M[1];};
C.prototype._registerToken=function(c,p){C._mTokens.set(c.data.request.url,p);if(this._oHost){this._oHost.csrfTokenFetched(c,p);}};
C.prototype._deleteRegisteredToken=function(c){C._mTokens.delete(c.data.request.url);if(this._oHost){this._oHost.csrfTokenExpired(c);}};
return C;});
sap.ui.predefine('sap/ui/integration/util/DataProvider',["sap/ui/base/ManagedObject","sap/ui/performance/Measurement"],function(M,a){"use strict";
var D=M.extend("sap.ui.integration.util.DataProvider",{metadata:{library:"sap.ui.integration",properties:{settingsJson:{type:"string"},baseRuntimeUrl:{type:"string"}},events:{dataRequested:{parameters:{}},dataChanged:{parameters:{data:{type:"object"}}},error:{parameters:{message:{type:"string"}}}},associations:{card:{type:"sap.ui.integration.widgets.Card",multiple:false}}}});
D.prototype.init=function(){this._iCurrentRequestNumber=0;};
D.prototype.setDestinations=function(d){this._oDestinations=d;};
D.prototype.setCsrfTokenHandler=function(c){this._oCsrfTokenHandler=c;};
D.prototype.setDependencies=function(d){this._aDependencies=d;};
D.prototype.setSettingsJson=function(s){this.setProperty("settingsJson",s);this.setSettings(JSON.parse(s));if(this._bActive){this._scheduleDataUpdate();}};
D.prototype._getRuntimeUrl=function(u){if(u.startsWith("http://")||u.startsWith("https://")||u.startsWith("//")){return u;}var s=u&&u.trim().replace(/^\//,"");return this.getBaseRuntimeUrl()+s;};
D.prototype.setSettings=function(s){this._oSettings=s;};
D.prototype.getSettings=function(){return this._oSettings;};
D.prototype.triggerDataUpdate=function(){var p,b;this.fireDataRequested();p=this._waitDependencies();b=p.then(this._triggerDataUpdate.bind(this));if(!this._pInitialRequestPromise){this._pInitialRequestPromise=b;}return b;};
D.prototype._triggerDataUpdate=function(){this._bActive=true;this._iCurrentRequestNumber++;var g;if(this.getCard()){g=a.start("UI5 Integration Cards - "+this.getCard()+"-"+this.getId()+"---getData#"+this._iCurrentRequestNumber,this.getDetails());}return this.getData().then(function(d){if(g){a.end(g.id);}this.fireDataChanged({data:d});this.onDataRequestComplete();}.bind(this)).catch(function(r){if(g){a.end(g.id);}if(Array.isArray(r)&&r.length>0){this.fireError({message:r[0],jqXHR:r[1]});}else{this.fireError({message:r});}this.onDataRequestComplete();}.bind(this));};
D.prototype.getData=function(){var d=this.getSettings();return new Promise(function(r,b){if(d.json){r(d.json);}else{b("Could not get card data.");}});};
D.prototype.destroy=function(){if(this._iIntervalId){clearInterval(this._iIntervalId);this._iIntervalId=null;}if(this._iDataUpdateCallId){clearTimeout(this._iDataUpdateCallId);this._iDataUpdateCallId=null;}this._oSettings=null;M.prototype.destroy.apply(this,arguments);};
D.prototype.getInitialRequestPromise=function(){return this._pInitialRequestPromise;};
D.prototype.onDataRequestComplete=function(){var i;if(!this._oSettings||!this._oSettings.updateInterval){return;}i=parseInt(this._oSettings.updateInterval);if(isNaN(i)){return;}setTimeout(function(){this.triggerDataUpdate();}.bind(this),i*1000);};
D.prototype._scheduleDataUpdate=function(){if(this._iDataUpdateCallId){clearTimeout(this._iDataUpdateCallId);}this._iDataUpdateCallId=setTimeout(this.triggerDataUpdate.bind(this),0);};
D.prototype._waitDependencies=function(){var d=this._aDependencies||[],p=[];d.forEach(function(o){p.push(o.getInitialRequestPromise());});return Promise.all(p);};
D.prototype.getDetails=function(){return"Static JSON data provided in the manifest.";};
return D;});
sap.ui.predefine('sap/ui/integration/util/DataProviderFactory',["sap/ui/base/Object","sap/ui/integration/util/ServiceDataProvider","sap/ui/integration/util/RequestDataProvider","sap/ui/integration/util/CacheAndRequestDataProvider","sap/ui/integration/util/DataProvider","sap/ui/integration/util/ExtensionDataProvider","sap/ui/integration/util/JSONBindingHelper","sap/ui/integration/util/BindingHelper","sap/ui/integration/util/CsrfTokenHandler"],function(B,S,R,C,D,E,J,a,b){"use strict";
var c=B.extend("sap.ui.integration.util.DataProviderFactory",{constructor:function(s){B.call(this);s=s||{};this._oDestinations=s.destinations;this._oExtension=s.extension;this._oCsrfTokenHandler=s.csrfTokenHandler;this._oCard=s.card;this._oEditor=s.editor;this._oHost=s.host;if(s.csrfTokensConfig){this._oCsrfTokenHandler=new b({host:s.host,configuration:s.csrfTokensConfig});}this._aDataProviders=[];this._aFiltersProviders=[];}});
c.prototype.destroy=function(){B.prototype.destroy.apply(this,arguments);if(this._aDataProviders){this._aDataProviders.forEach(function(d){if(!d.bIsDestroyed){d.destroy();}});this._aDataProviders=null;this._aFiltersProviders=null;}if(this._oCsrfTokenHandler){this._oCsrfTokenHandler.destroy();this._oCsrfTokenHandler=null;}this._oCard=null;this._oExtension=null;this._bIsDestroyed=true;};
c.prototype.isDestroyed=function(){return this._bIsDestroyed;};
c.prototype.create=function(d,s,i){var o=this._oCard,e=this._oEditor,h=this._oHost||(o&&o.getHostInstance())||(e&&e.getHostInstance()),u=h&&h.bUseExperimentalCaching,f,g;if(!d){return null;}if(o){f={"baseRuntimeUrl":o.getRuntimeUrl("/"),"settingsJson":J.createJsonWithBindingInfos(d,o.getBindingNamespaces())};}else if(e){f={"baseRuntimeUrl":e.getRuntimeUrl("/"),"settingsJson":J.createJsonWithBindingInfos(d,e.getBindingNamespaces())};}else{f={"settingsJson":J.createJsonWithBindingInfos(d,{})};}if(d.request&&u){g=new C(f);g.setHost(h);}else if(d.request){g=new R(f);if(h){g.setHost(h);}}else if(d.service){g=new S(f);}else if(d.json){g=new D(f);}else if(d.extension){g=new E(f,this._oExtension);}else{return null;}if(o){g.setCard(o);a.propagateModels(o,g);}else if(e){a.propagateModels(e,g);}g.bindObject("/");g.setDestinations(this._oDestinations);if(this._oCsrfTokenHandler){g.setCsrfTokenHandler(this._oCsrfTokenHandler);this._oCsrfTokenHandler.setDataProviderFactory(this);}if(g.isA("sap.ui.integration.util.IServiceDataProvider")){g.createServiceInstances(s);}this._aDataProviders.push(g);if(i){this._aFiltersProviders.push(g);}else{g.setDependencies(this._aFiltersProviders);}return g;};
c.prototype.remove=function(d){var p=this._aDataProviders.indexOf(d);if(p>-1){this._aDataProviders.splice(p,1);}if(d&&!d.bDestroyed&&d._bIsDestroyed){d.destroy();}};
c.prototype.setHost=function(h){this._oHost=h;if(this._oCsrfTokenHandler){this._oCsrfTokenHandler.setHost(h);}};
return c;});
sap.ui.predefine('sap/ui/integration/util/Destinations',["sap/ui/base/Object","sap/base/Log","sap/base/util/isPlainObject","sap/ui/integration/util/Utils"],function(B,L,i,U){"use strict";var r=/\{\{destinations.([^\}]+)/;
var D=B.extend("sap.ui.integration.util.Destinations",{
metadata:{library:"sap.ui.integration"},
constructor:function(c){B.call(this);this._oHost=c.host;this._oCard=c.card;this._oConfiguration=c.manifestConfig;this._mResolved=new Map();}
});
D.prototype.setHost=function(h){this._oHost=h;this._mResolved.clear();};
D.prototype.process=function(c){var p=[];this._processObject(c,undefined,p);return Promise.all(p).then(function(){return c;}).catch(function(m){L.error(m);return c;});};
D.prototype._processObject=function(o,k,p){if(!o){return Promise.resolve(o);}var v=o.hasOwnProperty(k)?o[k]:o;if(typeof v==="string"){p.push(this.processString(v).then(function(P){if(k!==undefined){o[k]=P;}}).catch(function(){if(k!==undefined){o[k]="";}}));}if(i(v)){Object.keys(v).forEach(function(K){this._processObject(v,K,p);}.bind(this));}if(Array.isArray(v)){v.forEach(function(I,a){this._processObject(v,a,p);}.bind(this));}};
D.prototype.getUrl=function(k){var R;if(this._mResolved.has(k)){return this._mResolved.get(k);}R=this._resolveUrl(k);this._mResolved.set(k,R);return R;};
D.prototype._resolveUrl=function(k){var c=this._oConfiguration?this._oConfiguration[k]:null,n,d,p;if(!c){return Promise.reject("Configuration for destination '"+k+"' was not found in the manifest.");}n=c.name;d=c.defaultUrl;if(!n&&!d){return Promise.reject("Can not resolve destination '"+k+"'. Neither 'name' nor 'defaultUrl' is configured.");}if(!n&&d){return Promise.resolve(d);}if(!this._oHost&&!d){return Promise.reject("Can not resolve destination '"+k+"'. There is no 'host' and no defaultUrl specified.");}if(!this._oHost&&d){return Promise.resolve(d);}p=U.timeoutPromise(this._oHost.getDestination(n,this._oCard));if(d){return p.catch(function(m){L.error(m+" Fallback to default url.");return d;});}return p;};
D.prototype.hasDestination=function(s){return!!s.match(r);};
D.prototype.processString=function(s){var m=s.match(r),k;if(!m){return Promise.resolve(s);}k=m[1];return this.getUrl(k).then(function(u){return this._replaceUrl(s,k,u);}.bind(this));};
D.prototype._replaceUrl=function(s,k,u){var S=u.trim().replace(/\/$/,"");return s.replace("{{destinations."+k+"}}",S);};
return D;});
sap.ui.predefine('sap/ui/integration/util/ExtensionDataProvider',["sap/ui/integration/util/DataProvider"],function(D){"use strict";
var E=D.extend("sap.ui.integration.util.ExtensionDataProvider",{
metadata:{library:"sap.ui.integration"},
constructor:function(c,e){D.call(this,c);this._oExtension=e;}
});
E.prototype.destroy=function(){D.prototype.destroy.apply(this,arguments);this._oExtension=null;};
E.prototype.getData=function(){var e=this.getSettings().extension;if(!this._oExtension){return Promise.reject("The extension module is not loaded properly or doesn't export a correct value.");}if(!this._oExtension[e.method]){return Promise.reject("Extension doesn't implement "+e.method+" method.");}return this._oExtension[e.method].apply(this._oExtension,e.args);};
E.prototype.getDetails=function(){return"Load data from Extension. Method: "+this.getSettings().extension.method;};
return E;});
sap.ui.predefine('sap/ui/integration/util/HeaderFactory',["sap/ui/core/Core","./BaseFactory","sap/ui/integration/cards/actions/CardActions","sap/ui/integration/library","sap/m/library","sap/ui/integration/cards/NumericHeader","sap/ui/integration/cards/Header","sap/ui/integration/util/Utils","sap/m/Button"],function(C,B,a,l,L,N,H,U,b){"use strict";var A=l.CardActionArea;var c=L.ButtonType;var r=C.getLibraryResourceBundle("sap.ui.integration");
var d=B.extend("sap.ui.integration.util.HeaderFactory");
d.prototype.create=function(m,t){var o=this._oCard,i=o.getOpener(),e,h;m=this.createBindingInfos(m,o.getBindingNamespaces());if(i){t=this._createCloseButton();}switch(m.type){case"Numeric":h=new N(m,t);break;default:h=new H(m,t,o._oIconFormatter);break;}h.setCard(o);if(m.status&&m.status.text&&m.status.text.format){e=U.getStatusTextBindingInfo(m.status.text.format,h);if(e){h.bindProperty("statusText",e);}}h.setServiceManager(o._oServiceManager);h.setDataProviderFactory(o._oDataProviderFactory);h._setDataConfiguration(m.data);var f=new a({card:o});f.attach({area:A.Header,enabledPropertyName:"interactive",actions:m.actions,control:h});h._oActions=f;if(h._bIsEmpty){h.setVisible(t.getVisible());}if(i){h.setProperty("focusable",false);}return h;};
d.prototype._createCloseButton=function(){var o=new b({type:c.Transparent,tooltip:r.getText("CARD_DIALOG_CLOSE_BUTTON"),icon:"sap-icon://decline",press:function(){this._oCard.hide();}.bind(this)});o.addStyleClass("sapUiIntCardCloseButton");return o;};
return d;});
sap.ui.predefine('sap/ui/integration/util/JSONBindingHelper',["sap/ui/base/BindingParser","sap/ui/integration/util/BindingHelper"],function(B,a){"use strict";var b=[["ESCAPED_BINDING_START",/\\{/g,"\\{"],["ESCAPED_BINDING_END",/\\}/g,"\\}"],["BINDING_START",/{/g,"{"],["BINDING_END",/}/g,"}"]];var J={};
J.createJsonWithBindingInfos=function(v,l){if(!v){return v;}var j=this._createBindableJson(v),c=a.createBindingInfos(j,l);if(typeof c==="string"){c=this._escape(c);}return c;};
J._createBindableJson=function(v){var r;r=JSON.stringify(v,function(k,V){if(typeof V==="string"){return this._encodeBindingString(V);}return V;}.bind(this));r=this._escape(r);r=this._decodeBindingString(r);return r;};
J._escape=function(v){return B.complexParser.escape(v);};
J._encodeBindingString=function(v){b.forEach(function(c){var C=c[0],r=c[1];v=v.replace(r,C);});return v;};
J._decodeBindingString=function(v){b.forEach(function(c){var C=c[0],s=c[2];v=v.replace(new RegExp(C,"g"),s);});return v;};
return J;});
sap.ui.predefine('sap/ui/integration/util/LoadingProvider',["../cards/ListContentRenderer","sap/ui/integration/library","sap/ui/core/Element","sap/f/cards/loading/GenericPlaceholder","sap/f/cards/loading/ListPlaceholder","sap/f/cards/loading/CalendarPlaceholder","sap/f/cards/loading/ObjectPlaceholder","sap/f/cards/loading/TablePlaceholder","../cards/TableContentRenderer"],function(L,l,E,G,a,C,O,T,b){"use strict";
var c=E.extend("sap.ui.integration.util.LoadingProvider",{metadata:{library:"sap.ui.integration",properties:{loading:{type:"boolean",defaultValue:false}}}});
c.prototype.setLoading=function(d){if(this.isDataProviderJson()||(this._bAwaitPagination&&!d)){return this;}return this.setProperty("loading",d);};
c.prototype.isDataProviderJson=function(){return!!(this._oDataProvider&&this._oDataProvider.getSettings()&&this._oDataProvider.getSettings()["json"]);};
c.prototype.setDataProvider=function(d){this._oDataProvider=d;};
c.prototype.destroy=function(){if(this._oContentPlaceholder){this._oContentPlaceholder.destroy();this._oContentPlaceholder=null;}this._oDataProvider=null;E.prototype.destroy.apply(this,arguments);};
c.prototype.createContentPlaceholder=function(o,t,d){switch(t){case"List":this._oContentPlaceholder=new a({maxItems:d?d.getContentPageSize(o)||2:2,item:o.item,itemHeight:L.getItemMinHeight(o,d||this)+"rem"});break;case"Calendar":this._oContentPlaceholder=new C({maxItems:o.maxItems?parseInt(o.maxItems):2,maxLegendItems:o.maxLegendItems?parseInt(o.maxLegendItems):2,item:o.item?o.item.template:{},legendItem:o.legendItem?o.legendItem.template:{}});break;case"Object":this._oContentPlaceholder=new O();break;case"Table":this._oContentPlaceholder=new T({maxItems:d?d.getContentPageSize(o)||2:2,itemHeight:b.getItemMinHeight(o,d||this)+"rem",columns:o.row?o.row.columns.length||2:2});break;default:this._oContentPlaceholder=new G();}return this._oContentPlaceholder;};
return c;});
sap.ui.predefine('sap/ui/integration/util/Manifest',["sap/ui/base/Object","sap/ui/core/Manifest","sap/base/util/deepClone","sap/base/util/deepExtend","sap/base/util/each","sap/base/util/isPlainObject","sap/base/util/isEmptyObject","sap/base/Log","./ParameterMap","sap/ui/integration/util/CardMerger"],function(B,C,d,a,e,b,c,L,P,f){"use strict";var M="/{SECTION}/configuration/parameters",g="/{SECTION}/configuration/filters",h="/{SECTION}",A="/sap.app/dataSources",R=/\{\{(?!parameters.)(?!destinations.)(?!csrfTokens.)([^\}\}]+)\}\}|\{i18n>([^\}]+)\}/g;
var k=B.extend("sap.ui.integration.util.Manifest",{constructor:function(s,i,j,l){B.call(this);this._aChanges=l;this._sSection=s;this.PARAMETERS=M.replace("{SECTION}",s);this.FILTERS=g.replace("{SECTION}",s);this.CONFIGURATION=h.replace("{SECTION}",s);if(i){var O={},t;O.process=false;this._oInitialJson=d(i,500);if(j){O.baseUrl=j;this._sBaseUrl=j;}else{L.warning("If no base URL is provided when the manifest is an object static resources cannot be loaded.");}if(this._aChanges){t=this.mergeDeltaChanges(i);}else{t=i;}this._oManifest=new C(t,O);this.oJson=this._oManifest.getRawJson();}}});
k.prototype.mergeDeltaChanges=function(i){return f.mergeCardDelta(i,this._aChanges,this._sSection);};
k.prototype.getJson=function(){return this._unfreeze(this.oJson);};
k.prototype.setJson=function(j){m(j);this.oJson=j;};
k.prototype.getInitialJson=function(){return this._oInitialJson;};
k.prototype.get=function(s){return this._unfreeze(q(this.oJson,s));};
k.prototype.getUrl=function(){return this._oManifest.resolveUri("./","manifest");};
k.prototype.getResourceBundle=function(){return this.oResourceBundle;};
k.prototype._unfreeze=function(v){if(typeof v==="object"){return JSON.parse(JSON.stringify(v));}return v;};
k.prototype.destroy=function(){this.oJson=null;this.oResourceBundle=null;if(this._oManifest){this._oManifest.destroy();}this._bIsDestroyed=true;};
k.prototype.isDestroyed=function(){return this._bIsDestroyed;};
k.prototype.load=function(s){if(!s||!s.manifestUrl){if(this._sBaseUrl&&this._oManifest){return this.loadI18n().then(function(){this.processManifest();}.bind(this));}else{if(this._oManifest){this.processManifest();}return new Promise(function(i){i();});}}return C.load({manifestUrl:s.manifestUrl,async:true,processJson:function(i){this._oInitialJson=d(i,500);if(this._aChanges){return this.mergeDeltaChanges(i);}return i;}.bind(this)}).then(function(i){this._oManifest=i;this.oJson=this._oManifest.getRawJson();return this.loadI18n().then(function(){this.processManifest();}.bind(this));}.bind(this));};
k.prototype.loadI18n=function(){var H=false;C.processObject(this._oManifest.getJson(),function(O,K,v){if(!H&&v.match(R)){H=true;}});if(this.get("/sap.app/i18n")){H=true;}if(!H){return Promise.resolve();}return this._oManifest._loadI18n(true).then(function(i){this.oResourceBundle=i;}.bind(this));};
k.prototype.processManifest=function(){var i=0,j=15,u=a({},this._oManifest.getRawJson()),D=this.get(A);p(u,this.oResourceBundle,i,j,this._oCombinedParams,D,this._oCombinedFilters);this.setJson(u);};
function m(O){if(O&&typeof O==='object'&&!Object.isFrozen(O)){Object.freeze(O);for(var K in O){if(O.hasOwnProperty(K)){m(O[K]);}}}}
function n(v){return(typeof v==="string")&&v.match(R)&&v.indexOf("{{")===0&&v.indexOf("}}")===v.length-2;}
function o(v){return(typeof v==="string")&&(v.indexOf("{{parameters.")>-1||v.indexOf("{{dataSources")>-1||v.indexOf("{{filters.")>-1);}
k._processPlaceholder=function(s,i,D,F){var j=P.processPredefinedParameter(s),v,l;if(!c(i)){for(var t in i){v=i[t].value;l="{{parameters."+t;j=r(j,v,l);}}if(D){j=r(j,D,"{{dataSources");}if(F){j=r(j,F,"{{filters");}return j;};
function r(s,v,i){if(b(v)||Array.isArray(v)){for(var j in v){s=r(s,v[j],i+"."+j);}}else if(s.includes(i+"}}")){s=s.replace(new RegExp(i+"}}",'g'),v);}return s;}
function p(O,i,j,l,s,D,F){if(j===l){return;}if(Array.isArray(O)){O.forEach(function(I,u,v){if(typeof I==="object"){p(I,i,j+1,l,s,D,F);}else if(o(I)){v[u]=k._processPlaceholder(I,s,D,F);}else if(n(I)&&i){v[u]=i.getText(I.substring(2,I.length-2));}},this);}else{for(var t in O){if(typeof O[t]==="object"){p(O[t],i,j+1,l,s,D,F);}else if(o(O[t])){O[t]=k._processPlaceholder(O[t],s,D,F);}else if(n(O[t])&&i){O[t]=i.getText(O[t].substring(2,O[t].length-2));}}}}
function q(O,s){if(s==="/"){return O;}if(O&&s&&typeof s==="string"&&s[0]==="/"){var j=s.substring(1).split("/"),t;for(var i=0,l=j.length;i<l;i++){t=j[i];O=O.hasOwnProperty(t)?O[t]:undefined;if(O===null||typeof O!=="object"){if(i+1<l&&O!==undefined){O=undefined;}break;}}return O;}return O&&O[s];}
k.prototype.processFilters=function(i){if(!this._oManifest){return;}var j=this.get(this.FILTERS),l={};if(i.size&&!j){L.error("If runtime filters are set, they have to be defined in the manifest configuration as well.");return;}e(j,function(K,s){var v=i.get(K)||s.value;l[K]=v;});this._oCombinedFilters=l;this.processManifest();};
k.prototype.processParameters=function(i){if(!this._oManifest){return;}var j=this.get(this.PARAMETERS);if(!c(i)&&!j){L.error("If parameters property is set, parameters should be described in the manifest");return;}this._oCombinedParams=this._syncParameters(i,j);this.processManifest();};
k.prototype.getProcessedParameters=function(i){var j=this.get(this.PARAMETERS),l=this._syncParameters(i,j);p(l,this.oResourceBundle,0,15,i);return l;};
k.prototype._syncParameters=function(l,s){if(c(l)){return s;}var t=d(s||{},500),u=Object.getOwnPropertyNames(l),v=Object.getOwnPropertyNames(t);for(var i=0;i<v.length;i++){for(var j=0;j<u.length;j++){if(v[i]===u[j]){t[v[i]].value=l[u[j]];}}}return t;};
k.prototype.findDataSections=function(s){var i=[],K;if(!s){s=this.get(this.CONFIGURATION);}if(!b(s)){return[];}if(s.data){i.push(s.data);}for(K in s){if(s[K]){i=i.concat(this.findDataSections(s[K]));}}return i;};
return k;});
sap.ui.predefine('sap/ui/integration/util/ManifestResolver',["sap/ui/integration/util/BindingHelper","sap/ui/integration/util/BindingResolver","sap/ui/integration/util/Utils"],function(B,a,U){"use strict";var M={};
M.resolveCard=function(c){c.startManifestProcessing();return M._awaitReadyEvent(c).then(M._handleCardReady);};
M._awaitReadyEvent=function(c){if(c.isReady()){return Promise.resolve(c);}return new Promise(function(r,b){c.attachEvent("_ready",function(e){r(c);});});};
M._handleCardReady=function(c){var m=c.getManifestEntry("/");var f=[];var e=c.getFundamentalErrors();if(e.length){return Promise.reject(e.join(" "));}if(c.getAggregation("_filterBar")){f=c.getAggregation("_filterBar")._getFilters().map(function(F){return["/sap.card/configuration/filters/"+F.getKey(),F];});}f.concat([["/sap.card/content",c.getCardContent()],["/sap.card/header",c.getCardHeader()],["/sap.card",c]]).filter(function(p){return!!c.getManifestEntry(p[0]);}).forEach(function(p){var s=p[0];var C=p[1];var S;if(C.getStaticConfiguration){S=C.getStaticConfiguration();}else if(C._oCardOriginalContent&&C._oCardOriginalContent.getStaticConfiguration){S=C._oCardOriginalContent.getStaticConfiguration();}else{S=U.getNestedPropertyValue(m,s);}if(S.data){var d=S.data.path;delete S.data;S=B.createBindingInfos(S,c.getBindingNamespaces());S=a.resolveValue(S,C,d);}U.setNestedPropertyValue(m,s,S);});return JSON.stringify(m);};
return M;});
sap.ui.predefine('sap/ui/integration/util/ParameterMap',['sap/ui/core/Core'],function(C){"use strict";var P={};var p={"{{parameters.NOW_ISO}}":g,"{{parameters.TODAY_ISO}}":a,"{{parameters.LOCALE}}":b};
function g(){return new Date().toISOString();}
function a(){return new Date().toISOString().slice(0,10);}
function b(){return C.getConfiguration().getLocale().toString();}
P.processPredefinedParameter=function(s){var r;Object.keys(p).forEach(function(e){r=new RegExp(e,'g');if(s.indexOf(e)>-1){s=s.replace(r,p[e]());}});return s;};
P.getParamsForModel=function(){var o={};for(var c in p){var i=c.indexOf("."),I=c.indexOf("}");o[c.substring(i+1,I)]=p[c]();}return o;};
return P;});
sap.ui.predefine('sap/ui/integration/util/RequestDataProvider',["sap/ui/integration/util/DataProvider","sap/ui/thirdparty/jquery","sap/base/Log","sap/ui/model/odata/v4/ODataUtils","sap/ui/core/Core"],function(D,q,L,O,C){"use strict";var R=[429,503];var m=["no-cors","same-origin","cors"];var M=["GET","POST","HEAD","PUT","PATCH","DELETE","OPTIONS"];
var a=D.extend("sap.ui.integration.util.RequestDataProvider",{metadata:{properties:{allowCustomDataType:{type:"boolean",defaultValue:false}},associations:{host:{type:"sap.ui.integration.Host",multiple:false}}}});
a.prototype.destroy=function(){if(this._iRetryAfterTimeout){clearTimeout(this._iRetryAfterTimeout);}D.prototype.destroy.apply(this,arguments);};
a.prototype.getLastJQXHR=function(){return this._lastJQXHR;};
a.prototype.getData=function(){var r=this.getSettings().request,p=Promise.resolve(r);if(this._oDestinations){p=this._oDestinations.process(r);}if(this._oCsrfTokenHandler){p=p.then(function(o){return this._oCsrfTokenHandler.resolveToken(o);}.bind(this));}p=p.then(this._fetch.bind(this));if(this._oCsrfTokenHandler){p=p.catch(this._handleExpiredToken.bind(this));}return p;};
a.prototype._handleExpiredToken=function(e){if(this._oCsrfTokenHandler.isExpiredToken(this.getLastJQXHR())){this._oCsrfTokenHandler.resetTokenByRequest(this.getSettings().request);return this.getData().catch(function(e){throw e;});}throw e;};
a.prototype._fetch=function(r){var s="Invalid request",S=this._oSettings;if(!r||!r.url){L.error(s);return Promise.reject(s);}if(!this.getAllowCustomDataType()&&r.dataType){L.error("To specify dataType property in the Request Configuration, first set allowCustomDataType to 'true'.");}var d=r.parameters,u=r.url,b=(this.getAllowCustomDataType()&&r.dataType)||"json",h=r.headers||{},B=r.batch,o,c;if(!u.startsWith("/")){u=this._getRuntimeUrl(r.url);}if(this._hasHeader(r,"Content-Type","application/json")){d=JSON.stringify(r.parameters);}if(B){o=O.serializeBatchRequest(Object.values(B));b="text";d=o.body;h=Object.assign({},h,o.headers);}h=this._prepareHeaders(h,S);c={"mode":r.mode||"cors","url":u,"method":(r.method&&r.method.toUpperCase())||"GET","dataType":b,"data":d,"headers":h,"timeout":15000,"xhrFields":{"withCredentials":!!r.withCredentials}};if(!d){delete c.data;}if(!this._isValidRequest(c)){L.error(s);return Promise.reject(s);}return this._request(c).then(function(v){var d=v[0];if(B){return this._deserializeBatchResponse(B,d);}return d;}.bind(this));};
a.prototype._request=function(r,n){return new Promise(function(b,c){q.ajax(r).done(function(d,t,j){if(this.bIsDestroyed){c("RequestDataProvider is already destroyed before the response is received.");return;}this._lastJQXHR=j;b([d,j]);}.bind(this)).fail(function(j,t,e){var E=[e,j];if(this.bIsDestroyed){c("RequestDataProvider is already destroyed while error in the response occurred.");return;}this._lastJQXHR=j;if(n){c(E);return;}this._retryRequest(E,r).then(b,c);}.bind(this));}.bind(this));};
a.prototype._retryRequest=function(e,r){var j=e[1],i=this._getRetryAfter(j);if(!R.includes(j.status)){return Promise.reject(e);}if(!i){L.warning("Request could be retried, but Retry-After header or configuration parameter retryAfter are missing.");return Promise.reject(e);}if(this._iRetryAfterTimeout){return Promise.reject("The retry was already scheduled.");}return new Promise(function(b,c){this._iRetryAfterTimeout=setTimeout(function(){this._request(r,true).then(b,c);this._iRetryAfterTimeout=null;}.bind(this),i*1000);}.bind(this));};
a.prototype._getRetryAfter=function(j){var r=this.getSettings().request,v=j.getResponseHeader("Retry-After")||r.retryAfter;if(!v){return 0;}if(Number.isInteger(v)){return v;}if(!v.match(/^\d+$/)){L.error("Only number of seconds is supported as value of retry-after. Given '"+v+"'.");return 0;}return parseInt(v);};
a.prototype._hasHeader=function(r,h,v){if(!r.headers){return false;}for(var k in r.headers){if(k.toLowerCase()===h.toLowerCase()&&r.headers[k]===v){return true;}}return false;};
a.prototype._isValidRequest=function(r){if(!r){return false;}if(m.indexOf(r.mode)===-1){return false;}if(M.indexOf(r.method)===-1){return false;}if(typeof r.url!=="string"){return false;}return true;};
a.prototype._deserializeBatchResponse=function(b,r){return new Promise(function(c,d){var s=this.getLastJQXHR().getResponseHeader("Content-Type"),B=O.deserializeBatchResponse(s,r,false),k=Object.keys(b),e={};k.forEach(function(K,i){var f=B[i],o;if(!f){d("Batch responses do not match the batch requests.");return;}o=new Response(f.responseText,f);if(!o.ok){d("One of batch requests fails with '"+o.status+" "+o.statusText+"'");return;}e[K]=f.responseText?JSON.parse(f.responseText):{};});c(e);}.bind(this));};
a.prototype._prepareHeaders=function(h,s){var c=C.byId(this.getCard()),H=C.byId(this.getHost());if(H&&H.modifyRequestHeaders){return H.modifyRequestHeaders(Object.assign({},h),s,c);}return h;};
a.prototype.getDetails=function(){return"Backend interaction - load data from URL: "+this.getSettings().request.url;};
return a;});
sap.ui.predefine('sap/ui/integration/util/ServiceDataProvider',["sap/ui/integration/util/DataProvider"],function(D){"use strict";
var S=D.extend("sap.ui.integration.util.ServiceDataProvider",{metadata:{library:"sap.ui.integration",interfaces:["sap.ui.integration.util.IServiceDataProvider"]}});
S.prototype.destroy=function(){this._oDataServicePromise=null;if(this._oServiceManager){this._oServiceManager=null;}D.prototype.destroy.apply(this,arguments);};
S.prototype.createServiceInstances=function(s){this._oServiceManager=s;if(!this._oSettings||!this._oSettings.service){return;}var v=this._oSettings.service;if(v&&typeof v==="object"){v=v.name;}this._createServiceInstance(v);};
S.prototype._createServiceInstance=function(s){var d=this._oSettings;this._oDataServicePromise=this._oServiceManager.getService(s).then(function(o){o.attachDataChanged(function(e){this.fireDataChanged({data:e.data});}.bind(this),d.service.parameters);return o;}.bind(this));};
S.prototype.getData=function(){var d=this.getSettings();var s=d.service;return new Promise(function(r,a){if(s&&this._oDataServicePromise){this._oDataServicePromise.then(function(o){o.getData().then(function(b){r(b);}).catch(function(){a("Card data service failed to get data.");});}).catch(function(){a("Card data service unavailable.");});}else{a("Could not get card data.");}}.bind(this));};
return S;});
sap.ui.predefine('sap/ui/integration/util/ServiceManager',["sap/ui/base/EventProvider","sap/base/Log"],function(E,L){"use strict";
var S=E.extend("sap.ui.integration.util.ServiceManager",{constructor:function(s,o){if(!s){throw new Error("Missing manifest services reference!");}if(!o){throw new Error("Missing context object");}E.call(this);this._mServiceFactoryReferences=s;this._mServices={};this._oServiceContext=o;this._initAllServices();}});
S.prototype._initAllServices=function(){for(var s in this._mServiceFactoryReferences){this._initService(s);}};
S.prototype._initService=function(n){var s=this._mServices[n]||{};s.promise=S._getService(this._oServiceContext,n,this._mServiceFactoryReferences).then(function(o){s.instance=o;}).catch(function(e){L.error(e.message);});this._mServices[n]=s;};
S.prototype.getService=function(s){var e="Invalid service";return new Promise(function(r,R){if(!s||!this._mServices[s]||!Object.keys(this._mServices[s])){R(e);return;}this._mServices[s].promise.then(function(){if(this._mServices[s].instance){r(this._mServices[s].instance);}else{R(e);}}.bind(this)).catch(R);}.bind(this));};
S.prototype.destroy=function(){this._mServices=null;};
S._getService=function(i,n,s){return new Promise(function(r,R){var o,f;if(i.bIsDestroyed){R(new Error("Service "+n+" could not be loaded as the requestor "+i.getMetadata().getName()+" was destroyed."));return;}if(!s){R(new Error("No Services declared"));return;}else{o=s[n];}if(!o||!o.factoryName){R(new Error("No Service '"+n+"' declared or factoryName missing"));return;}else{f=o.factoryName;}sap.ui.require(["sap/ui/core/service/ServiceFactoryRegistry"],function(a){var b=a.get(f);if(b){b.createInstance({scopeObject:i,scopeType:"component",settings:o.settings||{}}).then(function(c){if(c.getInterface){r(c.getInterface());}else{r(c);}}).catch(R);}else{var e=new Error("ServiceFactory '"+f+"' for Service '"+n+"' not found in ServiceFactoryRegistry");e._optional=o.optional;R(e);}});});};
return S;});
sap.ui.predefine('sap/ui/integration/util/SkeletonCard',["sap/ui/integration/widgets/Card","sap/ui/integration/util/ManifestResolver"],function(C,M){"use strict";
var S=C.extend("sap.ui.integration.util.SkeletonCard",{metadata:{library:"sap.ui.integration"}});
S.prototype.resolveManifest=function(){return M.resolveCard(this);};
S.prototype.isSkeleton=function(){return true;};
S.prototype._createCard=function(s){return new S(s);};
return S;});
sap.ui.predefine('sap/ui/integration/util/Utils',["sap/ui/core/Core","sap/ui/core/Locale","sap/base/strings/formatMessage",'sap/base/util/isPlainObject',"sap/base/Log"],function(C,L,f,a,b){"use strict";var U={};
U.isJson=function(t){if(typeof t!=="string"){return false;}try{JSON.parse(t);return true;}catch(e){return false;}};
U.processFormatArguments=function(e,l){var F=a(e)?e:{},o=typeof e==="string"?new L(e):(l&&new L(l));return{formatOptions:F,locale:o};};
var J=1,c=2,d=3;
U.parseJsonDateTime=function(D){var r=/^\/Date\((-?\d+)(\+|-)?(\d+)?\)\/$/,j;if(typeof D==="string"){j=r.exec(D);}if(j){var R=new Date(parseInt(j[J]));if(j[c]){var m=parseInt(j[d]);if(j[c]==="-"){m=-m;}var i=R.getUTCMinutes();R.setUTCMinutes(i-m);}if(isNaN(R.valueOf())){b.error("Invalid JSON Date format - "+D);}else{D=R;}}return D;};
U.DEFAULT_PROMISE_TIMEOUT=5000;
U.timeoutPromise=function(p,t){var e;if(t===undefined){t=U.DEFAULT_PROMISE_TIMEOUT;}e=new Promise(function(r,g){setTimeout(function(){g("The promise was not resolved after "+t+" ms so it timed out.");},t);});return Promise.race([p,e]);};
U.hasFalsyValueAsString=function(s){return typeof s=="string"&&["null","false","undefined",""].indexOf(s.trim())>-1;};
U.setNestedPropertyValue=function(o,p,v){var P=p.substring(1).split("/"),s;for(var i=0;i<P.length-1;i++){s=P[i];o=o.hasOwnProperty(s)?o[s]:undefined;if(o===null||typeof o!=="object"){break;}}o[P[P.length-1]]=v;};
U.getNestedPropertyValue=function(o,p){var P=p.substring(1).split("/"),s;for(var i=0;i<P.length;i++){s=P[i];o=o.hasOwnProperty(s)?o[s]:undefined;if(o===null||typeof o!=="object"){break;}}return o;};
U.makeUndefinedValuesNull=function(D){if(Array.isArray(D)){return D.map(function(v){if(v===undefined){return null;}if(typeof v==="object"){return U.makeUndefinedValuesNull(v);}return v;});}for(var k in D){if(D.hasOwnProperty(k)){if(D[k]===undefined){D[k]=null;}else if(typeof D[k]==="object"){D[k]=U.makeUndefinedValuesNull(D[k]);}}}return D;};
U.isBindingSyntaxComplex=function(){if(U._isBindingSyntaxComplex===undefined){U._isBindingSyntaxComplex=C.getConfiguration().getCompatibilityVersion("sapCoreBindingSyntax").compareTo("1.26")>=0;}return U._isBindingSyntaxComplex;};
U.generateUuidV4=function(){var u='xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g,function(p){var r=Math.random()*16|0;if(p==='y'){r=r&0x3|0x8;}return r.toString(16);});return u;};
U.getStatusTextBindingInfo=function(F){var B;if(F.parts&&F.translationKey&&F.parts.length===2){B={parts:[F.translationKey,F.parts[0].toString(),F.parts[1].toString()],formatter:function(t,p,P){var s=p||F.parts[0];var e=P||F.parts[1];if(Array.isArray(p)){s=p.length;}if(Array.isArray(P)){e=P.length;}var i=parseFloat(s)||0;var g=parseFloat(e)||0;return f(t,[i,g]);}};}return B;};
return U;});
sap.ui.predefine('sap/ui/integration/util/loadCardEditor',function(){"use strict";
function l(){return new Promise(function(r,R){sap.ui.require(["sap/ui/integration/designtime/cardEditor/BASEditor"],r,R);});}
return function(){return sap.ui.loader._.loadJSResourceAsync("sap-ui-integration-cardEditor.js").then(l).catch(l);};});
sap.ui.predefine('sap/ui/integration/widgets/Card',["./CardRenderer","../cards/Footer","../controls/ActionsToolbar","sap/ui/base/Interface","sap/ui/thirdparty/jquery","sap/ui/core/Core","sap/ui/integration/util/Manifest","sap/ui/integration/util/ServiceManager","sap/base/Log","sap/base/util/merge","sap/base/util/deepEqual","sap/base/util/each","sap/ui/integration/util/DataProviderFactory","sap/ui/model/json/JSONModel","sap/ui/integration/model/ObservableModel","sap/ui/model/resource/ResourceModel","sap/ui/integration/model/ContextModel","sap/base/util/LoaderExtensions","sap/f/CardBase","sap/f/library","sap/ui/integration/library","sap/ui/integration/util/Destinations","sap/ui/integration/util/LoadingProvider","sap/ui/integration/util/HeaderFactory","sap/ui/integration/util/ContentFactory","sap/ui/integration/util/BindingResolver","sap/ui/integration/formatters/IconFormatter","sap/ui/integration/cards/filters/FilterBarFactory","sap/ui/integration/cards/actions/CardActions","sap/ui/integration/util/CardObserver","sap/m/IllustratedMessage","sap/m/IllustratedMessageType","sap/m/IllustratedMessageSize","sap/ui/integration/util/Utils","sap/ui/integration/util/ParameterMap","sap/ui/performance/Measurement","sap/m/HBox","sap/m/library"],function(C,F,A,I,q,a,b,S,L,m,d,c,D,J,O,R,f,g,h,l,i,j,k,H,n,B,o,p,r,s,t,u,v,U,P,M,w,x){"use strict";var y={TYPE:"/sap.card/type",DATA:"/sap.card/data",HEADER:"/sap.card/header",HEADER_POSITION:"/sap.card/headerPosition",CONTENT:"/sap.card/content",FOOTER:"/sap.card/footer",SERVICES:"/sap.ui5/services",APP_TYPE:"/sap.app/type",PARAMS:"/sap.card/configuration/parameters",DESTINATIONS:"/sap.card/configuration/destinations",CSRF_TOKENS:"/sap.card/configuration/csrfTokens",FILTERS:"/sap.card/configuration/filters",ERROR_MESSAGES:"/sap.card/configuration/messages"};var z=["parameters","filters","paginator","form","context","i18n"];var E=["visibleItems","allItems"];var G=l.cards.HeaderPosition;var K=i.CardArea;var N=i.CardDataMode;var Q="Card is destroyed!";var T=x.FlexRendertype;var V=x.FlexJustifyContent;var W=x.FlexAlignItems;var X="module:";
function Y(){if(performance&&performance.now){return"Start since page load: "+performance.now();}return"";}
var Z=h.extend("sap.ui.integration.widgets.Card",{
metadata:{library:"sap.ui.integration",properties:{referenceId:{type:"string",defaultValue:""},manifest:{type:"any",defaultValue:""},parameters:{type:"object",defaultValue:null},dataMode:{type:"sap.ui.integration.CardDataMode",group:"Behavior",defaultValue:N.Active},baseUrl:{type:"sap.ui.core.URI",defaultValue:null},manifestChanges:{type:"object[]"}},aggregations:{actionDefinitions:{type:"sap.ui.integration.ActionDefinition",multiple:true,forwarding:{getter:"_getActionsToolbar",aggregation:"actionDefinitions"}},_header:{type:"sap.f.cards.IHeader",multiple:false,visibility:"hidden"},_filterBar:{type:"sap.ui.integration.cards.filters.FilterBar",multiple:false,visibility:"hidden"},_content:{type:"sap.ui.core.Control",multiple:false,visibility:"hidden"},_footer:{type:"sap.ui.core.Control",multiple:false,visibility:"hidden"},_extension:{type:"sap.ui.integration.Extension",multiple:false,visibility:"hidden"},_loadingProvider:{type:"sap.ui.core.Element",multiple:false,visibility:"hidden"}},events:{action:{allowPreventDefault:true,parameters:{actionSource:{type:"sap.ui.core.Control"},manifestParameters:{type:"object"},parameters:{type:"object"},type:{type:"sap.ui.integration.CardActionType"}}},configurationChange:{parameters:{changes:{type:"object"}}},manifestReady:{},manifestApplied:{}},associations:{host:{},openerReference:{visibility:"hidden"}}},
renderer:C
});
Z.prototype.init=function(){h.prototype.init.call(this);this.setAggregation("_loadingProvider",new k());this._oIntegrationRb=a.getLibraryResourceBundle("sap.ui.integration");this._initModels();this._oContentFactory=new n(this);this._oCardObserver=new s(this);this._bFirstRendering=true;this._aFundamentalErrors=[];this._sPerformanceId="UI5 Integration Cards - "+this.getId()+"---";this._fnOnCardReady=function(){this._bCardReady=true;}.bind(this);this._oLimitedInterface=new I(this,["getDomRef","setVisible","getParameters","getCombinedParameters","getManifestEntry","resolveDestination","request","refresh","refreshData","showMessage","getBaseUrl","getRuntimeUrl","getTranslatedText","getModel","triggerAction","addActionDefinition","removeActionDefinition","insertActionDefinition","getActionDefinition","indexOfActionDefinition","destroyActionDefinition","showLoadingPlaceholders","hideLoadingPlaceholders","showCard","hide","getOpener"]);};
Z.prototype._initModels=function(){this.setModel(new J());z.forEach(function(e){var $;switch(e){case"context":$=new f();break;case"i18n":$=new R({bundle:this._oIntegrationRb});break;case"parameters":$=new J(P.getParamsForModel());break;default:$=new J();break;}this.setModel($,e);}.bind(this));};
Z.prototype.clone=function(){var e=h.prototype.clone.apply(this,arguments);e._initModels();return e;};
Z.prototype._initReadyState=function(){this._aReadyPromises=[];this._awaitEvent("_headerReady");this._awaitEvent("_filterBarReady");this._awaitEvent("_contentReady");this._awaitEvent("_cardReady");Promise.all(this._aReadyPromises).then(function(){this._bReady=true;this.fireEvent("_ready");}.bind(this));this.attachEventOnce("_cardReady",this._fnOnCardReady);};
Z.prototype._clearReadyState=function(){this._bReady=false;this._bCardReady=false;this._aReadyPromises=[];this.detachEvent("_cardReady",this._fnOnCardReady);};
Z.prototype.onBeforeRendering=function(){if(this.getDataMode()!==N.Active){return;}this.startManifestProcessing();};
Z.prototype.onAfterRendering=function(){if(M.getActive()&&this._isManifestReady){if(!M.getMeasurement(this._sPerformanceId+"firstRenderingWithStaticData").end){M.end(this._sPerformanceId+"firstRenderingWithStaticData");}if(this._bCardReady&&!M.getMeasurement(this._sPerformanceId+"firstRenderingWithDynamicData").end){M.end(this._sPerformanceId+"firstRenderingWithDynamicData");}}var e=this.getDomRef();if(this.getDataMode()===N.Auto&&this._bFirstRendering){this._oCardObserver.oObserver.observe(e);}this._bFirstRendering=false;};
Z.prototype.startManifestProcessing=function(){if(!U.isBindingSyntaxComplex()){this._logFundamentalError("Cannot parse manifest. Complex binding syntax is not enabled - "+"To enable it, set the 'compatVersion' configuration option to 'edge', e.g.: data-sap-ui-compatVersion='edge' - "+"sap.ui.integration.widgets.Card");}if(this._bApplyManifest||this._bApplyParameters){this._clearReadyState();this._initReadyState();}var e=this.getManifest();if(e&&this._bApplyManifest){this._cleanupOldManifest();this.createManifest(e,this.getBaseUrl());}if(!this._bApplyManifest&&this._bApplyParameters){this._oCardManifest.processParameters(this._getContextAndRuntimeParams());this._applyManifestSettings();}this._bApplyManifest=false;this._bApplyParameters=false;this._refreshActionsMenu();};
Z.prototype.setManifest=function(e){if(!d(this.getProperty("manifest"),e)){this.destroyActionDefinitions();}if(!e){this._destroyManifest();}this._bApplyManifest=true;this.setProperty("manifest",e);return this;};
Z.prototype.setManifestChanges=function(e){this.setProperty("manifestChanges",e);this._bApplyManifest=true;return this;};
Z.prototype.setParameters=function(e){this.setProperty("parameters",e);this._bApplyParameters=true;return this;};
Z.prototype.setParameter=function(e,$){var _=this.getParameters()||{};_[e]=$;this.setParameters(_);return this;};
Z.prototype.setHost=function(e){this.setAssociation("host",e);var $=this.getHostInstance();if(e&&!$){L.error("Host with id '"+e+"' is not available during card initialization. It must be available for host specific features to work.","Make sure that the host already exists, before assigning it to the card.","sap.ui.integration.widgets.Card");return this;}this.getModel("context").setHost($);if(this._oDestinations){this._oDestinations.setHost($);}if(this._oDataProviderFactory){this._oDataProviderFactory.setHost($);}if($&&$.bUseExperimentalCaching){this.addStyleClass("sapFCardExperimentalCaching");}else{this.removeStyleClass("sapFCardExperimentalCaching");}return this;};
Z.prototype.createManifest=function($,_){var a1={};this._isManifestReady=false;if(typeof $==="string"){a1.manifestUrl=$;$=null;}if(this._oCardManifest){this._oCardManifest.destroy();}M.start(this._sPerformanceId+"initManifest","Load and initialize manifest. "+Y());M.start(this._sPerformanceId+"firstRenderingWithStaticData","First rendering with static data (includes initManifest). "+Y());M.start(this._sPerformanceId+"firstRenderingWithDynamicData","First rendering with dynamic card level data (includes firstRenderingWithStaticData). "+Y());this._oCardManifest=new b("sap.card",$,_,this.getManifestChanges());this._oCardManifest.load(a1).then(function(){if(this.bIsDestroyed){throw new Error(Q);}M.end(this._sPerformanceId+"initManifest");this._registerManifestModulePath();this._isManifestReady=true;this.fireManifestReady();return this._loadExtension();}.bind(this)).then(this._applyManifest.bind(this)).catch(function(e){if(e.message!==Q){this._applyManifest();return;}this._logFundamentalError(e.message);}.bind(this));};
Z.prototype._loadExtension=function(){var e=this._oCardManifest.get("/sap.card/extension"),$;if(!e){return null;}if(e.startsWith(X)){$=e.replace(X,"");}else{$=this._oCardManifest.get("/sap.app/id").replace(/\./g,"/")+"/"+e;}return new Promise(function(_,a1){sap.ui.require([$],function(b1){var c1=new b1();c1._setCard(this,this._oLimitedInterface);this.setAggregation("_extension",c1);_();}.bind(this),function(b1){this._logFundamentalError("Failed to load "+$+". Check if the path is correct. Reason: "+b1);a1(b1);}.bind(this));}.bind(this));};
Z.prototype._logFundamentalError=function(e){L.error(e);this._aFundamentalErrors.push(e);};
Z.prototype.getFundamentalErrors=function(){return this._aFundamentalErrors;};
Z.prototype._applyManifest=function(){var e=this._oCardManifest;if(!e.get("/sap.card")){this._logFundamentalError("There must be a 'sap.card' section in the manifest.");}if(e&&e.getResourceBundle()){this._enhanceI18nModel(e.getResourceBundle());}this.getModel("context").resetHostProperties();if(this._hasContextParams()){this._resolveContextParams().then(function($){this._oContextParameters=$;this._applyManifestWithParams();}.bind(this));return;}this._applyManifestWithParams();};
Z.prototype._applyManifestWithParams=function(){var e=this._oCardManifest,$=this._getContextAndRuntimeParams();e.processParameters($);this._prepareToApplyManifestSettings().then(function(){this._applyManifestSettings();}.bind(this));};
Z.prototype._enhanceI18nModel=function(e){var $=this.getModel("i18n"),_;_=new R({bundle:e,enhanceWith:[this._oIntegrationRb]});this.setModel(_,"i18n");$.destroy();};
Z.prototype._hasContextParams=function(){var e=this._oCardManifest.get(y.PARAMS),$,_;for($ in e){_=e[$].value;if(typeof _==="string"&&_.indexOf("{context>")!==-1){return true;}}return false;};
Z.prototype._resolveContextParams=function(){var e=this.getModel("context"),$=this._oCardManifest.get(y.PARAMS),_={},a1,b1;for(a1 in $){b1=$[a1].value;if(typeof b1==="string"&&b1.indexOf("{context>")!==-1){_[a1]=b1;}}B.resolveValue(_,this,"/");return e.waitForPendingProperties().then(function(){return B.resolveValue(_,this,"/");}.bind(this));};
Z.prototype._getContextAndRuntimeParams=function(){var e=this._oContextParameters||{},$=this.getParameters()||{};return m(e,$);};
Z.prototype._awaitEvent=function(e){this._aReadyPromises.push(new Promise(function($){this.attachEventOnce(e,function(){$();});}.bind(this)));};
Z.prototype.isReady=function(){return this._bReady;};
Z.prototype.refresh=function(){if(this.getDataMode()===N.Active){this._bApplyManifest=true;this.invalidate();}};
Z.prototype.refreshData=function(){if(!this.isReady()){return;}var e=this.getCardHeader(),$=this.getCardContent(),_=this.getAggregation("_filterBar");if(this._oDataProvider){this._oDataProvider.triggerDataUpdate();}if(e){e.refreshData();}if($&&$.isA("sap.ui.integration.cards.BaseContent")){$.refreshData();}else{this.destroyAggregation("_content");this._destroyTemporaryContent();this._applyContentManifestSettings();}if(_){_.refreshData();}};
Z.prototype._refreshActionsMenu=function(){var e=this.getCardHeader(),$=this.getHostInstance(),_=this.getAggregation("_extension"),a1=[];if(!e){return;}if($){a1=a1.concat($.getActions()||[]);}if(_){a1=a1.concat(_.getActions()||[]);}if(d(a1,this._getActionsToolbar()._aActions)){return;}this._getActionsToolbar().initializeContent(this);};
Z.prototype.exit=function(){h.prototype.exit.call(this);this._destroyManifest();this._oCardObserver.destroy();this._oCardObserver=null;this._oContentFactory=null;this._bFirstRendering=null;this._oIntegrationRb=null;if(this._oActionsToolbar){this._oActionsToolbar.destroy();this._oActionsToolbar=null;}};
Z.prototype._destroyManifest=function(){if(this._oCardManifest){this._oCardManifest.destroy();this._oCardManifest=null;}if(this._oServiceManager){this._oServiceManager.destroy();this._oServiceManager=null;}if(this._oDestinations){this._oDestinations.destroy();this._oDestinations=null;}if(this._oIconFormatter){this._oIconFormatter.destroy();this._oIconFormatter=null;}if(this._oActionsToolbar){this._oActionsToolbar.destroy();this._oActionsToolbar=null;}this.destroyAggregation("_header");this.destroyAggregation("_filterBar");this.destroyAggregation("_content");this.destroyAggregation("_footer");this._cleanupOldManifest();};
Z.prototype._cleanupOldManifest=function(){this._aReadyPromises=null;this.getModel("filters").setData({});this.getModel("parameters").setData({});this.getModel("paginator").setData({});this._oContextParameters=null;this._deregisterCustomModels();this.destroyAggregation("_extension");this._destroyTemporaryContent();if(this._oDataProviderFactory){this._oDataProviderFactory.destroy();this._oDataProviderFactory=null;this._oDataProvider=null;}};
Z.prototype._registerManifestModulePath=function(){if(!this._oCardManifest){return;}this._sAppId=this._oCardManifest.get("/sap.app/id");if(this._sAppId){g.registerResourcePath(this._sAppId.replace(/\./g,"/"),this._oCardManifest.getUrl()||"/");}else{this._logFundamentalError("Card sap.app/id entry in the manifest is mandatory");}};
Z.prototype.getManifest=function(){var e=this.getProperty("manifest");if(e&&typeof e==="object"){return q.extend(true,{},e);}return e;};
Z.prototype.getParameters=function(){var e=this.getProperty("parameters");if(e&&typeof e==="object"){return q.extend(true,{},e);}return e;};
Z.prototype.getCombinedParameters=function(){if(!this._isManifestReady){L.error("The manifest is not ready. Consider using the 'manifestReady' event.","sap.ui.integration.widgets.Card");return null;}var e=this._oCardManifest.getProcessedParameters(this._getContextAndRuntimeParams()),$={},_;for(_ in e){$[_]=e[_].value;}return $;};
Z.prototype.getManifestEntry=function(e){if(!this._isManifestReady){L.error("The manifest is not ready. Consider using the 'manifestReady' event.","sap.ui.integration.widgets.Card");return null;}return this._oCardManifest.get(e);};
Z.prototype.getManifestRawJson=function(){if(!this._oCardManifest||!this._oCardManifest){L.error("The manifest is not ready. Consider using the 'manifestReady' event.","sap.ui.integration.widgets.Card");return{};}return this._oCardManifest.getInitialJson();};
Z.prototype.getManifestWithMergedChanges=function(){if(!this._oCardManifest||!this._oCardManifest._oManifest){L.error("The manifest is not ready. Consider using the 'manifestReady' event.","sap.ui.integration.widgets.Card");return{};}return q.extend(true,{},this._oCardManifest._oManifest.getRawJson());};
Z.prototype.resolveDestination=function(e){return this._oDestinations.getUrl(e);};
Z.prototype.processDestinations=function(e){return this._oDestinations.process(e);};
Z.prototype.showMessage=function(e,$){if(this._createContentPromise){this._createContentPromise.then(function(_){_.showMessage(e,$);});}else{L.error("'showMessage' cannot be used before the card instance is ready. Consider using the event 'manifestApplied' event.","sap.ui.integration.widgets.Card");}};
Z.prototype.getTranslatedText=function(e,$,_){var a1=this.getModel("i18n"),b1;if(!a1){L.warning("There are no translations available. Either the i18n configuration is missing or the method is called too early.");return null;}b1=a1.getResourceBundle();return b1.getText(e,$,_);};
Z.prototype.getDataProviderFactory=function(){if(!this._oDataProviderFactory){L.error("The DataProviderFactory instance is not ready yet. Consider using the event 'manifestApplied'.","sap.ui.integration.widgets.Card");return null;}return this._oDataProviderFactory;};
Z.prototype.getRuntimeUrl=function(e){var $=this._sAppId,_,a1=e&&e.trim().replace(/^\//,"");if($===null){L.error("The manifest is not ready so the URL can not be resolved. Consider using the 'manifestReady' event.","sap.ui.integration.widgets.Card");return null;}if(!$||e.startsWith("http://")||e.startsWith("https://")||e.startsWith("//")){return e;}_=$.replace(/\./g,"/");return sap.ui.require.toUrl(_)+"/"+a1;};
Z.prototype._prepareToApplyManifestSettings=function(){var e=this._oCardManifest.get(y.APP_TYPE),$=this.getAggregation("_extension");if(e&&e!=="card"){L.error("sap.app/type entry in manifest is not 'card'");}if(this._oDataProviderFactory){this._oDataProviderFactory.destroy();}this._oDestinations=new j({host:this.getHostInstance(),card:this,manifestConfig:this._oCardManifest.get(y.DESTINATIONS)});this._oIconFormatter=new o({card:this});return this.processDestinations(this._oCardManifest.getJson()).then(function(_){this._oCardManifest.setJson(_);this._oDataProviderFactory=new D({host:this.getHostInstance(),extension:$,csrfTokensConfig:this._oCardManifest.get(y.CSRF_TOKENS),card:this});this._registerCustomModels();if($){$.onCardReady();}}.bind(this));};
Z.prototype._applyManifestSettings=function(){this._setParametersModelData();this._applyServiceManifestSettings();this._applyFilterBarManifestSettings();this._applyDataManifestSettings();this._applyHeaderManifestSettings();this._applyContentManifestSettings();this._applyFooterManifestSettings();this.fireManifestApplied();};
Z.prototype._setParametersModelData=function(){var e=P.getParamsForModel(),$={},_=this.getCombinedParameters(),a1;for(a1 in _){if(E.indexOf(a1)>=0){L.warning("The parameter name '"+a1+"' is reserved for cards. Can not be used for creating custom parameter.");}else{$[a1]={value:_[a1]};}}this.getModel("parameters").setData(m(e,$));};
Z.prototype._applyDataManifestSettings=function(){var e=this._oCardManifest.get(y.DATA),$;if(!e){this.fireEvent("_cardReady");return;}this.bindObject(B.resolveValue(e.path||"/",this));if(this._oDataProvider){this._oDataProvider.destroy();}this._oDataProvider=this._oDataProviderFactory.create(e,this._oServiceManager);this.getAggregation("_loadingProvider").setDataProvider(this._oDataProvider);if(e.name){$=this.getModel(e.name);}else if(this._oDataProvider){$=new O();this.setModel($);}if(!$){this.fireEvent("_cardReady");return;}$.attachEvent("change",function(){var _=this.getAggregation("_content");if(_&&!_.isA("sap.ui.integration.cards.BaseContent")){this.destroyAggregation("_content");this._destroyTemporaryContent();this._applyContentManifestSettings();}if(this._createContentPromise){this._createContentPromise.then(function(a1){a1.onDataChanged();this.onDataRequestComplete();}.bind(this));}else{this.onDataRequestComplete();}}.bind(this));if(this._oDataProvider){this._oDataProvider.attachDataRequested(function(){this._showLoadingPlaceholders();}.bind(this));this._oDataProvider.attachDataChanged(function(_){$.setData(_.getParameter("data"));});this._oDataProvider.attachError(function(_){this._handleError("Data service unavailable. "+_.getParameter("message"));this.onDataRequestComplete();}.bind(this));this._oDataProvider.triggerDataUpdate();}else{this.fireEvent("_cardReady");}};
Z.prototype._applyServiceManifestSettings=function(){var e=this._oCardManifest.get(y.SERVICES);if(!e){return;}if(!this._oServiceManager){this._oServiceManager=new S(e,this);}};
Z.prototype.getCardHeader=function(){return this.getAggregation("_header");};
Z.prototype.getCardHeaderPosition=function(){if(!this._oCardManifest){return"Top";}return this._oCardManifest.get(y.HEADER_POSITION)||G.Top;};
Z.prototype.getCardContent=function(){return this.getAggregation("_content");};
Z.prototype._getActionsToolbar=function(){if(!this._oActionsToolbar){this._oActionsToolbar=new A();this._oActionsToolbar.setCard(this);}return this._oActionsToolbar;};
Z.prototype._applyHeaderManifestSettings=function(){var e=this.createHeader();this.destroyAggregation("_header");if(!e){this.fireEvent("_headerReady");return;}e.attachEvent("_error",function($){this._handleError($.getParameter("message"));}.bind(this));this.setAggregation("_header",e);if(e.isReady()){this.fireEvent("_headerReady");}else{e.attachEvent("_ready",function(){this.fireEvent("_headerReady");}.bind(this));}};
Z.prototype._applyFilterBarManifestSettings=function(){var e=this.createFilterBar();this.destroyAggregation("_filterBar");if(!e){this.fireEvent("_filterBarReady");return;}e.attachEventOnce("_filterBarDataReady",function(){this.fireEvent("_filterBarReady");}.bind(this));this.setAggregation("_filterBar",e);};
Z.prototype._applyFooterManifestSettings=function(){var e=this.createFooter();this.destroyAggregation("_footer");if(e){this.setAggregation("_footer",e);}};
Z.prototype.getHostInstance=function(){var e=this.getHost();if(!e){return null;}return a.byId(e);};
Z.prototype._applyContentManifestSettings=function(){var e=this._oCardManifest.get(y.TYPE),$=this.getContentManifest(),_=e+" "+this._oRb.getText("ARIA_ROLEDESCRIPTION_CARD");this._ariaText.setText(_);if(!$){this.fireEvent("_contentReady");return;}this._setTemporaryContent(e,$);if(this._bIsPreviewMode){this.fireEvent("_contentReady");return;}this._createContentPromise=this.createContent({cardType:e,contentManifest:$,serviceManager:this._oServiceManager,dataProviderFactory:this._oDataProviderFactory,iconFormatter:this._oIconFormatter,appId:this._sAppId}).then(function(a1){this._setCardContent(a1);return a1;}.bind(this));this._createContentPromise.catch(function(a1){if(a1){this._handleError(a1);}}.bind(this));};
Z.prototype.createHeader=function(){var e=this._oCardManifest.get(y.HEADER),$=new H(this);return $.create(e,this._getActionsToolbar());};
Z.prototype.createFilterBar=function(){var e=this._oCardManifest.get(y.FILTERS),$=new p(this);return $.create(e,this.getModel("filters"));};
Z.prototype.createFooter=function(){var e=this._oCardManifest.get(y.FOOTER);if(!e){return null;}return F.create(this,e);};
Z.prototype.getContentManifest=function(){var e=this._oCardManifest.get(y.TYPE),$=e&&e.toLowerCase()==="component",_=this._oCardManifest.get(y.CONTENT),a1=!!_;if(a1&&!e){this._logFundamentalError("Card type property is mandatory!");return null;}if(!a1&&!$){return null;}if($){_=m(_,{componentManifest:this._oCardManifest.getJson()});}return _;};
Z.prototype.createContent=function(e){e.cardManifest=this._oCardManifest;return this._oContentFactory.create(e);};
Z.prototype._setCardContent=function(e){if(this._bShowContentLoadingPlaceholders){e.showLoadingPlaceholders();this._bShowContentLoadingPlaceholders=false;}e.attachEvent("_error",function(_){this._handleError(_.getParameter("logMessage"));}.bind(this));var $=this.getAggregation("_content");if($&&$!==this._oTemporaryContent){$.destroy();}this.setAggregation("_content",e);if(e.isReady()){this.fireEvent("_contentReady");}else{e.attachReady(function(){this.fireEvent("_contentReady");}.bind(this));}};
Z.prototype._setTemporaryContent=function(e,$){var _=this._getTemporaryContent(e,$),a1=this.getAggregation("_content");if(a1&&a1!==_){a1.destroy();}this.setAggregation("_content",_);};
Z.prototype._preserveMinHeightInContent=function(e){e.addEventDelegate({onAfterRendering:function(){if(!this._oCardManifest){return;}var $=this._oCardManifest.get(y.TYPE),_=this._oCardManifest.get(y.CONTENT),a1=this._oContentFactory.getClass($),b1;if(!a1){return;}b1=a1.getMetadata().getRenderer().getMinHeight(_,e,this);if(this.getHeight()==="auto"){e.$().css({"min-height":b1});}}},this);};
Z.prototype._destroyPreviousContent=function(e){if(e&&!e.hasStyleClass("sapFCardErrorContent")){e.destroy();if(e===this._oTemporaryContent){this._oTemporaryContent=null;}}};
Z.prototype._destroyTemporaryContent=function(){if(this._oTemporaryContent){this._oTemporaryContent.destroy();this._oTemporaryContent=null;}};
Z.prototype._handleError=function(e,$){if(!$){L.error(e,null,"sap.ui.integration.widgets.Card");}this.fireEvent("_error",{message:e});var _=this._oCardManifest.get(y.ERROR_MESSAGES),a1=this._getIllustratedMessage(_,$),b1=this._oCardManifest.get(y.CONTENT),c1=m({},this.getCardContent());if(b1){this._handleNoDataItems(c1,a1,$);this._destroyPreviousContent(this.getCardContent());this._preserveMinHeightInContent(a1);this.setAggregation("_content",a1);this.fireEvent("_contentReady");}else{this.getCardHeader().setAggregation("_error",a1);}};
Z.prototype._getIllustratedMessage=function(e,$){var _=u.UnableToLoad,a1=v.Spot,b1,c1;if($&&!e){switch(this._oCardManifest.get(y.TYPE)){case"List":case"Timeline":_=u.NoData;b1=this._oIntegrationRb.getText("CARD_NO_ITEMS_ERROR_LISTS");break;case"Table":_=u.NoEntries;b1=this._oIntegrationRb.getText("CARD_NO_ITEMS_ERROR_LISTS");break;case"Analytical":_=u.NoEntries;b1=this._oIntegrationRb.getText("CARD_NO_ITEMS_ERROR_CHART");break;case"Object":_=u.NoData;b1=this._oIntegrationRb.getText("CARD_NO_ITEMS_ERROR_CHART");break;}}if(e&&e.noData&&$){var d1=e.noData;_=u[d1.type];a1=v[d1.size];b1=d1.title;c1=d1.description;}var e1=new t({illustrationType:_,illustrationSize:a1,title:b1,description:c1?c1:" "});var f1=new w({renderType:T.Bare,justifyContent:V.Center,alignItems:W.Center,width:"100%",items:[e1]}).addStyleClass("sapFCardErrorContent");return f1;};
Z.prototype._handleNoDataItems=function(e,$,_){if(_){$._oCardOriginalContent=e;}};
Z.prototype._getTemporaryContent=function(e,$){var _=this.getAggregation("_loadingProvider");if(!this._oTemporaryContent&&_){this._oTemporaryContent=_.createContentPlaceholder($,e,this);this._oTemporaryContent.addEventDelegate({onAfterRendering:function(){if(!this._oCardManifest){return;}var a1=this._oContentFactory.getClass(e).getMetadata().getRenderer().getMinHeight($,this._oTemporaryContent,this);if(this.getHeight()==="auto"){this._oTemporaryContent.$().css({"min-height":a1});}}},this);}return this._oTemporaryContent;};
Z.prototype.setDataMode=function(e){if(this._oDataProviderFactory&&e===N.Inactive){this._oDataProviderFactory.destroy();this._oDataProviderFactory=null;}this.setProperty("dataMode",e,true);if(this.getProperty("dataMode")===N.Active){this.refresh();}if(this.getProperty("dataMode")===N.Auto){this._oCardObserver.createObserver(this);if(!this._bFirstRendering){this._oCardObserver.oObserver.observe(this.getDomRef());}}return this;};
Z.prototype.loadDesigntime=function(){if(this._oDesigntime){return Promise.resolve(this._oDesigntime);}if(!this._oCardManifest){return new Promise(function($,_){this.attachManifestReady(function(){this.loadDesigntime().then($,_);}.bind(this));}.bind(this));}var e=this._oCardManifest.get("/sap.app/id");if(!e){return Promise.reject("App id not maintained");}return new Promise(function($,_){var a1=this._oCardManifest.get("/sap.card/configuration/editor");if(a1===undefined){a1=this._oCardManifest.get("/sap.card/designtime");}var b1=this._oCardManifest.get("/sap.app/id").replace(/\./g,"/")+"/"+a1;if(b1){sap.ui.require([b1],function(c1){c1=new c1();c1._readyPromise(this._oLimitedInterface,this).then(function(){this._oDesigntime=c1;$(c1);}.bind(this));}.bind(this),function(){_({error:b1+" not found"});});}else{_();}}.bind(this));};
Z.prototype.showLoadingPlaceholders=function(e){var $;switch(e){case K.Header:$=this.getCardHeader();if($){$.showLoadingPlaceholders();}break;case K.Filters:$=this.getAggregation("_filterBar");if($){$.showLoadingPlaceholders();}break;case K.Content:if(this._createContentPromise){this._createContentPromise.then(function(_){_.showLoadingPlaceholders();});}else{this._bShowContentLoadingPlaceholders=true;}break;default:this.showLoadingPlaceholders(K.Header);this.showLoadingPlaceholders(K.Filters);this.showLoadingPlaceholders(K.Content);this.getAggregation("_loadingProvider").setLoading(true);}return this;};
Z.prototype.hideLoadingPlaceholders=function(e){var $;switch(e){case K.Header:$=this.getCardHeader();if($){$.hideLoadingPlaceholders();}break;case K.Filters:$=this.getAggregation("_filterBar");if($){$.hideLoadingPlaceholders();}break;case K.Content:if(this._createContentPromise){this._createContentPromise.then(function(_){_.hideLoadingPlaceholders();});}else{this._bShowContentLoadingPlaceholders=false;}break;default:this.hideLoadingPlaceholders(K.Header);this.hideLoadingPlaceholders(K.Filters);this.hideLoadingPlaceholders(K.Content);this.getAggregation("_loadingProvider").setLoading(false);}return this;};
Z.prototype.isLoading=function(){var e=this.getAggregation("_loadingProvider");return e?e.getLoading():false;};
Z.prototype.getFocusDomRef=function(){var e=this.getCardHeader();if(e&&e.getFocusDomRef()){return e.getFocusDomRef();}return this.getDomRef();};
Z.prototype._showLoadingPlaceholders=function(){this.getAggregation("_loadingProvider").setLoading(true);};
Z.prototype.onDataRequestComplete=function(){var e=this.getCardContent(),$=this.getAggregation("_loadingProvider");this.fireEvent("_cardReady");this.hideLoadingPlaceholders(K.Header);this.hideLoadingPlaceholders(K.Filters);if(e&&e.isA("sap.ui.integration.cards.BaseContent")&&e.isReady()){this.hideLoadingPlaceholders(K.Content);}if($){$.setLoading(false);}this._fireContentDataChange();};
Z.prototype.request=function(e){return this.processDestinations(e).then(function($){return this._oDataProviderFactory.create({request:$}).setAllowCustomDataType(true).getData();}.bind(this));};
Z.prototype.triggerAction=function(e){r.fireAction({card:this,host:this.getHostInstance(),action:e,parameters:e.parameters,source:this});};
Z.prototype._setPreviewMode=function(e){this._bIsPreviewMode=e;if(e){this.addStyleClass("sapFCardPreview");}else{this.removeStyleClass("sapFCardPreview");}this._bApplyManifest=true;this.invalidate();};
Z.prototype.getBindingNamespaces=function(){var e={},$=this.getAggregation("_extension");if($){e.extension={formatters:$.getFormatters()};}return e;};
Z.prototype._registerCustomModels=function(){var e=this._oCardManifest.findDataSections();if(!this._aCustomModels){this._aCustomModels=[];}this._deregisterCustomModels();e.forEach(function($){var _=$&&$.name;if(!_){return;}if(z.indexOf(_)>-1){L.error("The model name (data section name) '"+_+"' is reserved for cards. Can not be used for creating a custom model.");return;}if(this._aCustomModels.indexOf(_)>-1){L.error("The model name (data section name) '"+_+"' is already used.");return;}this.setModel(new O(),_);this._aCustomModels.push(_);}.bind(this));};
Z.prototype._deregisterCustomModels=function(){if(!this._aCustomModels){return;}this._aCustomModels.forEach(function(e){this.getModel(e).destroy();this.setModel(null,e);}.bind(this));this._aCustomModels=[];};
Z.prototype._fireConfigurationChange=function(e){var $=this.getHostInstance();if(!this._bReady){return;}this.fireConfigurationChange({changes:e});if($){$.fireCardConfigurationChange({card:this,changes:e});}};
Z.prototype._fireContentDataChange=function(){this.fireEvent("_contentDataChange");};
Z.prototype.isSkeleton=function(){return false;};
Z.prototype.getContentPageSize=function(e){var $=parseInt(B.resolveValue(e,this).maxItems)||0,_=this.getAggregation("_footer"),a1;if(!_){return $;}a1=_.getAggregation("paginator");if(!a1){return $;}if(a1.getPageSize()){return a1.getPageSize();}return $;};
Z.prototype.hasPaginator=function(){var e=this._oCardManifest.get(y.FOOTER);return e&&e.paginator;};
Z.prototype.showCard=function(e){var $=this._createChildCard(e);e._cardId=$.getId();this.triggerAction({type:"ShowCard",parameters:e});return Promise.resolve($);};
Z.prototype.hide=function(){this.triggerAction({type:"HideCard"});};
Z.prototype.getOpener=function(){var e=a.byId(this.getAssociation("openerReference"));if(!e){return null;}return e._oLimitedInterface;};
Z.prototype._createChildCard=function(e){var $=e.manifest,_=e.baseUrl,a1=e.data,b1=this._createCard({width:e.width,host:this.getHostInstance(),parameters:e.parameters});b1.setAssociation("openerReference",this);if(a1){c(a1,function(c1,d1){var e1=new J(d1);b1.setModel(e1,c1);});}if(typeof $==="string"){b1.setManifest(this.getRuntimeUrl($));if(_){b1.setBaseUrl(_);}}else{b1.setManifest($);b1.setBaseUrl(_||this.getRuntimeUrl("/"));}return b1;};
Z.prototype._createCard=function(e){return new Z(e);};
return Z;});
sap.ui.predefine('sap/ui/integration/widgets/CardRenderer',["sap/f/CardRenderer"],function(F){"use strict";var M={TYPE:"/sap.card/type"};return F.extend("sap.ui.integration.widgets.CardRenderer",{apiVersion:2,renderContainerAttributes:function(r,c){F.renderContainerAttributes.apply(this,arguments);r.class("sapUiIntCard");var C=c._oCardManifest;if(C&&C.get(M.TYPE)&&C.get(M.TYPE).toLowerCase()==="analytical"){r.class("sapUiIntCardAnalytical");}if(c.getAggregation("_footer")){r.class("sapUiIntCardWithFooter");}},renderContentSection:function(r,c){var f=c.getAggregation("_filterBar");if(f){r.renderControl(f);}F.renderContentSection.apply(this,arguments);},renderFooterSection:function(r,c){var f=c.getAggregation("_footer");if(f){r.renderControl(f);}}});});
sap.ui.require.preload({
	"sap/ui/integration/manifest.json":'{"_version":"1.21.0","sap.app":{"id":"sap.ui.integration","type":"library","embeds":[],"applicationVersion":{"version":"1.105.1"},"title":"SAPUI5 library with integration-related controls.","description":"SAPUI5 library with integration-related controls.","ach":"CA-UI5-CTR","resources":"resources.json","offline":true,"openSourceComponents":[{"name":"ui5-web-components","packagedWithMySelf":true,"version":"1.0.1"},{"name":"adaptive-cards","packagedWithMySelf":true,"version":"2.9.0"},{"name":"adaptive-cards-templating","packagedWithMySelf":true,"version":"2.2.0"},{"name":"adaptive-expressions","packagedWithMySelf":true,"version":"4.15.0"},{"name":"markdown-it","packagedWithMySelf":true,"version":"12.2.0"},{"name":"@cfworker/json-schema","packagedWithMySelf":true,"version":"1.6.8"}]},"sap.ui":{"technology":"UI5","supportedThemes":["base","sap_hcb"]},"sap.ui5":{"dependencies":{"minUI5Version":"1.105","libs":{"sap.ui.core":{"minVersion":"1.105.1"},"sap.f":{"minVersion":"1.105.1"}}},"library":{"i18n":{"bundleUrl":"messagebundle.properties","supportedLocales":["","ar","bg","ca","cs","cy","da","de","el","en","en-GB","en-US-sappsd","en-US-saprigi","en-US-saptrc","es","es-MX","et","fi","fr","fr-CA","hi","hr","hu","id","it","iw","ja","kk","ko","lt","lv","ms","nl","no","pl","pt","pt-PT","ro","ru","sh","sk","sl","sv","th","tr","uk","vi","zh-CN","zh-TW"]},"content":{"controls":["sap.ui.integration.widgets.Card","sap.ui.integration.cards.filters.FilterBar","sap.ui.integration.cards.Header","sap.ui.integration.cards.NumericHeader","sap.ui.integration.controls.ListContentItem"],"elements":["sap.ui.integration.ActionDefinition","sap.ui.integration.Host"],"types":["sap.ui.integration.CardActionType","sap.ui.integration.CardDataMode","sap.ui.integration.CardMenuAction"]}}}}',
	"sap/ui/integration/customElements/CustomElementCard.js":function(){sap.ui.require(["sap/ui/integration/widgets/Card","sap/ui/integration/customElements/CustomElementBase","sap/m/BadgeCustomData"],function(C,a,B){"use strict";var b=a.extend(C,{privateProperties:["width","height"],customProperties:{"badge":{set:function(c,v){c.addCustomData(new B({value:v}));}}}});b.prototype.refresh=function(){this._getControl().refresh();};b.prototype.loadDesigntime=function(){return this._getControl().loadDesigntime();};a.define("ui-integration-card",b);});
},
	"sap/ui/integration/customElements/CustomElementCardEditor.js":function(){sap.ui.require(["sap/ui/integration/designtime/editor/CardEditor","sap/ui/integration/customElements/CustomElementBase"],function(C,a){"use strict";var b=a.extend(C,{});b.prototype.getCurrentSettings=function(){return this._getControl().getCurrentSettings();};var d=["ui-integration-card"];a.define("ui-integration-card-editor",b,d);});
},
	"sap/ui/integration/customElements/CustomElementEditor.js":function(){sap.ui.require(["sap/ui/integration/editor/Editor","sap/ui/integration/customElements/CustomElementBase"],function(E,C){"use strict";var a=C.extend(E,{});a.prototype.getCurrentSettings=function(){return this._getControl().getCurrentSettings();};C.define("ui-integration-editor",a);});
},
	"sap/ui/integration/library-bootstrap.js":function(){(function(w){"use strict";var c;var s=document.currentScript||document.querySelector("script[src*='/sap-ui-integration.js']");
function b(){if(w.sap&&w.sap.ui&&w.sap.ui.getCore){c=w.sap.ui.getCore();return a();}w.sap.ui.require(['sap/ui/core/Core'],function(C){C.boot();c=C;C.attachInit(function(){a();});});}
function r(l){var L=c.getLoadedLibraries()[l];var t=Object.keys(L.customElements),T=s.getAttribute("tags");if(T){t=T.split(",");}w.sap.ui.require(t.map(function(o,i){return L.customElements[t[i]];}));}
function a(){c.loadLibraries(["sap/ui/integration"],{async:true}).then(function(){r("sap.ui.integration");});}
b();})(window);
},
	"sap/ui/integration/sap-ui-integration-config.js":function(){window["sap-ui-config"]=window["sap-ui-config"]||{};window["sap-ui-config"].bindingSyntax="complex";window["sap-ui-config"].compatVersion="edge";window["sap-ui-config"].async=true;window["sap-ui-config"]["xx-waitForTheme"]=true;
},
	"sap/ui/integration/sap-ui-integration-define-nojQuery.js":function(){(function(){"use strict";sap["ui"].define("sap/ui/thirdparty/jquery",function(){return jQuery;});sap["ui"].define("sap/ui/thirdparty/jqueryui/jquery-ui-position",function(){return jQuery;});})();
}
},"sap/ui/integration/library-preload"
);
//# sourceMappingURL=library-preload.js.map
/*!
 * OpenUI5
 * (c) Copyright 2009-2022 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.define(["sap/ui/core/Core","./BaseFactory","sap/ui/integration/cards/actions/CardActions","sap/ui/integration/library","sap/m/library","sap/ui/integration/cards/NumericHeader","sap/ui/integration/cards/Header","sap/ui/integration/util/Utils","sap/m/Button"],function(C,B,a,l,L,N,H,U,b){"use strict";var A=l.CardActionArea;var c=L.ButtonType;var r=C.getLibraryResourceBundle("sap.ui.integration");var d=B.extend("sap.ui.integration.util.HeaderFactory");d.prototype.create=function(m,t){var o=this._oCard,i=o.getOpener(),e,h;m=this.createBindingInfos(m,o.getBindingNamespaces());if(i){t=this._createCloseButton();}switch(m.type){case"Numeric":h=new N(m,t);break;default:h=new H(m,t,o._oIconFormatter);break;}h.setCard(o);if(m.status&&m.status.text&&m.status.text.format){e=U.getStatusTextBindingInfo(m.status.text.format,h);if(e){h.bindProperty("statusText",e);}}h.setServiceManager(o._oServiceManager);h.setDataProviderFactory(o._oDataProviderFactory);h._setDataConfiguration(m.data);var f=new a({card:o});f.attach({area:A.Header,enabledPropertyName:"interactive",actions:m.actions,control:h});h._oActions=f;if(h._bIsEmpty){h.setVisible(t.getVisible());}if(i){h.setProperty("focusable",false);}return h;};d.prototype._createCloseButton=function(){var o=new b({type:c.Transparent,tooltip:r.getText("CARD_DIALOG_CLOSE_BUTTON"),icon:"sap-icon://decline",press:function(){this._oCard.hide();}.bind(this)});o.addStyleClass("sapUiIntCardCloseButton");return o;};return d;});

/*!
 * OpenUI5
 * (c) Copyright 2009-2022 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.define(['sap/ui/Device','sap/base/Log','sap/base/util/extend','sap/ui/dom/_ready'],function(D,L,e,_){"use strict";var M={};var a=false;function b(t,A){A=A||{};var T=document.createElement(t);for(var k in A){if(A[k]){T.setAttribute(k,A[k]);}}document.head.appendChild(T);}function r(s){var E=document.head.querySelectorAll(s);for(var i=0,l=E.length;i<l;i++){E[i].remove(E[i]);}}M.init=function(o){if(!a){a=true;o=e({},{viewport:true,statusBar:"default",hideBrowser:true,preventScroll:true,preventPhoneNumberDetection:true,useFullScreenHeight:true,homeIconPrecomposed:false,mobileWebAppCapable:"default"},o);if(o.preventPhoneNumberDetection){b("meta",{name:"format-detection",content:"telephone=no"});}if(o.viewport){var m;var i=D.resize.height;var I=D.resize.width;m="width=device-width, initial-scale=1.0";if(D.os.ios){m+=", maximum-scale=1.0, user-scalable=no";}b("meta",{name:"viewport",content:m});if((i!==window.innerHeight||I!==window.innerWidth)&&D.resize._update){D.resize._update();}}if(o.useFullScreenHeight){_().then(function(){document.documentElement.style.height="100%";});}if(o.preventScroll&&(D.os.ios||(D.os.mac&&D.browser.mobile))){_().then(function(){document.documentElement.style.position="fixed";document.documentElement.style.overflow="hidden";document.documentElement.style.height="100%";document.documentElement.style.width="100%";});}}if(o){if(o.homeIcon){var c;if(typeof o.homeIcon==="string"){c={phone:o.homeIcon,favicon:o.homeIcon};}else{c=Object.assign({},o.homeIcon);c.phone=o.homeIcon.phone||o.homeIcon.icon||c.favicon;c.favicon=c.favicon||o.homeIcon.icon||o.homeIcon.phone;c.icon=undefined;}c.precomposed=o.homeIconPrecomposed||c.precomposed;M.setIcons(c);}if(o.hasOwnProperty("mobileWebAppCapable")){M.setWebAppCapable(o.mobileWebAppCapable,o.statusBar);}}};M.setIcons=function(i){if(!i||(typeof i!=="object")){L.warning("Call to sap/ui/util/Mobile.setIcons() has been ignored because there were no icons given or the argument was not an object.");return;}var p=i.precomposed?"-precomposed":"",g=function(d){return i[d]||i['tablet@2']||i['phone@2']||i['phone']||i['tablet'];},s={"phone":"","tablet":"76x76","phone@2":"120x120","tablet@2":"152x152"};if(i["favicon"]){r("link[rel=icon]");b("link",{rel:"icon",href:i["favicon"]});}if(g("phone")){r("[rel=apple-touch-icon]");r("[rel=apple-touch-icon-precomposed]");}for(var c in s){i[c]=i[c]||g(c);if(i[c]){b("link",{rel:"apple-touch-icon"+p,href:i[c],sizes:s[c]});}}};M.setWebAppCapable=function(v,A){if(!D.system.tablet&&!D.system.phone){return;}var p=["","apple"],n="mobile-web-app-capable",c=v?"yes":"no",i,N,w;for(i=0;i<p.length;i++){N=p[i]?(p[i]+"-"+n):n;w=document.head.querySelector('meta[name="'+N+'"]');if(w){w.setAttribute("content",c);}else{b("meta",{name:N,content:c});if(p[i]==="apple"){b("meta",{name:"apple-mobile-web-app-status-bar-style",content:A?A:'default'});}}}};return M;});

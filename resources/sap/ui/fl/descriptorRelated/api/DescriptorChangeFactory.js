/*!
 * OpenUI5
 * (c) Copyright 2009-2022 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.define(["sap/ui/fl/apply/_internal/flexObjects/FlexObjectFactory","sap/ui/fl/ChangePersistenceFactory","sap/base/util/merge"],function(F,C,b){"use strict";var D=function(c,i){this._mChangeFile=c;this._mChangeFile.packageName='';this._oInlineChange=i;};D.prototype.submit=function(){this.store();var c=this._getChangePersistence(this._mChangeFile.reference);return c.saveDirtyChanges();};D.prototype.store=function(){var c=this._mChangeFile.reference;var o=this._getChangePersistence(c);var d=this._getChangeToSubmit();o.addChange(d);return d;};D.prototype._getChangePersistence=function(c){return C.getChangePersistenceForComponent(c);};D.prototype._getChangeToSubmit=function(){return F.createAppDescriptorChange(this._getMap());};D.prototype._getMap=function(){var i=this._oInlineChange.getMap();this._mChangeFile.content=i.content;this._mChangeFile.texts=i.texts;return this._mChangeFile;};D.prototype.getJson=function(){return b({},this._getMap());};var a=function(){};a.prototype.createNew=function(r,i,l,A,t){if(i["setHostingIdForTextKey"]){i.setHostingIdForTextKey(r);}var p={};p.changeType=i._getChangeType();p.componentName=r;p.reference=r;p.generator=t;p.support=i.getMap().support;p.layer=l||'CUSTOMER';return Promise.resolve(new D(p,i));};return a;});

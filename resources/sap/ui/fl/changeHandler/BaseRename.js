/*!
 * OpenUI5
 * (c) Copyright 2009-2022 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.define(["sap/base/Log","sap/ui/fl/changeHandler/condenser/Classification"],function(L,C){"use strict";var B={createRenameChangeHandler:function(r){r.changePropertyName=r.changePropertyName||"newText";return{applyChange:function(c,o,p){var m=p.modifier;var P=r.propertyName;var v=c.getText(r.changePropertyName);return Promise.resolve().then(function(){if(v){return m.getPropertyBindingOrProperty(o,P).then(function(a){c.setRevertData(a);return m.setPropertyBindingOrProperty(o,P,v);});}return undefined;});},revertChange:function(c,o,p){var m=p.modifier;var P=r.propertyName;var O=c.getRevertData();if(O||O===""){m.setPropertyBindingOrProperty(o,P,O);c.resetRevertData();return;}L.error("Change doesn't contain sufficient information to be reverted. Most Likely the Change didn't go through applyChange.");},completeChangeContent:function(c,s,p){var a=r.changePropertyName;var t=r.translationTextType;return Promise.resolve().then(function(){return p.modifier.bySelector(c.getSelector(),p.appComponent);}).then(function(o){c.setContent({originalControlType:p.modifier.getControlType(o)});if(typeof(s.value)==="string"){c.setText(a,s.value,t);}else{return Promise.reject(new Error("oSpecificChangeInfo.value attribute required"));}});},getCondenserInfo:function(c){return{affectedControl:c.getSelector(),classification:C.LastOneWins,uniqueKey:r.propertyName||r.changePropertyName};},getChangeVisualizationInfo:function(c){var n=(c.getTexts()&&c.getTexts()[r.changePropertyName]);return{payload:{originalLabel:c.getRevertData(),newLabel:n&&n.value}};}};}};return B;},true);

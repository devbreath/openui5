/*!
 * OpenUI5
 * (c) Copyright 2009-2022 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.define(['sap/ui/core/library','sap/ui/Global','sap/ui/core/Core','sap/ui/core/Configuration','sap/ui/core/ElementMetadata',"sap/base/util/LoaderExtensions","sap/base/util/UriParameters","jquery.sap.global"],function(l,G,C,a,E,L,U,q){'use strict';var c=sap.ui.getCore().getConfiguration();function _(){var h=G.versioninfo?G.versioninfo.libraries:undefined;var i=Object.create(null);if(h!==undefined){h.forEach(function(j,k,m){i[j.name]=j.version;});}return i;}function b(){var h=sap.ui.getCore().getLoadedLibraries();var i=Object.create(null);Object.keys(sap.ui.getCore().getLoadedLibraries()).forEach(function(j,k,m){i[j]=h[j].version;});return i;}function g(){var p=U.fromQuery(window.location.search);return Array.from(p.keys()).reduce(function(r,k){r[k]=p.getAll(k);return r;},{});}function d(){return{commonInformation:{version:G.version,buildTime:G.buildinfo.buildtime,lastChange:G.buildinfo.lastchange,jquery:q.fn.jquery,userAgent:navigator.userAgent,applicationHREF:window.location.href,documentTitle:document.title,documentMode:document.documentMode||'',debugMode:q.sap.debug(),statistics:q.sap.statistics()},configurationBootstrap:window['sap-ui-config']||Object.create(null),configurationComputed:{theme:c.getTheme(),language:c.getLanguage(),formatLocale:c.getFormatLocale(),accessibility:c.getAccessibility(),animation:(c.getAnimationMode()!==a.AnimationMode.minimal&&c.getAnimationMode()!==a.AnimationMode.none),rtl:c.getRTL(),debug:c.getDebug(),inspect:c.getInspect(),originInfo:c.getOriginInfo(),noDuplicateIds:c.getNoDuplicateIds()},libraries:_(),loadedLibraries:b(),loadedModules:L.getAllRequiredModules().sort(),URLParameters:g()};}var e={_createRenderedTreeModel:function(n,r){var h=n;var i=h.firstElementChild;var j=r;var s=j;var k=sap.ui.getCore().byId(h.id);if(h.getAttribute('data-sap-ui')&&k){j.push({id:k.getId(),name:k.getMetadata().getName(),type:'sap-ui-control',content:[]});s=j[j.length-1].content;}else if(h.getAttribute('data-sap-ui-area')){j.push({id:h.id,name:'sap-ui-area',type:'data-sap-ui',content:[]});s=j[j.length-1].content;}while(i){this._createRenderedTreeModel(i,s);i=i.nextElementSibling;}}};var f={_getOwnProperties:function(h){var r=Object.create(null);var i=h.getMetadata().getProperties();r.meta=Object.create(null);r.meta.controlName=h.getMetadata().getName();r.properties=Object.create(null);Object.keys(i).forEach(function(k){r.properties[k]=Object.create(null);r.properties[k].value=h.getProperty(k);r.properties[k].type=i[k].getType().getName?i[k].getType().getName():'';});return r;},_copyInheritedProperties:function(h,i){var j=i.getProperties();var r=Object.create(null);r.meta=Object.create(null);r.meta.controlName=i.getName();r.properties=Object.create(null);Object.keys(j).forEach(function(k){r.properties[k]=Object.create(null);r.properties[k].value=j[k].get(h);r.properties[k].type=j[k].getType().getName?j[k].getType().getName():'';});return r;},_getInheritedProperties:function(h){var r=[];var i=h.getMetadata().getParent();while(i instanceof E){r.push(this._copyInheritedProperties(h,i));i=i.getParent();}return r;},_getProperties:function(h){var i=sap.ui.getCore().byId(h);var p=Object.create(null);if(i){p.own=this._getOwnProperties(i);p.inherited=this._getInheritedProperties(i);}return p;},_getModelFromContext:function(h,j){var k=h.getBinding(j);var m=k.getModel();var n=(h.getBindingInfo(j).parts)?h.getBindingInfo(j).parts:[];var o=[];for(var i=0;i<n.length;i++){o.push(n[i].model);}var p={names:o,path:k.getPath()};if(m){p.mode=m.getDefaultBindingMode();p.type=m.getMetadata().getName();p.data=m.getData?m.getData('/'):undefined;}return p;},_getBindDataForProperties:function(h){var p=h.getMetadata().getAllProperties();var i=Object.create(null);for(var k in p){if(p.hasOwnProperty(k)&&h.getBinding(k)){i[k]=Object.create(null);i[k].path=h.getBinding(k).getPath();i[k].value=h.getBinding(k).getValue();i[k].type=h.getMetadata().getProperty(k).getType().getName?h.getMetadata().getProperty(k).getType().getName():'';i[k].mode=h.getBinding(k).getBindingMode();i[k].model=this._getModelFromContext(h,k);}}return i;},_getBindDataForAggregations:function(h){var i=h.getMetadata().getAllAggregations();var j=Object.create(null);for(var k in i){if(i.hasOwnProperty(k)&&h.getBinding(k)){j[k]=Object.create(null);j[k].model=this._getModelFromContext(h,k);}}return j;}};return{getFrameworkInformation:d,getRenderedControlTree:function(){var r=[];e._createRenderedTreeModel(document.body,r);return r;},getControlProperties:function(h){return f._getProperties(h);},getControlBindings:function(h){var r=Object.create(null);var i=sap.ui.getCore().byId(h);var j;if(!i){return r;}j=i.getBindingContext();r.meta=Object.create(null);r.contextPath=j?j.getPath():null;r.aggregations=f._getBindDataForAggregations(i);r.properties=f._getBindDataForProperties(i);return r;}};});

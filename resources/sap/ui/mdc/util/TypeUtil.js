/*!
 * OpenUI5
 * (c) Copyright 2009-2022 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.define(['sap/ui/mdc/enum/BaseType','sap/base/util/ObjectPath','sap/ui/model/SimpleType','sap/ui/mdc/util/DateUtil'],function(B,O,S,D){"use strict";var d="yyyy-MM-ddTHH:mm:ssZ";var s="yyyy-MM-dd";var t="HH:mm:ss";var T={getDataTypeClassName:function(a){var m={"Boolean":"sap.ui.model.type.Boolean","Currency":"sap.ui.model.type.Currency","Date":"sap.ui.model.type.Date","DateTime":"sap.ui.model.type.DateTime","Float":"sap.ui.model.type.Float","Integer":"sap.ui.model.type.Integer","String":"sap.ui.model.type.String","Time":"sap.ui.model.type.Time","Unit":"sap.ui.model.type.Unit"};if(m[a]){a=m[a];}return a;},getBaseType:function(a,f,c){switch(a){case"sap.ui.model.type.Date":return B.Date;case"sap.ui.model.type.DateTime":return B.DateTime;case"sap.ui.model.type.Time":return B.Time;case"sap.ui.model.type.Boolean":return B.Boolean;case"sap.ui.model.type.Unit":case"sap.ui.model.type.Currency":if(!f||((!f.hasOwnProperty("showMeasure")||f.showMeasure)&&(!f.hasOwnProperty("showNumber")||f.showNumber))){return B.Unit;}else if(!f.hasOwnProperty("showNumber")||f.showNumber){return B.Numeric;}else{return B.String;}case"sap.ui.model.type.Integer":case"sap.ui.model.type.Float":return B.Numeric;default:return B.String;}},getBaseTypeForType:function(o){return this.getBaseType(o.getMetadata&&o.getMetadata().getName(),o.getFormatOptions(),o.getConstraints());},getDataTypeClass:function(a){var b=O.get(this.getDataTypeClassName(a)||"");if(!b){throw new Error("DataType '"+a+"' cannot be determined");}return b;},getDataTypeInstance:function(a,f,c){var b=this.getDataTypeClass(a);return new b(f,c);},getTypeConfig:function(v,f,c){var o=this._normalizeType(v,f,c);return{className:o.getMetadata().getName(),typeInstance:o,baseType:this.getBaseTypeForType(o)};},internalizeValue:function(v,a,f,c){var o=this._normalizeType(a,f,c);var b=this.getBaseTypeForType(o);switch(b){case B.DateTime:return D.stringToType(v,o,d);case B.Date:return D.stringToType(v,o,s);case B.Time:return D.stringToType(v,o,t);case B.Boolean:return v;case B.Numeric:return v;default:return o.parseValue(v,"string");}},externalizeValue:function(v,a,f,c){var o=this._normalizeType(a,f,c);var b=this.getBaseTypeForType(o);switch(b){case B.DateTime:return D.typeToString(v,o,d);case B.Date:return D.typeToString(v,o,s);case B.Time:return D.typeToString(v,o,t);case B.Boolean:return v;case B.Numeric:return v;default:return o.formatValue(v,"string");}},_normalizeType:function(v,f,c){if(v instanceof S){return v;}return this.getDataTypeInstance(v,f,c);}};return T;});

/*!
 * OpenUI5
 * (c) Copyright 2009-2022 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.define(["sap/m/p13n/BasePanel","sap/m/Label","sap/m/ColumnListItem","sap/m/Select","sap/m/Text","sap/ui/core/Item","sap/ui/mdc/library","sap/m/Button",'sap/m/Column',"sap/m/Table","sap/ui/model/Filter","sap/ui/model/FilterOperator","sap/m/VBox","sap/m/HBox","sap/m/ComboBox","sap/ui/model/Sorter","sap/base/Log","sap/m/library","sap/ui/Device","sap/ui/core/ResizeHandler","sap/ui/core/CustomData","sap/ui/thirdparty/jquery","sap/ui/core/library"],function(B,L,C,S,T,I,M,c,d,e,F,f,V,H,g,h,i,l,D,R,j,q,k){"use strict";var m=k.ValueState;var n=l.FlexJustifyContent;var o=sap.ui.getCore();var p=B.extend("sap.ui.mdc.p13n.panels.ChartItemPanel",{metadata:{library:"sap.ui.mdc",properties:{panelConfig:{type:"object"}},events:{changeItems:{}}},init:function(){this._bMobileMode=D.system.phone;B.prototype.init.apply(this,arguments);this._bindListItems();},renderer:{}});p.prototype._setInnerLayout=function(){this._oInnerControl=new V({items:[this._oListControl]});this.setAggregation("_content",this._oInnerControl);this._fnHandleResize=function(){if(this.getParent){var $=null;var P=this.getParent();if(P&&P.$){$=P.$("cont");if($.children().length>0){var s=this._oInnerControl.$()[0].clientWidth;var a=570;if(!this._bMobileMode&&s<=a){this._switchMobileMode(true);}else if(this._bMobileMode&&s>a){this._switchMobileMode(false);}}}}};if(D.system.desktop){this._sContainerResizeListener=R.register(this._oInnerControl,this._fnHandleResize.bind(this));}};p.prototype._switchMobileMode=function(b){if(this._bMobileMode==b){return;}this._bMobileMode=b;if(this._sContainerResizeListener){R.deregister(this._sContainerResizeListener);this._sContainerResizeListener=null;}this._oListControl.destroy();this._oDragDropInfo=null;this._oListControl=this._createInnerListControl();this._oListControl.setMultiSelectMode("ClearAll");this._setInnerLayout();this._bindListItems();};p.prototype._createInnerListControl=function(){var s=this._bMobileMode?this.getId()+"-innerP13nListMobile":this.getId()+"-innerP13nList";var t=new e(s,Object.assign(this._getListControlConfig(),{}));this.setEnableReorder(true);t.addEventDelegate({onAfterRendering:this._onAfterTableRender.bind(this)});return t;};p.prototype._onAfterTableRender=function(){if(this._oFocusInfo&&this._oFocusInfo.tableItem){this._oFocusInfo.tableItem.focus();}this._mInvalidMap.forEach(function(v,K){if(this._mNamesMap.has(K)){this._mNamesMap.get(K).setValueState(m.Error);this._mNamesMap.get(K).setValue(v);}}.bind(this));this._oFocusInfo=null;};p.prototype._bindListItems=function(r){var s;var t=sap.ui.getCore().getLibraryResourceBundle("sap.ui.mdc");if(this.getPanelConfig()&&this.getPanelConfig().sorter){s=this.getPanelConfig().sorter;}else{var u={text:t.getText('chart.PERSONALIZATION_DIALOG_MEASURE_GROUP_HEADER')};var v={text:t.getText('chart.PERSONALIZATION_DIALOG_DIMENSION_GROUP_HEADER')};var G={"Aggregatable":u,"Groupable":v,"Measure":u,"Dimension":v};var w=function(a){var b=a.getProperty("kind");return{key:b,text:G[b].text};};var x=function(a,b){if(a===b){return 0;}if(a==="MEASURE"||a==="AGGREGATABLE"){return 1;}return-1;};s=new h("kind",false,w,x);}var y;this._mTemplatesMap=new Map();this._mNamesMap=new Map();this._mInvalidMap=new Map();if(this._bMobileMode){y=this._createListItemMobile;}else{y=this._createListItem;}this._oListControl.bindItems(Object.assign({path:this.P13N_MODEL+">/items",key:"name",filters:[new F({filters:[new F("visible",f.EQ,true),new F("template",f.EQ,true)],and:false})],factory:y.bind(this),sorter:s},r));};p.prototype._getTemplateComboBox=function(K){var v=new F("visible",f.EQ,false);var r=new window.Intl.Collator();var s=function(a,b){return r.compare(a,b);};var t=new h("label",false,false,s);var u=new g({id:"p13nPanel-templateComboBox-"+K,width:"100%",placeholder:this._getPlaceholderTextForTemplate(K),items:{path:this.P13N_MODEL+">/items",template:new I({key:"{"+this.P13N_MODEL+">name}",text:"{"+this.P13N_MODEL+">label}"}),templateShareable:false,filters:[v,new F("kind",f.EQ,K)],sorter:t},change:[this.onChangeOfTemplateName,this]});this._mTemplatesMap.set(K,u);return u;};p.prototype._getPlaceholderTextForTemplate=function(K){var a=sap.ui.getCore().getLibraryResourceBundle("sap.ui.mdc");return a.getText('chart.PERSONALIZATION_DIALOG_TEMPLATE_PLACEHOLDER');};p.prototype._getRoleSelect=function(){return new S({width:"100%",selectedKey:"{"+this.P13N_MODEL+">role}",change:[this.onChangeOfRole,this],forceSelection:false,items:{path:this.P13N_MODEL+">availableRoles",templateShareable:false,template:new I({key:"{"+this.P13N_MODEL+">key}",text:"{"+this.P13N_MODEL+">text}"})},visible:{path:this.P13N_MODEL+">availableRoles",formatter:function(r){if(!r){return false;}return r.length>1;}}});};p.prototype._getNameComboBox=function(K,N){var r=new window.Intl.Collator();var s=function(a,b){return r.compare(a,b);};var t=new h("label",false,false,s);var u=new F({filters:[new F("visible",f.EQ,false),new F("name",f.EQ,N)],and:false});return new g({width:"100%",items:{path:this.P13N_MODEL+">/items",factory:function(a,O){return new I({key:O.getObject().name,text:O.getObject().label});},templateShareable:false,filters:[u,new F("kind",f.EQ,K)],sorter:t},change:[this.onChangeOfItemName,this],selectedKey:"{"+this.P13N_MODEL+">tempName}",customData:[new j({key:"prevName",value:N}),new j({key:"prevKind",value:K})]});};p.prototype._createListItem=function(s,O){var r,a=[];if(O.getObject()&&O.getObject().template){a.push(this._getTemplateComboBox(O.getObject().kind));}else{var N;if(O.getObject().name!=O.getObject().tempName){O.getObject().tempName=O.getObject().name;}N=this._getNameComboBox(O.getObject().kind,O.getObject().name);a.push(N);a.push(this._getRoleSelect());r=this.getId()+O.getObject().kind+"-RemoveBtn-"+O.getObject().name;a.push(new H({justifyContent:n.End,items:[new c({id:r,press:[this._onPressHide,this],type:"Transparent",icon:"sap-icon://decline",tooltip:this._getResourceTextMDC("chart.PERSONALIZATION_DIALOG_REMOVE_ENTRY"),customData:[new j({key:"propertyName",value:"{"+this.P13N_MODEL+">name}"}),new j({key:"propertyKind",value:"{"+this.P13N_MODEL+">kind}"})]})]}));this._mNamesMap.set(O.getObject().name,N);}var b;if(O.getObject()&&O.getObject().template){var K=O.getObject().kind;b=new C({cells:a,visible:{path:this.P13N_MODEL+">/items",formatter:function(t){t=t.filter(function(u){return u.visible===false&&u.template===false&&u.kind===K;});return t.length!=0;}}});}else{b=new C({cells:a});}b.addEventDelegate({onmouseover:this._hoverHandler.bind(this),onfocusin:this._focusHandler.bind(this),onkeydown:this._handleOnKeyDown.bind(this)});return b;};p.prototype._createListItemMobile=function(s,O){var r,a=[];if(O.getObject()&&O.getObject().template){a.push(this._getTemplateComboBox(O.getObject().kind));}else{var v=new V({items:[this._getNameComboBox(O.getObject().kind,O.getObject().name),this._getRoleSelect()]});r=O.getObject().kind+"-RemoveBtn-"+O.getObject().name;a.push(v);}var b=new H({justifyContent:n.End,items:[new c({id:r,press:[this._onPressHide,this],type:"Transparent",icon:"sap-icon://decline",visible:{path:this.P13N_MODEL+">template",formatter:function(E){return!E;}},customData:[new j({key:"propertyName",value:"{"+this.P13N_MODEL+">name}"}),new j({key:"propertyKind",value:"{"+this.P13N_MODEL+">kind}"})]})]});a.push(b);var t;if(O.getObject()&&O.getObject().template){var K=O.getObject().kind;t=new C({cells:a,visible:{path:this.P13N_MODEL+">/items",formatter:function(u){u=u.filter(function(w){return w.visible===false&&w.template===false&&w.kind===K;});return u.length!=0;}}});}else{t=new C({cells:a});}t.addEventDelegate({onmouseover:this._hoverHandler.bind(this),onfocusin:this._focusHandler.bind(this),onkeydown:this._handleOnKeyDown.bind(this)});return t;};p.prototype._handleOnKeyDown=function(E){if(E.keyCode===38&&E.ctrlKey){}else if(E.keyCode===40&&E.ctrlKey){}else if(E.keyCode===68&&E.ctrlKey){var r,a=o.byId(E.currentTarget.id);if(this._bMobileMode){r=a.getCells()[1].getItems()[a.getCells()[1].getItems().length-1];}else{r=a.getCells()[2].getItems()[a.getCells()[2].getItems().length-1];}if(r){this._onPressHide(E,r);E.preventDefault();}}};p.prototype._focusHandler=function(E){var t=o.byId(E.target.id);if(t instanceof c){return;}B.prototype._focusHandler.apply(this,arguments);};p.prototype._handleActivated=function(a){var b=this._getModelItemByTableItem(a);if(b&&b.template){this.removeMoveButtons();}this._oHoveredItem=a;this._updateEnableOfMoveButtons(a,false);this._addMoveButtons(a);this._setMoveButtonVisibility(true);};p.prototype.onChangeOfItemName=function(E){var P=E.getSource().data().prevName;var K=E.getSource().data().prevKind;var N=E.getSource().getSelectedKey();var a=this._getP13nModel().getProperty("/items").find(function(r){return r.name===P&&r.kind===K;});var b=this._getP13nModel().getProperty("/items").find(function(r){return r.name===N&&r.kind===K;});this.removeMoveButtons();if(a&&b){a.visible=false;b.visible=true;a.tempName=a.name;b.role=a.role;this._moveItemsByIndex(this._getItemIndex(b),this._getItemIndex(a));this._refreshP13nModel();this._fireChangeItems();this._updateVisibleIndexes();this._mInvalidMap.delete(P);this._mInvalidMap.delete(N);}else if(E.getSource()&&E.getSource()instanceof g){this._mInvalidMap.set(E.getSource().data("prevName"),E.getSource().getValue());E.getSource().setValueState(m.Error);}};p.prototype._getItemIndexByNameAndKind=function(N,K){var a=this._getP13nModel().getProperty("/items");var b=a.find(function(r){return(r.name===N&&r.kind===K&&!r.template);});return this._getItemIndex(b);};p.prototype._getItemIndex=function(a){return this._getP13nModel().getProperty("/items").indexOf(a);};p.prototype.removeMoveButtons=function(){var a=this._getMoveButtonContainer();if(a){a.removeItem(this._getMoveBottomButton());a.removeItem(this._getMoveDownButton());a.removeItem(this._getMoveUpButton());a.removeItem(this._getMoveTopButton());}};p.prototype.getP13nData=function(){var a=this._getCleanP13nItems();this._getP13nModel().setProperty("/items",a);return a;};p.prototype._getMoveButtonContainer=function(){if(this._oMoveUpButton&&this._oMoveUpButton.getParent()&&this._oMoveUpButton.getParent().isA("sap.m.FlexBox")){return this._oMoveUpButton.getParent();}return undefined;};p.prototype._addMoveButtons=function(a){var t=a;if(!t){return;}var b=this._getP13nModel().getProperty(t.getBindingContextPath())?this._getP13nModel().getProperty(t.getBindingContextPath()).template:true;if(t.getCells()&&(t.getCells().length===2||t.getCells().length===3)&&!b){if(this._bMobileMode){t.getCells()[1].insertItem(this._getMoveDownButton(),0);t.getCells()[1].insertItem(this._getMoveUpButton(),0);}else{t.getCells()[2].insertItem(this._getMoveBottomButton(),0);t.getCells()[2].insertItem(this._getMoveDownButton(),0);t.getCells()[2].insertItem(this._getMoveUpButton(),0);t.getCells()[2].insertItem(this._getMoveTopButton(),0);}}};p.prototype._moveSelectedItem=function(){this._oSelectedItem=this._getMoveButtonContainer().getParent();B.prototype._moveSelectedItem.apply(this,arguments);};p.prototype._updateAvailableRolesForItems=function(){var a=this._getP13nModel().getProperty("/items");var A=[];if(this.getPanelConfig()&&this.getPanelConfig().allowedLayoutOptions){A=this.getPanelConfig().allowedLayoutOptions;}else{i.warning("No allowedLayoutOptions configured for chart type. This will not show any p13n options!");}a.forEach(function(b){if(!b.availableRoles){return;}b.availableRoles=b.availableRoles.filter(function(r){return A.indexOf(r.key)!=-1;});});this._getP13nModel().setProperty("/items",a);this._refreshP13nModel();};p.prototype._onPressHide=function(E,r){var P;if(r){P=r.data().propertyName;}else{P=E.getSource().data().propertyName;}var a=q.extend([],this._getP13nModel().getProperty("/items"),true);a.filter(function(b){return b.name===P;}).forEach(function(b){b.visible=false;if(this._mTemplatesMap.has(b.kind)&&this._mTemplatesMap.get(b.kind).getVisible()){this._mTemplatesMap.get(b.kind).focus();}}.bind(this));this._getP13nModel().setProperty("/items",a);this._refreshP13nModel();this._fireChangeItems();this._updateVisibleIndexes();};p.prototype.setP13nData=function(P){P=P.filter(function(b){return!b.template;});B.prototype.setP13nData.apply(this,arguments);var a=[];var A=[];this.getP13nData().forEach(function(b,r){if(!b.availableRoles){b.availableRoles=this._getChartItemTextByKey(b.kind);}if(this.getPanelConfig()&&this.getPanelConfig().allowedLayoutOptions){var s=this.getPanelConfig().allowedLayoutOptions;if(s&&s.length>=1){b.availableRoles=b.availableRoles.filter(function(t){return s.indexOf(t.key)!=-1;});if(s.indexOf(b.role)===-1){b.role=s[0];}}}b.template=false;b.tempName=b.name;if(!b.visible){A.push(b);}if(!b.index){b.index=r;}a.push(b);}.bind(this));a=a.concat(this._getTemplateItems());this._getP13nModel().setProperty("/items",a);this._updateVisibleIndexes();};p.prototype._updateVisibleIndexes=function(){this._mVisibleIndexes=new Map();this._getP13nModel().getProperty("/items").forEach(function(a,_){if(a.template||!a.visible){return;}if(this._mVisibleIndexes.has(a.kind)){this._mVisibleIndexes.get(a.kind).push(_);}else{var b=[_];this._mVisibleIndexes.set(a.kind,b);}}.bind(this));};p.prototype.onChangeOfTemplateName=function(E){var s=E.getSource().getSelectedKey();var a=this._getCleanP13nItems().find(function(r){return r.name===s;});if(a){a.visible=true;E.getSource().setSelectedKey(undefined);this._refreshP13nModel();var b=this._mVisibleIndexes.has(a.kind)?this._mVisibleIndexes.get(a.kind):[];var O=this._getItemIndexByNameAndKind(a.name,a.kind);var N=b[b.length-1];if(O>N){N+=1;}if(N&&O!=N){this._moveItemsByIndex(O,N,true);}else{this._fireChangeItems();}this._mInvalidMap.delete(E.getSource().getValue());this._updateVisibleIndexes();}else if(E.getSource()&&E.getSource()instanceof g){if(E.getSource().getValue()!=""){E.getSource().setValueState(m.Error);}else{E.getSource().setValueState(m.None);}}};p.prototype._refreshP13nModel=function(){this._getP13nModel().refresh(true);};p.prototype._getTemplateItems=function(){var a=[];if(!this.getPanelConfig()||!this.getPanelConfig().templateConfig){return[];}this.getPanelConfig().templateConfig.forEach(function(t){var b={template:true,kind:t.kind};a.push(b);});return a;};p.prototype._getListControlConfig=function(){var a=B.prototype._getListControlConfig.apply(this,arguments);if(this._bMobileMode){a.columns=[new d({header:new T({text:this._getResourceTextMDC("chart.PERSONALIZATION_DIALOG_COLUMN_DESCRIPTION")+" / "+this._getResourceTextMDC("chart.PERSONALIZATION_DIALOG_COLUMN_ROLE")})}),new d()];}else{var b=new d({header:new T({text:this._getResourceTextMDC("chart.PERSONALIZATION_DIALOG_COLUMN_DESCRIPTION")})});var r=new d({header:new T({text:this._getResourceTextMDC("chart.PERSONALIZATION_DIALOG_COLUMN_ROLE")})});a.columns=[b,r,new d()];}a.mode="None";return a;};p.prototype._getCleanP13nItems=function(){return this._getP13nModel().getProperty("/items").filter(function(a){return!a.template;});};p.prototype._fireChangeItems=function(){this.fireChangeItems({items:this._getCleanP13nItems().map(function(a){return{columnKey:a.name,visible:a.visible,index:a.index,role:a.role};})});};p.prototype.onChangeOfRole=function(E){var s=E.getParameter("selectedItem");if(s){var t;if(this._bMobileMode){t=E.getSource().getParent().getParent();}else{t=E.getSource().getParent();}this.fireChange();this._updateEnableOfMoveButtons(t);}this._fireChangeItems();};p.prototype._updateEnableOfMoveButtons=function(t,b){if(!t){return;}var a,r=this._getModelItemByTableItem(t);var s=this._getP13nModel().getProperty("/items").indexOf(r);var u=true,v=true;if(!r||r.template){return;}a=this._mVisibleIndexes.has(r.kind)?this._mVisibleIndexes.get(r.kind):[];if(s==0||a.indexOf(s)===0){u=false;}if(a.indexOf(s)===a.length-1){v=false;}this._getMoveTopButton().setEnabled(u);this._getMoveUpButton().setEnabled(u);this._getMoveDownButton().setEnabled(v);this._getMoveBottomButton().setEnabled(v);if(b){this._oFocusInfo={tableItem:t};}};p.prototype._getListItemFromMoveButton=function(b){if(b&&b.getParent()&&b.getParent().getParent()){return b.getParent().getParent();}return undefined;};p.prototype._onPressButtonMoveToTop=function(E){var a=this._getListItemFromMoveButton(E.getSource());if(!a){return;}var b=this._getP13nModel().getProperty(a.getBindingContextPath());var t=this._mVisibleIndexes.get(b.kind)[0];this._oSelectedItem=a;this._moveSelectedItem(t);};p.prototype._onPressButtonMoveUp=function(E,a){if(!a){a=this._getListItemFromMoveButton(E.getSource());}if(!a){return;}var b=this._getP13nModel().getProperty(a.getBindingContextPath());var r=this._mVisibleIndexes.get(b.kind);var t=this._getP13nModel().getProperty("/items").indexOf(b);this._oSelectedItem=a;var N=r[r.indexOf(t)-1];this._moveSelectedItem(N);};p.prototype._onPressButtonMoveDown=function(E,a){if(!a){a=this._getListItemFromMoveButton(E.getSource());}if(!a){return;}var b=this._getP13nModel().getProperty(a.getBindingContextPath());var r=this._mVisibleIndexes.get(b.kind);var t=this._getP13nModel().getProperty("/items").indexOf(b);this._oSelectedItem=a;var N=r[r.indexOf(t)+1];this._moveSelectedItem(N);};p.prototype._onPressButtonMoveToBottom=function(E){var a=this._getListItemFromMoveButton(E.getSource());if(!a){return;}var b=this._getP13nModel().getProperty(a.getBindingContextPath());var r=this._mVisibleIndexes.get(b.kind)[this._mVisibleIndexes.get(b.kind).length-1];this._oSelectedItem=a;this._moveSelectedItem(r);};p.prototype._moveTableItem=function(a,N){var b=this._getP13nModel().getProperty("/items");var O=b.indexOf(a.getBindingContext(this.P13N_MODEL).getObject());this._moveItemsByIndex(O,N);};p.prototype._moveItemsByIndex=function(O,N,P){var a=this._getP13nModel().getProperty("/items");N=(N<=0)?0:Math.min(N,a.length-1);if(N==O){return;}a.splice(N,0,a.splice(O,1)[0]);a.forEach(function(b,r){if(!b.template){b.index=r;}});this._getP13nModel().setProperty("/items",a);if(!P){this._oSelectedItem=this._oListControl.getItems().find(function(b){var r=this._getModelItemByTableItem(b);return r&&r===a[N];}.bind(this));this._updateEnableOfMoveButtons(this._oSelectedItem,!P);this._handleActivated(this._oSelectedItem);}this._fireChangeItems();};p.prototype._getModelItemByTableItem=function(t){return this._getP13nModel().getProperty(t.getBindingContextPath());};p.prototype._getMoveConfigForTableItem=function(t){var a=this._getModelItemByTableItem(t);if(!a){return undefined;}return{currentIndex:this._getP13nModel().getProperty("/items").indexOf(a),aggregationRole:a.kind,template:a.template};};p.prototype._getDragDropConfig=function(){if(!this._oDragDropInfo){var a=B.prototype._getDragDropConfig.apply(this,arguments);a.attachDragStart(this._checkDragStart.bind(this));a.attachDragEnter(this._checkDrag.bind(this));a.attachDragEnd(function(){this._oDraggedItem=null;}.bind(this));return a;}return this._oDragDropInfo;};p.prototype._checkDrag=function(E){var a=E.getParameter("target");var b=this._getMoveConfigForTableItem(a);var r=this._getMoveConfigForTableItem(this._oDraggedItem);if(!b||b.template||r.aggregationRole!=b.aggregationRole){E.preventDefault();return;}};p.prototype._checkDragStart=function(E){this._oDraggedItem=E.getParameter("target");this._checkDrag(E);};p.prototype._onRearrange=function(E){var a=E.getParameter("draggedControl");var b=E.getParameter("droppedControl");var s=E.getParameter("dropPosition");var r=this._getMoveConfigForTableItem(a);var t=this._getMoveConfigForTableItem(b);if(!r||r.template||!t){E.preventDefault();return;}var u=r.currentIndex;var v=t.currentIndex;if(t.template&&s=="After"){E.preventDefault();return;}if(!t.template&&(r.aggregationRole!=undefined&&r.aggregationRole!=t.aggregationRole)){E.preventDefault();return;}if(u<v){if(s=="Before"&&v!=0){v-=1;}}else if(s=="After"){v+=1;}this._moveItemsByIndex(u,v);this._refreshP13nModel();this._updateVisibleIndexes();};p.prototype._getMoveTopButton=function(){if(this._oMoveTopBtn&&this._oMoveTopBtn.isDestroyed()){this._oMoveTopBtn=null;}return B.prototype._getMoveTopButton.apply(this,arguments);};p.prototype._getMoveUpButton=function(){if(this._oMoveUpButton&&this._oMoveUpButton.isDestroyed()){this._oMoveUpButton=null;}return B.prototype._getMoveUpButton.apply(this,arguments);};p.prototype._getMoveDownButton=function(){if(this._oMoveDownButton&&this._oMoveDownButton.isDestroyed()){this._oMoveDownButton=null;}return B.prototype._getMoveDownButton.apply(this,arguments);};p.prototype._getMoveBottomButton=function(){if(this._oMoveBottomButton&&this._oMoveBottomButton.isDestroyed()){this._oMoveBottomButton=null;}return B.prototype._getMoveBottomButton.apply(this,arguments);};p.prototype._getChartItemTextByKey=function(K){var a=sap.ui.getCore().getLibraryResourceBundle("sap.ui.mdc");var A={Dimension:[{key:M.ChartItemRoleType.category,text:a.getText('chart.PERSONALIZATION_DIALOG_CHARTROLE_CATEGORY')},{key:M.ChartItemRoleType.category2,text:a.getText('chart.PERSONALIZATION_DIALOG_CHARTROLE_CATEGORY2')},{key:M.ChartItemRoleType.series,text:a.getText('chart.PERSONALIZATION_DIALOG_CHARTROLE_SERIES')}],Measure:[{key:M.ChartItemRoleType.axis1,text:a.getText('chart.PERSONALIZATION_DIALOG_CHARTROLE_AXIS1')},{key:M.ChartItemRoleType.axis2,text:a.getText('chart.PERSONALIZATION_DIALOG_CHARTROLE_AXIS2')},{key:M.ChartItemRoleType.axis3,text:a.getText('chart.PERSONALIZATION_DIALOG_CHARTROLE_AXIS3')}]};return A[K];};p.prototype._getResourceTextMDC=function(t,v){this.oResourceBundleMDC=this.oResourceBundleMDC?this.oResourceBundleMDC:sap.ui.getCore().getLibraryResourceBundle("sap.ui.mdc");return t?this.oResourceBundleMDC.getText(t,v):this.oResourceBundleMDC;};p.prototype.exit=function(){this._fnSort=null;this.oResourceBundleMDC=null;this._bMobileMode=null;return B.prototype.exit.apply(this,arguments);};return p;});

/*!
 * OpenUI5
 * (c) Copyright 2009-2022 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.define(["sap/ui/core/Control","sap/ui/core/Core","sap/ui/core/ResizeHandler","sap/ui/dom/units/Rem"],function(C,a,R,b){"use strict";var S=400;var P=b.toPx(3.25);var O=C.extend("sap.f.cards.loading.ObjectPlaceholder",{metadata:{library:"sap.f",properties:{groups:{type:"object"},configuration:{type:"object"}},aggregations:{_rootLayout:{multiple:false,visibility:"hidden"}}},renderer:{apiVersion:2,render:function(r,o){var c=a.getLibraryResourceBundle("sap.ui.core"),t=c.getText("BUSY_TEXT");r.openStart("div",o).class("sapFCardContentPlaceholder").class("sapFCardContentObjectPlaceholder").attr("tabindex","0").attr("title",t);r.accessibilityState(o,{role:"progressbar",valuemin:"0",valuemax:"100"});r.openEnd();for(var i=0;i<o._iColsCnt;i++){this.renderColumn(r,o._iRowsCnt);}r.close("div");},renderColumn:function(r,c){r.openStart("div").class("sapFCardObjectPlaceholderColumn").openEnd();for(var i=0;i<c;i++){this.renderRow(r,"First",false);this.renderRow(r,"Second",i===c);}r.close("div");},renderRow:function(r,s,l){r.openStart("div").class("sapFCardLoadingShimmer").class("sapFCardObjectPlaceholderGroup"+s+"Row");if(l){r.class("sapFCardObjectPlaceholderGroupLastRow");}r.openEnd().close("div");}}});O.prototype.init=function(){this._iColsCnt=1;this._iRowsCnt=0;};O.prototype.exit=function(){this._deregisterResizeHandler();};O.prototype.onBeforeRendering=function(){this._deregisterResizeHandler();};O.prototype.onAfterRendering=function(){this._sResizeListenerId=R.register(this.getDomRef(),this._handleResize.bind(this));this._handleResize();};O.prototype._handleResize=function(){var A=this.$().height();var f=Math.floor(A/P);var c=this.$().width()>S?2:1;if(this._iRowsCnt!==f||this._iColsCnt!==c){this._iRowsCnt=f;this._iColsCnt=c;this.invalidate();}};O.prototype._deregisterResizeHandler=function(){if(this._sResizeListenerId){R.deregister(this._sResizeListenerId);this._sResizeListenerId="";}};return O;});

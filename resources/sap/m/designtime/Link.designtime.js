/*!
 * OpenUI5
 * (c) Copyright 2009-2022 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.define(["sap/base/util/Deferred","sap/ui/core/Fragment","sap/ui/model/json/JSONModel"],function(D,F,J){"use strict";var s=function(c,p){var t=sap.ui.getCore().getLibraryResourceBundle("sap.m.designtime");return F.load({name:"sap.m.designtime.LinkTargetSelectDialog"}).then(function(d){var m=new J({selectedKey:c.getTarget(),titleText:t.getText("LINK_DIALOG_TITLE_CHANGE_TARGET"),cancelBtn:t.getText("LINK_DIALOG_CANCEL_BTN"),okBtn:t.getText("LINK_DIALOG_OK_BTN")});d.setModel(m);var o=new D();d.getBeginButton().attachPress(function(e){var T=sap.ui.getCore().byId("targetCombo").getValue();o.resolve(T);d.close();});d.getEndButton().attachPress(function(e){o.resolve(undefined);d.close();});d.attachEventOnce("afterClose",function(e){d.destroy();});d.addStyleClass(p.styleClass);d.open();return o.promise;}).then(function(T){if(T===undefined){return[];}return[{selectorControl:c,changeSpecificData:{changeType:"changeLinkTarget",content:T}}];});};return{name:{singular:"LINK_NAME",plural:"LINK_NAME_PLURAL"},palette:{group:"ACTION",icons:{svg:"sap/m/designtime/Link.icon.svg"}},actions:{remove:{changeType:"hideControl"},reveal:{changeType:"unhideControl"},rename:{changeType:"rename",domRef:function(c){return c.$()[0];}},settings:function(){return{"changeLinkTarget":{name:"LINK_CHANGE_TARGET",isEnabled:function(c){return!!c.getHref();},handler:s}};}},templates:{create:"sap/m/designtime/Link.create.fragment.xml"}};});

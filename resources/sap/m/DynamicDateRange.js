/*!
 * OpenUI5
 * (c) Copyright 2009-2022 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.define(['sap/ui/core/InvisibleText','sap/ui/core/Element','sap/ui/core/Control','sap/ui/core/ListItem','sap/ui/core/library',"sap/ui/core/Renderer",'sap/ui/core/message/MessageMixin','sap/m/DynamicDateFormat','sap/m/DynamicDateUtil','sap/ui/core/IconPool','sap/ui/core/Icon',"sap/ui/core/LabelEnablement",'sap/ui/core/format/DateFormat','sap/ui/core/format/TimezoneUtil','sap/ui/base/ManagedObjectObserver','sap/ui/Device','./Label','./GroupHeaderListItem','./StandardListItem','./StandardListItemRenderer','./Button','./List','./Input','./InputRenderer','./Toolbar','./ResponsivePopover','./Page','./NavContainer','./DynamicDateRangeRenderer','./StandardDynamicDateOption','./library','sap/ui/thirdparty/jquery','sap/ui/dom/jquery/Focusable'],function(I,E,C,L,c,R,M,D,d,e,f,g,h,T,j,k,l,G,S,m,B,n,p,q,r,s,P,N,t,u,v,Q){"use strict";var V=c.ValueState,w=v.ToolbarDesign,x=v.ToolbarStyle,y=v.ListType,z=v.ListMode,A=v.ListSeparators,F=sap.ui.getCore().getLibraryResourceBundle("sap.m");var H=C.extend("sap.m.DynamicDateRange",{metadata:{library:"sap.m",properties:{value:{type:"object"},width:{type:"sap.ui.core.CSSSize",group:"Dimension",defaultValue:null},enabled:{type:"boolean",group:"Behavior",defaultValue:true},valueState:{type:"sap.ui.core.ValueState",group:"Appearance",defaultValue:V.None},name:{type:"string",group:"Misc",defaultValue:null},placeholder:{type:"string",group:"Misc",defaultValue:null},editable:{type:"boolean",group:"Behavior",defaultValue:true},valueStateText:{type:"string",group:"Misc",defaultValue:null},required:{type:"boolean",group:"Misc",defaultValue:false},enableGroupHeaders:{type:"boolean",group:"Behavior",defaultValue:true},formatter:{type:"object"},options:{type:"string[]",group:"Behavior",defaultValue:["DATE","TODAY","YESTERDAY","TOMORROW","FIRSTDAYWEEK","LASTDAYWEEK","FIRSTDAYMONTH","LASTDAYMONTH","FIRSTDAYQUARTER","LASTDAYQUARTER","FIRSTDAYYEAR","LASTDAYYEAR","DATERANGE","DATETIMERANGE","FROM","TO","FROMDATETIME","TODATETIME","YEARTODATE","DATETOYEAR","LASTDAYS","LASTWEEKS","LASTMONTHS","LASTQUARTERS","LASTYEARS","NEXTDAYS","NEXTWEEKS","NEXTMONTHS","NEXTQUARTERS","NEXTYEARS","TODAYFROMTO","THISWEEK","LASTWEEK","NEXTWEEK","SPECIFICMONTH","SPECIFICMONTHINYEAR","THISMONTH","LASTMONTH","NEXTMONTH","THISQUARTER","LASTQUARTER","NEXTQUARTER","QUARTER1","QUARTER2","QUARTER3","QUARTER4","THISYEAR","LASTYEAR","NEXTYEAR","DATETIME"]},hideInput:{type:"boolean",group:"Misc",defaultValue:false}},aggregations:{_input:{type:"sap.m.Input",multiple:false,visibility:"hidden"},_popup:{type:"sap.m.ResponsivePopover",multiple:false,visibility:"hidden"}},associations:{ariaLabelledBy:{type:"sap.ui.core.Control",multiple:true,singularName:"ariaLabelledBy"},ariaDescribedBy:{type:"sap.ui.core.Control",multiple:true,singularName:"ariaDescribedBy"}},events:{change:{parameters:{value:{type:"object"},valid:{type:"boolean"}}}}},renderer:t});M.call(H.prototype);H.prototype.init=function(){this._oInput=new K(this.getId()+"-input",{showValueHelp:true,valueHelpIconSrc:e.getIconURI("sap-icon://check-availability"),valueHelpRequest:this._toggleOpen.bind(this),showSuggestion:true,suggest:this._handleSuggest.bind(this)});this._oListItemDelegate=undefined;this._onBeforeInputRenderingDelegate={onBeforeRendering:function(){this._oInput._getValueHelpIcon().setVisible(true);}};this._oInput._getValueHelpIcon().setTooltip(F.getText("INPUT_VALUEHELP_BUTTON"));this._oInput.addDelegate(this._onBeforeInputRenderingDelegate,this);this.setAggregation("_input",this._oInput,false);this._oInput._setControlOrigin(this);this._oInput.attachChange(this._handleInputChange,this);this.oValueObserver=new j(function(){delete this.oBoundValueFormatter;}.bind(this));this.oValueObserver.observe(this,{bindings:["value"]});};H.prototype.exit=function(){this._oInput.removeDelegate(this._onBeforeInputRenderingDelegate);this._onBeforeInputRenderingDelegate=undefined;this.oValueObserver.destroy();this._infoDatesFooter=undefined;this.aInputControls=undefined;this._removeAllListItemDelegates();};H.prototype._removeAllListItemDelegates=function(){if(this._oOptionsList){this._oOptionsList.getItems().forEach(function(i){i.removeDelegate(this._oListItemDelegate);},this);}};H.prototype.onBeforeRendering=function(){this._updateInputValue(this.getValue());this._oInput.setEditable(this.getEditable());this._oInput.setEnabled(this.getEnabled());this._oInput.setRequired(this.getRequired());this._oInput.setName(this.getName());this._oInput.setWidth(this.getWidth());this._oInput.setPlaceholder(this.getPlaceholder());this._oInput.setValueState(this.getValueState());this._oInput.setValueStateText(this.getValueStateText());this.setValue(this._substitudeMissingValue(this.getValue()));};H.prototype.setValue=function(o){var a=o&&o.operator;o=this._substitudeValue(o);this.setProperty("value",o);this._oSelectedOption=d.getOption(a);this._updateInputValue(o);return this;};H.prototype._toggleOpen=function(){if(this._oPopup&&this._oPopup.isOpen()){this._closePopup();}else{this.open();}};H.prototype.open=function(o){if(this.getEditable()&&this.getEnabled()){this._createPopup();this._createPopupContent();if(!this._oListItemDelegate){this._oListItemDelegate={onsapshow:this._closePopup.bind(this),onsaphide:this._closePopup.bind(this)};}this._removeAllListItemDelegates();this._oOptionsList.destroyAggregation("items");this._collectValueHelpItems(this._getOptions(),true).map(function(a){if(typeof(a)==="string"){return this._createHeaderListItem(a);}if(a.getKey()==="FROMDATETIME"){a._bAdditionalTimeText=!!this._findOption("FROM");}else if(a.getKey()==="TODATETIME"){a._bAdditionalTimeText=!!this._findOption("TO");}else if(a.getKey()==="DATETIMERANGE"){a._bAdditionalTimeText=!!this._findOption("DATERANGE");}return this._createListItem(a);},this).forEach(function(i){i.addDelegate(this._oListItemDelegate,this);this._oOptionsList.addItem(i);},this);this._oNavContainer.to(this._oNavContainer.getPages()[0]);this._openPopup(o);}};H.prototype._findOption=function(a){return this._getOptions().find(function(o){return o.getKey()===a;});};H.prototype.addOption=function(a){var o=this.getOptions();if(o.indexOf(a)===-1){o.push(a);}this.setOptions(o);};H.prototype.getFocusDomRef=function(){return this.getAggregation("_input")&&this.getAggregation("_input").getFocusDomRef();};H.prototype._updateInputValue=function(o){var i;if(o&&o.operator!=="PARSEERROR"){i=this._enhanceInputValue(this._formatValue(o),o);this._oInput.setValue(i);}else if(o===undefined){this._oInput.setValue("");}};H.prototype._handleSuggest=function(o){if(this._oPopup&&this._oPopup.isOpen()){this._closePopup();}var a=o.getParameter("suggestValue");this._oInput.removeAllSuggestionItems();var b=this._getOptions().filter(function(U){var W={operator:U.getKey(),values:[]},X=U.getValueHelpUITypes(this);if(X.length&&X[0].getType()){return false;}var Y=d.getOption(W.operator).format(W,this._getFormatter()).toLowerCase();var Z=Y.indexOf(a.toLowerCase());return Z===0||(Z>0&&Y[Z-1]===" ");},this);this._collectValueHelpItems(b,true).forEach(function(U){if(U.getKey){var W={operator:U.getKey(),values:[]};this._addSuggestionItem(W);}else{this._addSuggestionGroupItem(U);}},this);var i=a.match(/\d+/);if(!i){return;}b=this._getOptions().filter(function(U){return U.getValueHelpUITypes(this).length===1&&U.getValueHelpUITypes(this)[0].getType()==="int";},this);this._collectValueHelpItems(b,false).forEach(function(U){if(U.getKey){var W={operator:U.getKey(),values:[parseInt(i[0])]};this._addSuggestionItem(W);}else{this._addSuggestionGroupItem(U);}},this);};H.prototype._getOptions=function(){var a=this.getOptions();var b=a.map(function(i){return d.getOption(i);},this);return b.filter(function(o){return!!o;});};H.prototype._getDatesLabelFormatter=function(){var o,a=this._oSelectedOption?this._oSelectedOption.getValueHelpUITypes():[],b=a&&a.length?a[0].getType():"";if(!this._oDatesLabelFormatter){switch(b){case"datetime":o=Object.create(this._getFormatter()._dateTimeFormatter.oFormatOptions);o.singleIntervalValue=true;o.interval=true;this._oDatesLabelFormatter=h.getDateTimeInstance(o);break;default:o=Object.create(this._getFormatter()._dateFormatter.oFormatOptions);o.singleIntervalValue=true;o.interval=true;this._oDatesLabelFormatter=h.getInstance(o);}}return this._oDatesLabelFormatter;};H.prototype._destroyInputControls=function(){if(!this.aInputControls){return;}this.aInputControls.forEach(function(o){o.destroy();});this.aInputControls=undefined;};H.prototype._addSuggestionItem=function(o){var b=this._checkFormatterUTCTimezone(o);var a=d.toDates(o);var U=[];for(var i=0;i<a.length;i++){U[i]=this._convertDate(a[i],b);}var W=new L({text:d.getOption(o.operator).format(o,this._getFormatter()),additionalText:this._getDatesLabelFormatter().format(U)});this._oInput.addSuggestionItem(W);};H.prototype._addSuggestionGroupItem=function(a){this._oInput.addSuggestionItemGroup({text:a});};H.prototype._handleInputChange=function(o){var i=o.getParameter("value");var a=this._parseValue(this._stripValue(i));var b=this.getValue();var U=i.trim()===""||!!a;if(!U){this.setValue({operator:"PARSEERROR",values:[F.getText("DDR_WRONG_VALUE"),i]});}else{this.setValue(a);}this.fireChange({value:this.getValue(),prevValue:b,valid:U});};H.prototype._enhanceInputValue=function(a,o){if(d.getOption(o.operator).enhanceFormattedValue()||(o.operator==="LASTDAYS"&&o.values[0]<=1)||(o.operator==="NEXTDAYS"&&o.values[0]<=1)){return a+" ("+this._toDatesString(o)+")";}return a;};H.prototype._stripValue=function(a){var o=a.indexOf("(");var i=a.lastIndexOf(")");var b=a;if(o!==-1&&i!==-1&&o<i){b=a.slice(0,o)+a.slice(i+1);b=b.trim();}return b;};H.prototype._toDatesString=function(o){var b=this._checkFormatterUTCTimezone(o);var a=d.toDates(o);var U=[];for(var i=0;i<a.length;i++){U[i]=this._convertDate(a[i],b);}return this._getDatesLabelFormatter().format(U);};H.prototype._convertDate=function(o,U){var a=this._getPickerParser().format(o,T.getLocalTimezone());var b=U?"UTC":sap.ui.getCore().getConfiguration().getTimezone();var i=this._getPickerParser().parse(a,b);var W=i?new Date(i[0].getTime()):i;return W;};H.prototype._reverseConvertDate=function(o){var a=this._getPickerParser().format(o,sap.ui.getCore().getConfiguration().getTimezone());var b=this._getPickerParser().parse(a,T.getLocalTimezone());var i=b?new Date(b[0].getTime()):b;return i;};H.prototype._getPickerParser=function(){if(!this._calendarParser){this._calendarParser=h.getDateTimeWithTimezoneInstance({showTimezone:false});}return this._calendarParser;};H.prototype._createPopup=function(){if(!this._oPopup){this._oPopup=new s(this.getId()+"-RP",{contentHeight:'512px',contentWidth:'320px',showCloseButton:false,showArrow:false,showHeader:false,placement:v.PlacementType.VerticalPreferedBottom,ariaLabelledBy:[I.getStaticId("sap.m","INPUT_AVALIABLE_VALUES")]});this._oPopup.addStyleClass("sapMDDRPopover");if(k.system.phone){this._oPopup.addStyleClass("sapUiNoContentPadding");}else{this._oPopup._oControl._getSingleNavContent=function(){return null;};}this._oPopup.attachAfterOpen(function(){var o=this._oNavContainer.getPages()[0];this._applyNavContainerPageFocus(o);this.invalidate();},this);this._oPopup.attachAfterClose(function(){this._oPreviousSelectedOption=this._oSelectedOption;this._setFooterVisibility(false);this.invalidate();},this);this._oPopup.setBeginButton(new B({type:v.ButtonType.Emphasized,text:F.getText("DYNAMIC_DATE_RANGE_CONFIRM"),press:this._applyValue.bind(this)}));this._oPopup.setEndButton(new B({text:F.getText("DYNAMIC_DATE_RANGE_CANCEL"),press:function(){this._oSelectedOption=this._oPreviousSelectedOption;this._oDatesLabelFormatter=null;this._closePopup();}.bind(this)}));this._setFooterVisibility(false);this._oPopup._getPopup().setAutoClose(true);this.setAggregation("_popup",this._oPopup,true);}};H.prototype._collectValueHelpItems=function(i,o){var U;var W;var X=[];var Y=i;var Z=d.getStandardKeys();Y.sort(function(a,b){var $=a.getGroup()-b.getGroup();if($){return $;}return Z.indexOf(a.getKey())-Z.indexOf(b.getKey());});if(o){Y=Y.reduce(function(a,b){if(u.LastXKeys.indexOf(b.getKey())!==-1){if(U){return a;}U=true;}if(u.NextXKeys.indexOf(b.getKey())!==-1){if(W){return a;}W=true;}a.push(b);return a;},[]);}if(this.getEnableGroupHeaders()){Y=Y.reduce(function(a,b){var $=b.getGroupHeader();if(X.indexOf($)===-1){X.push($);a.push($);}a.push(b);return a;},[]);}return Y;};H.prototype._createListItem=function(o){var i=this._isFixedOption(o);return new O(this.getId()+"-option-"+o.getKey().replaceAll(" ",""),{type:i?y.Active:y.Navigation,title:o.getText(this),wrapping:true,optionKey:o.getKey(),press:this._handleOptionPress.bind(this)});};H.prototype._createHeaderListItem=function(a){var o=new G();o.setTitle(a);o._bGroupHeader=true;return o;};H.prototype._handleOptionPress=function(o){var a=o.getSource().getOptionKey(),b=d.getOption(a);if(this._oPreviousSelectedOption&&this._oPreviousSelectedOption.getKey()!==a){this._oDatesLabelFormatter=null;}this._oPreviousSelectedOption=this._oSelectedOption;this._oSelectedOption=b;if(this._isFixedOption(b)){this._applyValue();}else{var i=this._createInfoDatesFooter();this._destroyInputControls();this.aInputControls=b.createValueHelpUI(this,this._updateInternalControls.bind(this));var U=this._oNavContainer.getPages()[1];U.removeAllContent();this.aInputControls.forEach(function(W){U.addContent(W);});U.setFooter(i);U.setTitle(b.getText(this));this._setFooterVisibility(true);this._updateInternalControls(b);this._oNavContainer.to(U);}};H.prototype._isFixedOption=function(o){return!o.getValueHelpUITypes(this).length;};H.prototype._createInfoDatesFooter=function(){this._infoDatesFooter=new r({design:w.Info,style:x.Clear,content:[new l({text:F.getText("DDR_INFO_DATES_EMPTY_HINT")})]});return this._infoDatesFooter;};H.prototype._getDatesLabel=function(){return this._infoDatesFooter.getContent()[0];};H.prototype._updateDatesLabel=function(){var o=this._oSelectedOption.getValueHelpOutput(this),b=this._checkFormatterUTCTimezone(o),a=[],U;var W=d.toDates(o);if(!o||!o.operator||!d.getOption(o.operator)){return;}for(var i=0;i<W.length;i++){a[i]=this._convertDate(W[i],b);}if(a){if(this._oSelectedOption.getKey()==="FROMDATETIME"||this._oSelectedOption.getKey()==="TODATETIME"||this._oSelectedOption.getKey()==="FROM"||this._oSelectedOption.getKey()==="TO"){a.push(null);}U=this._getDatesLabelFormatter().format(a);this._getDatesLabel().setText(F.getText("DDR_INFO_DATES",[U]));}};H.prototype._setApplyButtonEnabled=function(b){if(!this._oPopup){return;}var a=this._oPopup.getBeginButton();if(a.getVisible()){a.setEnabled(b);}};H.prototype._updateInternalControls=function(o){var b=o.validateValueHelpUI(this);if(b){this._updateDatesLabel();}this._setApplyButtonEnabled(b);};H.prototype._setFooterVisibility=function(b){var o;if(!this._oPopup){return;}o=this._oPopup.getAggregation("_popup");if(k.system.phone){this._oPopup.getBeginButton().setVisible(b);}else{o.getFooter().setVisible(b);}o.invalidate();return this;};H.prototype._createPopupContent=function(){var o=new P({showHeader:false,showNavButton:false}),a=new P({showHeader:true,showNavButton:true}).addStyleClass("sapMDynamicDateRangePopover");a.attachNavButtonPress(function(){this._setFooterVisibility(false);this._oNavContainer.back();},this);if(k.system.phone){o.setShowHeader(true);o.setTitle(this._getOptionsPageTitleText());}if(!this._oOptionsList){this._oOptionsList=new n({showSeparators:A.None,mode:z.SingleSelectMaster});}if(!this._oNavContainer){this._oNavContainer=new N({autoFocus:false});this._oNavContainer.addPage(o);this._oNavContainer.setInitialPage(o);this._oNavContainer.addPage(a);this._oNavContainer.attachAfterNavigate(this._navContainerAfterNavigate,this);this._oPopup.addContent(this._oNavContainer);}this._oNavContainer.getPages()[0].removeAllContent();this._oNavContainer.getPages()[0].addContent(this._oOptionsList);return this._oOptionsList;};H.prototype._applyNavContainerPageFocus=function(o){var a=this.getValue(),b=this._oNavContainer.getPages()[0],i;if(o===b&&a){i=this._oOptionsList.getItems().find(function(U){return U.isA("sap.m.DynamicDateRangeListItem")&&(U.getOptionKey()===a.operator);});}if(!i){i=Q(o.getDomRef().querySelector("section")).firstFocusableDomRef();}i.focus();i&&i.setSelected&&i.setSelected(true);this._reApplyFocusToElement(o,a);};H.prototype._reApplyFocusToElement=function(o,a){};H.prototype._getOptionsPageTitleText=function(){return g.getReferencingLabels(this).concat(this.getAriaLabelledBy()).reduce(function(a,b){var o=E.registry.get(b);return a+" "+(o.getText?o.getText():"");},"").trim();};H.prototype._navContainerAfterNavigate=function(o){var a=this._oNavContainer.getPages()[1],b=o.getParameters()["to"];if(b===a){this.aInputControls.forEach(function(i){if(i.$().firstFocusableDomRef()){i.addAriaLabelledBy&&i.addAriaLabelledBy(b.getId()+"-title");if(!this._isCalendarBasedControl(i)&&i.addAriaDescribedBy){i.addAriaDescribedBy(b.getFooter().getContent()[0]);}}},this);}if(this._oPopup&&this._oPopup.isOpen()){this._applyNavContainerPageFocus(b);}else{this.focus();}};H.prototype._isCalendarBasedControl=function(o){return o.isA("sap.ui.unified.Calendar")||o.isA("sap.ui.unified.calendar.CustomMonthPicker")||o.isA("sap.ui.unified.calendar.MonthPicker")||o.isA("sap.ui.unified.calendar.YearPicker")||o.isA("sap.ui.unified.calendar.YearRangePicker")||o.isA("sap.ui.unified.calendar.Month");};H.prototype.openBy=function(o){this.open(o);};H.prototype._openPopup=function(o){if(!this._oPopup){return;}this._oPopup._getPopup().setExtraContent([this._oInput.getDomRef()]);this._oPopup.openBy(o||this._oInput);};H.prototype._applyValue=function(){this._oOutput=this._oSelectedOption.getValueHelpOutput(this);var a=this._checkFormatterUTCTimezone(this._oOutput);var b=d.toDates(this._oOutput);for(var i=0;i<b.length;i++){if(this._oOutput.values[i]instanceof Date){this._oOutput.values[i]=this._convertDate(b[i],a);}}var o=this.getValue();this.setValue(this._oOutput);this.fireChange({prevValue:o,value:this.getValue(),valid:true});this._closePopup();};H.prototype._closePopup=function(){this._setFooterVisibility(false);this._oNavContainer.to(this._oNavContainer.getPages()[0]);this._oPopup.close();};H.prototype._getFormatter=function(){var o=this.getFormatter(),b;if(o){return o;}if(this.oBoundValueFormatter){return this.oBoundValueFormatter;}b=this.getBinding("value");if(b&&b.getType()){this.oBoundValueFormatter=D.getInstance(b.getType().oFormatOptions);return this.oBoundValueFormatter;}if(!this.oDefaultFormatter){this.oDefaultFormatter=D.getInstance();}return this.oDefaultFormatter;};H.prototype._formatValue=function(o){return d.getOption(o.operator).format(o,this._getFormatter());};H.prototype._parseValue=function(i){var a=d.parse(i,this._getFormatter(),this.getOptions()).filter(function(o){return this.getOptions().indexOf(o.operator)!==-1;},this);return a.length?a[0]:null;};H.prototype._substitudeValue=function(o){var a,b,i;if(!o||!o.operator||!o.values){return o;}a=o.operator;b=o.values;if(a==="LASTDAYS"&&b[0]===1&&this.getOptions().includes("YESTERDAY")){i={operator:"YESTERDAY",values:[]};}else if(a==="NEXTDAYS"&&b[0]===1&&this.getOptions().includes("TOMORROW")){i={operator:"TOMORROW",values:[]};}else if((a==="LASTDAYS"||a==="NEXTDAYS")&&b[0]===0){i={operator:"TODAY",values:[]};}return i?i:o;};H.prototype.getIdForLabel=function(){return this.getAggregation("_input").getIdForLabel();};H.prototype._substitudeMissingValue=function(o){var a=o;if(o&&o.operator==="YESTERDAY"&&!this.getOptions().includes("YESTERDAY")&&this.getOptions().includes("LASTDAYS")){a={operator:"LASTDAYS",values:[1]};}else if(o&&o.operator==="TOMORROW"&&!this.getOptions().includes("TOMORROW")&&this.getOptions().includes("NEXTDAYS")){a={operator:"NEXTDAYS",values:[1]};}return a;};H.prototype._checkFormatterUTCTimezone=function(o){return this._getFormatter()._checkFormatterUTCTimezone(o.operator);};var J=R.extend(q);J.apiVersion=2;J.writeInnerAttributes=function(o,a){var b=a._getControlOrigin?a._getControlOrigin():null,i=this.getAccessibilityState(a);if(b&&b.isA("sap.m.DynamicDateRange")){o.accessibilityState(b,i);}o.attr("type","text");};J.getAccessibilityState=function(o){var a=q.getAccessibilityState(o),b=o._getControlOrigin(),i=b.getAriaLabelledBy(),U=g.getReferencingLabels(b),W=b.getAriaDescribedBy().join(" "),X;X=U.concat(i).join(" ");if(W){a.describedby=W;}if(X){a.labelledby=X;}a.roledescription=F.getText("ACC_CTR_TYPE_DYNAMIC_DATE_RANGE");a.role=this.getAriaRole();a.haspopup=c.aria.HasPopup.ListBox.toLowerCase();a.autocomplete="list";a.controls=b._oPopup&&b._oPopup.getDomRef()?b._oPopup.getDomRef().id:undefined;return a;};var K=p.extend("sap.m.internal.DynamicDateRangeInput",{metadata:{library:"sap.m"},renderer:J});K.prototype._setControlOrigin=function(o){this._oOriginControl=o;return this._oOriginControl;};K.prototype._getControlOrigin=function(){return this._oOriginControl;};K.prototype.preventChangeOnFocusLeave=function(o){return this.bFocusoutDueRendering;};K.prototype.shouldSuggetionsPopoverOpenOnMobile=function(o){var i=o.srcControl instanceof f;return this.isMobileDevice()&&this.getEditable()&&this.getEnabled()&&this.getShowSuggestion()&&!i&&(!this._bClearButtonPressed);};K.prototype.onfocusin=function(o){var a=this._getControlOrigin()._oPopup;p.prototype.onfocusin.apply(this,arguments);if(a&&a.isOpen()&&(k.system.desktop||k.system.combi)){this._getControlOrigin()._closePopup();}};var O=S.extend("sap.m.DynamicDateRangeListItem",{metadata:{library:"sap.m",properties:{optionKey:{type:"string",group:"Misc",defaultValue:null}}},renderer:m});O.prototype.hasActiveType=function(){return true;};O.prototype.isIncludedIntoSelection=function(){return false;};O.prototype.onsapspace=function(o){o.preventDefault();};O.prototype.getNavigationControl=function(){var o=S.prototype.getNavigationControl.apply(this,arguments),a=this.getOptionKey(),b=d.getOption(a).getValueTypes(),i=["SPECIFICMONTH","DATE","DATERANGE","FROM","TO"].includes(a),U=b&&b.length&&b[0]==="datetime",W;if(i||U){o.addStyleClass("sapMDDRDateOption");W=i?e.getIconURI("appointment-2"):e.getIconURI("date-time");}else{W=e.getIconURI("slim-arrow-right");}o.setSrc(W);return o;};return H;});

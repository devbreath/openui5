/*!
 * OpenUI5
 * (c) Copyright 2009-2022 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.define([],function(){"use strict";function p(a){var r=new Headers();a.trim().split("\r\n").forEach(function(h){if(h){var b=h.indexOf(": ");if(b>0){r.append(h.slice(0,b),h.slice(b+2));}else{r.append(h,"");}}});return r;}function S(x,P){this.xhr=x;var h=p(this.xhr.getAllResponseHeaders());Object.defineProperties(this,{headers:{value:h},ok:{value:this.xhr.status>=200&&this.xhr.status<300},status:{value:this.xhr.status},statusText:{value:this.xhr.statusText}});this.json=function(){if(this.xhr.responseType==="json"){return P.resolve(this.xhr.response);}else{try{var d=JSON.parse(this.xhr.responseText);return P.resolve(d);}catch(e){return P.reject(e);}}};this.text=function(){return P.resolve(this.xhr.responseText);};}var A=["include","omit","same-origin"];function f(r,i,_){i=Object.assign({body:null,credentials:"same-origin",method:"GET",signal:new AbortController().signal},i);var P=(_&&_.promiseImpl)||Promise;return new P(function(a,b){var u=new URL(r,document.baseURI);if(u.username||u.password){b(new TypeError("Failed to execute 'fetch': Request cannot be constructed from a URL that includes credentials:"+r));}r=r.replace(/^\/\//,u.protocol+"//");if(i.body!==null&&(i.method=="GET"||i.method=="HEAD")){b(new TypeError("Failed to execute 'fetch': Request with GET/HEAD method cannot have body."));}var x=new XMLHttpRequest();x.addEventListener("load",function(){var R=new S(x,P);if(_&&_.responseMixin){_.responseMixin.apply(R);}a(R);});x.addEventListener("error",function(){b(new TypeError("Failed to fetch."));});x.open(i.method,r,_?false:true);i.signal.addEventListener("abort",function(){x.abort();b(new DOMException("The user aborted a request.","AbortError"));});var h;if(i.headers instanceof Headers){h=Object.fromEntries(i.headers);}else{h=i.headers||{};}Object.keys(h).forEach(function(k){x.setRequestHeader(k,h[k]);});if(A.includes(i.credentials)){if(i.credentials==="omit"){x.withCredentials=false;}else if(i.credentials==="include"){x.withCredentials=true;}}else{b(new TypeError("Failed to execute 'fetch': Failed to read the 'credentials' property from 'RequestInit': The provided value "+i.credentials+" is not a valid enum value of type RequestCredentials."));}try{x.send(i.body);}catch(e){b(new TypeError(e.message));}});}f.ContentTypes={TEXT:"text/plain",HTML:"text/html",XML:"application/xml, text/xml",JSON:"application/json, text/javascript"};return f;});
